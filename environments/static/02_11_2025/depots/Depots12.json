{
    "name": "Depots12",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "domain_expert",
            "grounding_expert",
            "plan_checker",
            "orchestrator"
        ],
        "domain_expert": {
            "private_information": [
                "I specialize in extracting clean, unambiguous action schemas and predicate inventories from natural-language specs.",
                "I never output PDDL directly; I provide a structured model sketch that others can compile into PDDL."
            ],
            "goal": "Produce a precise, redundancy-free action model sketch (predicates and action schemas with preconditions and effects) for the toy world so the orchestrator can generate a correct PDDL domain."
        },
        "grounding_expert": {
            "private_information": [
                "I focus on objects, initial states, and goals for concrete scenarios.",
                "I never output PDDL directly; I provide grounded instance data in a structured, machine-readable format."
            ],
            "goal": "Provide object lists and the grounded initial facts and goals for both scenarios, with emphasis on Scenario B, so the orchestrator can build the final PDDL problem."
        },
        "plan_checker": {
            "private_information": [
                "I validate plans against action schemas and identify invariants and constraints that can strengthen the model.",
                "I never output PDDL directly; I deliver a validation report and useful invariants."
            ],
            "goal": "Validate the given reference plan for Scenario A, report any inconsistencies, and extract invariants or domain notes that help the orchestrator finalize a consistent PDDL model."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate all agents and compile their outputs into a final PDDL domain and problem for the Fast Downward solver."
            ],
            "goal": "Integrate the model sketch, instance data, and validation report to produce a final, solver-ready PDDL domain and PDDL problem for Scenario B."
        }
    },
    "environment": {
        "init": {
            "typing": "untyped",
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8",
                "object_9",
                "object_10",
                "object_11",
                "object_12"
            ]
        },
        "public_information": [
            "World description: You manipulate a set of objects using six actions: paltry, sip, clip, wretched, memory, and tightfisted. Predicates used include hand(x), cats(x), sneeze(x), spring(x), texture(x), stupendous(x), vase(x y), collect(x y), and next(x y).",
            "Action paltry(o0, o1, o2): Preconditions: hand o0, cats o1, texture o2, vase o0 o1, next o1 o2. Effects: add next o0 o2; delete vase o0 o1.",
            "Action sip(o0, o1, o2): Preconditions: hand o0, cats o1, texture o2, next o0 o2, next o1 o2. Effects: add vase o0 o1; delete next o0 o2.",
            "Action clip(o0, o1, o2): Preconditions: hand o0, sneeze o1, texture o2, next o1 o2, next o0 o2. Effects: add vase o0 o1; delete next o0 o2.",
            "Action wretched(o0, o1, o2, o3): Preconditions: sneeze o0, texture o1, texture o2, stupendous o3, next o0 o1, collect o1 o3, collect o2 o3. Effects: add next o0 o2; delete next o0 o1.",
            "Action memory(o0, o1, o2): Preconditions: cats o0, spring o1, spring o2, next o0 o1. Effects: add next o0 o2; delete next o0 o1.",
            "Action tightfisted(o0, o1, o2): Preconditions: hand o0, sneeze o1, texture o2, next o1 o2, vase o0 o1. Effects: add next o0 o2; delete vase o0 o1.",
            "Scenario A initial facts: cats object_0, collect object_5 object_1, collect object_6 object_1, collect object_7 object_2, collect object_8 object_2, hand object_10, hand object_11, hand object_9, next object_0 object_5, next object_10 object_5, next object_11 object_5, next object_3 object_6, next object_4 object_7, next object_9 object_8, sneeze object_3, sneeze object_4, spring object_5, spring object_7, stupendous object_1, stupendous object_2, texture object_5, texture object_6, texture object_7, texture object_8.",
            "Scenario A goal: next object_10 object_8, next object_11 object_7, next object_9 object_6.",
            "Scenario A reference plan: sip object_11 object_0 object_5; sip object_10 object_0 object_5; memory object_0 object_5 object_7; paltry object_11 object_0 object_7; paltry object_10 object_0 object_7; clip object_10 object_4 object_7; wretched object_4 object_7 object_8 object_2; clip object_9 object_4 object_8; tightfisted object_10 object_4 object_8; wretched object_4 object_8 object_7 object_2; tightfisted object_9 object_4 object_7; sip object_9 object_0 object_7; memory object_0 object_7 object_5; paltry object_9 object_0 object_5; wretched object_3 object_6 object_5 object_1; clip object_9 object_3 object_5; wretched object_3 object_5 object_6 object_1; tightfisted object_9 object_3 object_6.",
            "Scenario B initial facts: cats object_0, cats object_1, collect object_6 object_2, collect object_7 object_2, collect object_8 object_3, collect object_9 object_3, hand object_10, hand object_11, hand object_12, next object_0 object_6, next object_1 object_8, next object_10 object_9, next object_11 object_6, next object_12 object_6, next object_4 object_7, next object_5 object_8, sneeze object_4, sneeze object_5, spring object_6, spring object_8, stupendous object_2, stupendous object_3, texture object_6, texture object_7, texture object_8, texture object_9.",
            "Scenario B goal: next object_10 object_7, next object_11 object_9, next object_12 object_8."
        ]
    },
    "workflow": {
        "domain_expert": {
            "extract_schema": {
                "input": [],
                "output": "model_sketch",
                "system_prompt": "You are an action-modeling expert. From the public information, distill a clean action model and predicate inventory without emitting PDDL.",
                "prompt": "Your name is domain_expert. Using the public information {environment->public_information}, extract a normalized action model sketch. Return a concise, machine-readable JSON with fields: predicates: list of predicate signatures using names exactly as provided; actions: a map from action name to an object containing parameters (ordered placeholders like ?o0, ?o1, ...), preconditions_pos, preconditions_neg, effects_add, effects_del, all as lists of predicate atoms using the parameter placeholders. Do not output PDDL. Do not invent new predicates or actions."
            }
        },
        "grounding_expert": {
            "compile_instances": {
                "input": [],
                "output": "instance_data",
                "system_prompt": "You specialize in grounding: produce objects, initial states, and goals for concrete scenarios without emitting PDDL.",
                "prompt": "Your name is grounding_expert. From {environment->public_information}, extract the object universe and the grounded facts and goals for both scenarios. Return a JSON object with fields: objects: list of all object symbols; scenario_A: { init: list of ground atoms, goal: list of ground atoms, plan: list of ground action strings from the reference plan }, scenario_B: { init: list of ground atoms, goal: list of ground atoms }. Keep atom names and argument orders exactly as in the public information. Do not output PDDL."
            }
        },
        "plan_checker": {
            "analyze_first_plan": {
                "input": [
                    "model_sketch",
                    "instance_data"
                ],
                "output": "validation_report",
                "system_prompt": "You validate plans against action schemas and extract invariants; you do not emit PDDL.",
                "prompt": "Your name is plan_checker. Use the model sketch {model_sketch} and instance data {instance_data}. Validate the Scenario A reference plan step by step. Return a JSON with fields: valid: boolean, violations: list of objects describing the first failing step if any with fields {index, step, reason}, derived_invariants: list of state invariants or mutexes suggested by the plan and model, modeling_notes: list of clarifications or aliasing notes. Keep terminology consistent with the provided predicates and actions. Do not output PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_sketch",
                    "instance_data",
                    "validation_report"
                ],
                "output": "pddl_fd",
                "system_prompt": "You are an expert in multi-agent orchestration and PDDL for classical planning. Produce a final PDDL domain and PDDL problem compatible with the Fast Downward solver. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags.",
                "prompt": "Integrate the model sketch {model_sketch}, the instance data {instance_data}, and the validation report {validation_report}. Produce the final PDDL for Scenario B only, targeting the Fast Downward solver. Requirements should be minimal (e.g., :strips). Use exactly the predicate and action names given in the model sketch, preserving arities and semantics. The domain must define all predicates and actions paltry, sip, clip, wretched, memory, and tightfisted with their parameters and preconditions/effects. The problem must list all objects from Scenario B, set init to the Scenario B initial facts, and goal to the Scenario B goal facts. Do not invent new predicates or change names. Ensure the output is strictly two blocks: one <domain>...</domain> block and one <problem>...</problem> block, both syntactically valid for Fast Downward."
            }
        },
        "constraints": [
            "domain_expert.extract_schema->orchestrator.pddl",
            "grounding_expert.compile_instances->orchestrator.pddl",
            "plan_checker.analyze_first_plan->orchestrator.pddl"
        ]
    }
}