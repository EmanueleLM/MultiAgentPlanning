{
    "name": "Depots5",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "facts_agent",
            "actions_agent",
            "validator",
            "orchestrator"
        ],
        "facts_agent": {
            "private_information": [
                "You are responsible for extracting objects, predicates, initial states, goals, and candidate plans from public information.",
                "Normalize symbols and ensure consistent naming for objects object_0 through object_9 and predicates cats, collect, hand, next, sneeze, spring, stupendous, texture, vase."
            ],
            "goal": "Produce a clean, structured summary of the two scenarios including object universe, predicate signatures, initial facts, goals, and the candidate plan of Scenario 1. Do not produce PDDL."
        },
        "actions_agent": {
            "private_information": [
                "You specialize in action modeling and should infer action schemas from natural language descriptions.",
                "Represent preconditions and effects as JSON with add and delete lists, mirroring STRIPS semantics, but do not emit PDDL."
            ],
            "goal": "Deliver action schemas for paltry, sip, clip, wretched, memory, and tightfisted with their parameters and exact preconditions and effects as neutral JSON suitable for later translation to PDDL. Do not produce PDDL."
        },
        "validator": {
            "private_information": [
                "You validate plans by simulating actions over a state using the provided neutral action schemas.",
                "You must check that all preconditions hold before each step and update the state by adding positive effects and removing negative effects."
            ],
            "goal": "Validate the Scenario 1 candidate plan against the extracted initial state and action schemas. Report validity, the first failing step if any, and the final achieved facts. Do not produce PDDL."
        },
        "orchestrator": {
            "private_information": [
                "You integrate the structured facts, action schemas, and validation results.",
                "Your output must be a final PDDL domain and a single PDDL problem targeting the FastDownward solver."
            ],
            "goal": "Produce a PDDL domain and a PDDL problem for Scenario 2 that FastDownward can solve. Ensure the action definitions match the provided schemas and the initial state and goal are taken from Scenario 2."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 0
        },
        "public_information": [
            "Universe of objects: object_0, object_1, object_2, object_3, object_4, object_5, object_6, object_7, object_8, object_9.",
            "Predicates: cats(x), collect(x y), hand(x), next(x y), sneeze(x), spring(x), stupendous(x), texture(x), vase(x y).",
            "Action paltry x y z. Preconditions: hand x, cats y, texture z, vase x y, next y z. Effects add: next x z. Effects del: vase x y.",
            "Action sip x y z. Preconditions: hand x, cats y, texture z, next x z, next y z. Effects add: vase x y. Effects del: next x z.",
            "Action clip x y z. Preconditions: hand x, sneeze y, texture z, next y z, next x z. Effects add: vase x y. Effects del: next x z.",
            "Action wretched w x y z. Preconditions: sneeze w, texture x, texture y, stupendous z, next w x, collect x z, collect y z. Effects add: next w y. Effects del: next w x.",
            "Action memory x y z. Preconditions: cats x, spring y, spring z, next x y. Effects add: next x z. Effects del: next x y.",
            "Action tightfisted x y z. Preconditions: hand x, sneeze y, texture z, next y z, vase x y. Effects add: next x z. Effects del: vase x y.",
            "Scenario 1 initial facts: cats object_0, collect object_5 object_1, collect object_6 object_1, collect object_7 object_2, collect object_8 object_2, hand object_9, next object_0 object_7, next object_3 object_5, next object_4 object_7, next object_9 object_7, sneeze object_3, sneeze object_4, spring object_5, spring object_7, stupendous object_1, stupendous object_2, texture object_5, texture object_6, texture object_7, texture object_8.",
            "Scenario 1 goal: next object_9 object_8.",
            "Scenario 1 candidate plan steps: clip object_9 object_4 object_7; wretched object_4 object_7 object_8 object_2; tightfisted object_9 object_4 object_8.",
            "Scenario 2 initial facts: cats object_0, collect object_5 object_1, collect object_6 object_1, collect object_7 object_2, collect object_8 object_2, hand object_9, next object_0 object_5, next object_3 object_5, next object_4 object_8, next object_9 object_6, sneeze object_3, sneeze object_4, spring object_5, spring object_7, stupendous object_1, stupendous object_2, texture object_5, texture object_6, texture object_7, texture object_8.",
            "Scenario 2 goal: next object_9 object_7.",
            "Intended outcome: generate a valid PDDL domain capturing the six actions and a PDDL problem for Scenario 2 such that a planner like FastDownward can compute a plan to achieve the goal."
        ]
    },
    "workflow": {
        "facts_agent": {
            "extract": {
                "input": [],
                "output": "facts_summary",
                "system_prompt": "You extract structured planning data from text. Produce a concise JSON object with keys: objects (list), predicates (list of predicate signatures like cats x and vase x y), scenario_1_init (list of ground atoms), scenario_1_goal (single ground atom), scenario_1_plan (ordered list of ground operator strings), scenario_2_init (list of ground atoms), scenario_2_goal (single ground atom). Do not output PDDL. Avoid adding facts not present in the public information.",
                "prompt": "Your name is facts_agent. Use the public information to list the object universe object_0 through object_9, the predicate signatures, and extract both scenarios. Scenario 1 has a candidate plan; include its steps as given. Scenario 2 has no plan; leave scenario_1_plan only for Scenario 1. Ensure exact symbol spelling and ordering. Public information: {environment->public_information}. Your private context: {agents->facts_agent->private_information}. Your task: {agents->facts_agent->goal}."
            }
        },
        "actions_agent": {
            "schema": {
                "input": [],
                "output": "action_summaries",
                "system_prompt": "You model actions as neutral JSON suitable for later translation to PDDL. For each action paltry, sip, clip, wretched, memory, tightfisted, provide: name, parameters (ordered variable list like [x, y, z] or [w, x, y, z]), preconditions (list of atoms where an atom is {pred: 'next', args: ['x','y']}), add_effects (list of atoms), del_effects (list of atoms). Do not emit PDDL.",
                "prompt": "Your name is actions_agent. From the public information, extract the six action schemas exactly as specified including their preconditions and effects. Keep variable names and argument ordering consistent with the text. Return only the JSON object with an array actions. Public information: {environment->public_information}. Your private context: {agents->actions_agent->private_information}. Your task: {agents->actions_agent->goal}."
            }
        },
        "validator": {
            "check_plan": {
                "input": [
                    "facts_summary",
                    "action_summaries"
                ],
                "output": "plan_assessment",
                "system_prompt": "You simulate a plan over a set of STRIPS-like action schemas. Validate sequentially: for each step, check all preconditions are present in the current state; if any are missing, stop and report the failing step. If all steps succeed, apply add_effects and remove del_effects after each step and report the final state. Return a JSON object with keys: valid (boolean), first_failure (null or object with step_index and reason), final_state_sample (a bounded list of achieved facts), goal_achieved (boolean). Do not emit PDDL.",
                "prompt": "Your name is validator. Validate the Scenario 1 plan against Scenario 1 initial facts using the provided action schemas. Keep symbol spelling exact. Inputs: facts_summary = {facts_summary}, action_summaries = {action_summaries}. Your private context: {agents->validator->private_information}. Your task: {agents->validator->goal}."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "facts_summary",
                    "action_summaries",
                    "plan_assessment"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for the FastDownward solver. Integrate the provided action schemas and scenario data to produce a final PDDL domain and a single PDDL problem for Scenario 2. Requirements: 1) Use untyped STRIPS compatible with FastDownward. 2) Domain name depots5 and problem name depots5-s2. 3) Predicates: cats ?x, collect ?x ?y, hand ?x, next ?x ?y, sneeze ?x, spring ?x, stupendous ?x, texture ?x, vase ?x ?y. 4) Define exactly six actions: paltry, sip, clip, wretched, memory, tightfisted, matching the preconditions and effects from the action_summaries input. 5) Objects: include object_0 through object_9. 6) Initial state and goal: use Scenario 2 initial facts and goal extracted by facts_agent. 7) Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags. 8) Output only the two tagged blocks, no extra commentary.",
                "prompt": "Your name is orchestrator. You coordinate the inputs to emit the final PDDL domain and the Scenario 2 problem for FastDownward. Inputs: facts_summary = {facts_summary}, action_summaries = {action_summaries}, plan_assessment = {plan_assessment}. Ensure the domain includes the exact six actions and predicates. Ensure the problem initial facts and goal match Scenario 2. Produce only the tagged PDDL blocks. Your task: {agents->orchestrator->goal}."
            }
        },
        "constraints": [
            "facts_agent.extract->validator.check_plan",
            "actions_agent.schema->validator.check_plan",
            "facts_agent.extract->orchestrator.pddl",
            "actions_agent.schema->orchestrator.pddl",
            "validator.check_plan->orchestrator.pddl"
        ]
    }
}