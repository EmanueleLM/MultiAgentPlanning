{
    "name": "MeetingPlanningExample16",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "schedule_planner",
            "map_expert",
            "constraint_analyst",
            "orchestrator"
        ],
        "schedule_planner": {
            "private_information": [
                "I can enumerate and score candidate day schedules.",
                "I prefer compact plans with minimal idle time but will include necessary waiting to respect availability windows."
            ],
            "goal": "Propose several feasible day schedules that maximize the number of friends met, respect travel times and availability windows, and ensure meeting Ronald for at least 105 minutes."
        },
        "map_expert": {
            "private_information": [
                "I know the asymmetric travel times between locations.",
                "I can compute earliest feasible arrival and departure times and estimate slack."
            ],
            "goal": "Provide accurate, direction-sensitive travel-time estimates and advise on departure times to hit target arrival times exactly."
        },
        "constraint_analyst": {
            "private_information": [
                "I formalize time windows, minimum durations, and feasibility checks.",
                "I can compute feasible meeting intervals and identify dominated options."
            ],
            "goal": "Summarize hard constraints, verify feasibility of meeting Ronald for at least 105 minutes, and identify viable time intervals and departures."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate options and constraints to output a final PDDL domain and problem suitable for the FastDownward solver that yields an itinerary starting at Chinatown at 09:00, traveling between locations with the given asymmetric times, and meeting Ronald for at least 105 minutes within his availability while maximizing total meeting minutes."
        }
    },
    "environment": {
        "init": {
            "time_unit": "minute",
            "day_start": "09:00",
            "day_end": "21:30",
            "locations": [
                "Chinatown",
                "Russian Hill"
            ],
            "friends": [
                "Ronald"
            ],
            "asymmetric_travel_minutes": {
                "Chinatown->RussianHill": 7,
                "RussianHill->Chinatown": 9
            }
        },
        "public_information": [
            "Objective: You are visiting San Francisco for the day and want to meet as many friends as possible.",
            "You arrive at Chinatown at 9:00 AM.",
            "Friend Ronald will be at Russian Hill from 3:15 PM to 9:30 PM.",
            "You want to meet Ronald for a minimum of 105 minutes.",
            "Travel time from Chinatown to Russian Hill is 7 minutes.",
            "Travel time from Russian Hill to Chinatown is 9 minutes.",
            "Time is tracked in minutes and can be reasoned about as minutes since 09:00."
        ]
    },
    "workflow": {
        "schedule_planner": {
            "enumerate_schedules": {
                "input": [],
                "output": "schedule_options",
                "system_prompt": "You are a day-trip scheduling expert. You enumerate feasible schedules, compare them, and favor those that maximize friends met and ensure required minimum meeting durations while respecting availability windows and travel times. You output concise options with times in 24-hour format and include justification for each option. Do not produce PDDL; produce human-readable options only.",
                "prompt": "Your name is schedule_planner. Public information: {environment->public_information}. Your knowledge: {agents->schedule_planner->private_information}. Goal: {agents->schedule_planner->goal}. Enumerate at least three candidate schedules that start at 09:00 at Chinatown, consider travel to Russian Hill, ensure meeting Ronald for at least 105 minutes within his availability window, and discuss any waiting needed to synchronize with availability. For each schedule, list key timestamps, locations, total meeting minutes, travel minutes, idle minutes, and a brief rationale. Keep the output concise and structured as bullet points."
            }
        },
        "map_expert": {
            "estimate_travel": {
                "input": [],
                "output": "travel_estimates",
                "system_prompt": "You are a routing expert focusing on asymmetric travel times. You compute direction-specific travel durations and identify exact departure times needed to hit specific arrivals. You present a compact travel-time matrix and example computations. Do not produce PDDL.",
                "prompt": "Your name is map_expert. Public information: {environment->public_information}. Your knowledge: {agents->map_expert->private_information}. Goal: {agents->map_expert->goal}. Provide the asymmetric travel-time matrix between Chinatown and Russian Hill. Compute example departure times from Chinatown that arrive at Russian Hill exactly at 15:15 given a 7-minute travel. Provide at least three examples of exact-arrival departure times (e.g., 15:08 for 15:15 arrival). Include earliest feasible arrival at Russian Hill if departing immediately at 09:00, and the arrival time back to Chinatown if leaving Russian Hill at 21:30. Keep the output concise."
            }
        },
        "constraint_analyst": {
            "summarize_constraints": {
                "input": [],
                "output": "constraints_summary",
                "system_prompt": "You analyze and formalize constraints, verify feasibility, and identify viable windows. You compute whether the minimum 105-minute meeting with Ronald can be achieved given availability and travel, and you list feasible start and end times that respect the window. Do not produce PDDL.",
                "prompt": "Your name is constraint_analyst. Public information: {environment->public_information}. Your knowledge: {agents->constraint_analyst->private_information}. Goal: {agents->constraint_analyst->goal}. Summarize all hard constraints precisely. Verify the feasibility of meeting Ronald for at least 105 minutes at Russian Hill. Provide at least three feasible meeting intervals that start and end within 15:15 to 21:30 and meet the 105-minute minimum. Also compute an earliest exact-arrival plan: wait at Chinatown until a departure time that arrives exactly at 15:15, travel 7 minutes, and meet Ronald until 17:00 to satisfy the 105-minute minimum. Return a concise bullet list with interval endpoints in 24-hour format."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "schedule_options",
                    "travel_estimates",
                    "constraints_summary"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent integration and PDDL modeling targeting the FastDownward solver. You must produce a PDDL domain and problem that encode the chosen plan to meet Ronald for at least 105 minutes. Use classical (non-durative) PDDL with numeric fluents to model time in minutes since 09:00 and meeting minutes. Provide the following actions: wait-at-chinatown (increases clock by 1), wait-at-russianhill (increases clock by 1), travel-ct-to-rh (increases clock by 7 and moves the agent), travel-rh-to-ct (increases clock by 9 and moves the agent), and meet-ronald-105 (requires being at RussianHill, requires clock within Ronald's window, increases clock by 105, and increases meeting-minutes by 105, setting a predicate that Ronald has been met). The initial state should set the traveler at Chinatown with clock 0 and meeting-minutes 0. The goal should require that Ronald has been met and that meeting-minutes is at least 105. Add a metric to maximize meeting-minutes (with a secondary aim of keeping clock minimal if needed). Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags. Ensure the model reflects the asymmetric travel times and availability window from 15:15 (375 minutes since 09:00) to 21:30 (750 minutes since 09:00).",
                "prompt": "Inputs to integrate: Candidate schedules: {schedule_options}. Travel-time matrix and exact-arrival computations: {travel_estimates}. Constraint summary and feasible intervals: {constraints_summary}. Integrate these and produce a single coherent PDDL domain and problem, suitable for FastDownward. The domain should include predicates for locations and meeting status, and numeric fluents clock and meeting-minutes. Use actions as specified in the system prompt with appropriate preconditions and effects, including window checks (>= clock 375) and (<= (+ clock 105) 750) for the meet-ronald-105 action. Provide a concise set of objects (traveler, locations) and constants. Include a :metric maximize meeting-minutes statement."
            }
        },
        "constraints": [
            "schedule_planner.enumerate_schedules->orchestrator.pddl",
            "map_expert.estimate_travel->orchestrator.pddl",
            "constraint_analyst.summarize_constraints->orchestrator.pddl"
        ]
    }
}