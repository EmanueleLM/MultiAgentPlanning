{
    "name": "MeetingPlanningExample19",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "router",
            "availability_manager",
            "scheduler",
            "orchestrator"
        ],
        "router": {
            "private_information": [
                "Expert in estimating directed travel times within San Francisco.",
                "Understands how asymmetric travel times affect feasible arrivals."
            ],
            "goal": "Produce precise, directed travel-time data between Golden Gate Park and Pacific Heights, and feasible departure-arrival combinations that respect the user's constraints."
        },
        "availability_manager": {
            "private_information": [
                "Expert in reasoning about availability windows, overlap constraints, and minimum meeting durations."
            ],
            "goal": "Translate stated constraints into concrete availability windows for meetings and compute start-end times that satisfy minimum-duration requirements."
        },
        "scheduler": {
            "private_information": [
                "Expert in generating and comparing schedule options under constraints such as travel, availability, and meeting duration."
            ],
            "goal": "Enumerate feasible day schedules from the 9:00AM arrival at Golden Gate Park, explore different departure strategies, and summarize options with waiting times and feasibility notes."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Coordinate the information from all agents, select the best schedule, and output a final PDDL domain and problem targeting the FastDownward solver that guarantees a 45-minute meeting with John within his availability window."
        }
    },
    "environment": {
        "init": {
            "locations": [
                "golden_gate_park",
                "pacific_heights"
            ],
            "start_location": "golden_gate_park",
            "start_time": "09:00",
            "time_unit_minutes": 1,
            "solver": "FastDownward"
        },
        "public_information": [
            "You arrive at Golden Gate Park at 9:00AM.",
            "Travel time from Golden Gate Park to Pacific Heights is 16 minutes.",
            "Travel time from Pacific Heights to Golden Gate Park is 15 minutes.",
            "John will be at Pacific Heights from 7:45PM to 8:45PM.",
            "You would like to meet John for a minimum of 45 minutes.",
            "Objective: consider various feasible schedules and pick the one that best optimizes your goals with the given constraints."
        ]
    },
    "workflow": {
        "router": {
            "analyze_routes": {
                "input": [],
                "output": "routes_info",
                "system_prompt": "You are a travel routing analyst. Your role is to compute directed travel-time data and practical departure-arrival implications for the locations in the public information.",
                "prompt": "Your name is router. Use the following public information: {environment->public_information}. Provide a concise JSON object with the keys: directed_edges (list of {from, to, minutes}), earliest_feasible_arrival_at_pacific_heights (compute based on 9:00AM at Golden Gate Park and travel time), latest_meeting_start_allowing_45_minutes (compute the latest start time that still fits entirely within John's window), and departure_candidates (list of useful departure times from Golden Gate Park that lead to arrival within John's window with minimal waiting). Do not produce PDDL."
            }
        },
        "availability_manager": {
            "analyze_availability": {
                "input": [],
                "output": "availability_info",
                "system_prompt": "You are a calendar and constraints analyst. Your role is to formalize time windows and minimum duration requirements.",
                "prompt": "Your name is availability_manager. Consider the public information: {environment->public_information}. Output a concise JSON object with the keys: john_window_start, john_window_end, min_meeting_minutes, feasible_meeting_start_times (list of viable start times that allow at least 45 minutes fully within John's window), and notes (brief reasoning on feasibility boundaries such as earliest start and latest permissible start). Do not produce PDDL."
            }
        },
        "scheduler": {
            "generate_schedules": {
                "input": [
                    "routes_info",
                    "availability_info"
                ],
                "output": "schedule_options",
                "system_prompt": "You are a schedule enumerator. Your role is to combine travel times with availability windows to create and compare feasible options.",
                "prompt": "Your name is scheduler. Use public information: {environment->public_information}, the route analysis: {routes_info}, and the availability analysis: {availability_info}. Enumerate at least three distinct feasible day schedules starting from 9:00AM at Golden Gate Park, each ensuring a 45-minute meeting with John at Pacific Heights and considering different strategies such as depart-late just-in-time, arrive-early-and-wait, and arrive-exactly-on-time. Output a concise JSON array of options where each item has: plan_id, depart_time_from_golden_gate_park, arrival_time_at_pacific_heights, meeting_start_time, meeting_end_time, total_wait_at_destination_minutes, total_travel_minutes, feasibility_notes, and objective_score_hint (lower waiting and travel is better). Do not produce PDDL."
            }
        },
        "orchestrator": {
            "final_plan_pddl": {
                "input": [
                    "routes_info",
                    "availability_info",
                    "schedule_options"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert in multi-agent planning and PDDL for the FastDownward solver. You must synthesize a coherent classical planning model with action costs representing minutes and produce both a PDDL domain and a PDDL problem.",
                "prompt": "Coordinate the inputs to select the best schedule that satisfies all constraints and optimizes the objective. Public information: {environment->public_information}. Route analysis: {routes_info}. Availability analysis: {availability_info}. Candidate schedules: {schedule_options}. First, briefly justify which schedule you selected. Then, produce a PDDL domain and PDDL problem suitable for FastDownward. Requirements: use a STRIPS-style domain with action costs via (:metric minimize (total-cost)); encode the key steps to realize the chosen schedule, including waiting milestones if needed, a directed move from golden_gate_park to pacific_heights with cost 16, and a single meeting action that guarantees a 45-minute meeting within John's 7:45PM to 8:45PM window; model time indirectly through costs and milestone predicates (for example, wait_to_19_44 producing a predicate used by move_ggp_to_ph_from_19_44 so that arrival is aligned to 20:00, then meet_john_45_from_20_00 producing met-john-45); initial state must include being at golden_gate_park and a start-time predicate consistent with 9:00AM; the goal must ensure the predicate met-john-45 is true; ensure all actions increase total-cost by the correct minute values; ensure object names and predicates are consistent and simple (e.g., locations golden_gate_park and pacific_heights). Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "router.analyze_routes->scheduler.generate_schedules",
            "availability_manager.analyze_availability->scheduler.generate_schedules",
            "scheduler.generate_schedules->orchestrator.final_plan_pddl",
            "router.analyze_routes->orchestrator.final_plan_pddl",
            "availability_manager.analyze_availability->orchestrator.final_plan_pddl"
        ]
    }
}