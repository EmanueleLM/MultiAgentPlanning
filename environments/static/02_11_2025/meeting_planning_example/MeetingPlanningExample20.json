{
    "name": "MeetingPlanningExample20",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "route_planner",
            "calendar_analyst",
            "orchestrator"
        ],
        "route_planner": {
            "private_information": [
                "I specialize in computing city travel time matrices and asymmetric travel costs.",
                "I can infer feasible departure and arrival buffers given target meeting windows."
            ],
            "goal": "Provide accurate and actionable travel-time data between Chinatown and Nob Hill to enable feasible schedules that respect minimum meeting durations."
        },
        "calendar_analyst": {
            "private_information": [
                "I specialize in turning availability windows and travel times into multiple feasible schedule options.",
                "I enumerate alternatives that satisfy minimum meeting durations and return timings."
            ],
            "goal": "Generate multiple feasible meeting schedules that respect travel times, arrival time, and Joseph's availability, ensuring at least 75 minutes with Joseph."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate other agents and produce the final PDDL artifacts.",
                "I target the FastDownwards solver and encode candidate schedules as macro actions with costs."
            ],
            "goal": "Integrate travel and schedule alternatives and output a final PDDL domain and problem for FastDownwards that selects the best schedule maximizing friend count, then meeting duration, while minimizing travel."
        }
    },
    "environment": {
        "init": {
            "time_unit": "minute",
            "time_format": "HH:MM",
            "date": "today",
            "start_time": "09:00",
            "end_time": "18:00",
            "city": "San Francisco",
            "locations": [
                "Chinatown",
                "Nob Hill"
            ]
        },
        "public_information": [
            "Objective: You are visiting San Francisco for the day and want to meet as many friends as possible by considering various schedules and picking the best one.",
            "Travel times (asymmetric): Chinatown to Nob Hill is 8 minutes; Nob Hill to Chinatown is 6 minutes.",
            "Arrival: You arrive at Chinatown at 09:00 AM.",
            "Friend availability: Joseph will be at Nob Hill from 11:30 AM to 03:15 PM.",
            "Requirement: You want to meet Joseph for a minimum of 75 minutes.",
            "Preference: Among feasible options, prefer schedules that meet more friends; if only Joseph is available, prefer longer meeting duration with Joseph and less travel."
        ]
    },
    "workflow": {
        "route_planner": {
            "analyze_travel": {
                "input": [],
                "output": "travel_data",
                "system_prompt": "You are a city routing expert. Using the public information and your internal knowledge of asymmetric travel, produce a concise JSON object capturing locations, directional travel times in minutes, and any assumptions or buffers for on-time arrivals.",
                "prompt": "Your name is route_planner. Public information: {environment->public_information}. Task: Build a travel data structure with fields: locations as an array, travel_minutes as a dictionary of directed edges with minutes, and notes listing any assumptions such as negligible wait time. Do not produce PDDL; only produce a compact JSON object suitable for downstream planners."
            }
        },
        "calendar_analyst": {
            "enumerate_schedules": {
                "input": [
                    "travel_data"
                ],
                "output": "meeting_windows",
                "system_prompt": "You are a scheduling expert. Enumerate several feasible schedules that start at Chinatown at 09:00, travel to Nob Hill to meet Joseph during his availability, and optionally return. Each schedule must include at least 75 minutes with Joseph. Provide at least three distinct feasible schedules with different meeting durations. Encode each schedule as a JSON object with fields: id, steps, depart_time_from_chinatown, arrive_time_nob_hill, meet_start, meet_end, meeting_minutes, return_time_to_chinatown_if_any, feasibility_notes.",
                "prompt": "Your name is calendar_analyst. Public information: {environment->public_information}. You receive travel data: {travel_data}. Produce a JSON array named schedule_options with at least three feasible options that meet Joseph for at least 75 minutes within 11:30 to 15:15, accounting for 8 minutes from Chinatown to Nob Hill and 6 minutes back. Do not produce PDDL; only produce the JSON array schedule_options."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "travel_data",
                    "meeting_windows"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent coordination and PDDL modeling targeting the FastDownwards solver. You must output a valid PDDL domain and problem, enclosed respectively in <domain></domain> and <problem></problem> tags. Use classical STRIPS with action costs (:action-costs). Encode each candidate schedule from the schedule_options as a single macro action that achieves the goal of meeting Joseph. Assign each macro action a non-negative cost equal to 1000 minus the meeting_minutes of that schedule so that longer meetings are preferred under metric minimization. Ensure the initial state places the traveler at Chinatown and that the goal is to have met Joseph. Do not include code fences; only the two XML-like blocks.",
                "prompt": "You will integrate travel data and schedule options to choose the best schedule. Inputs you receive: travel data: {travel_data}; schedule options: {meeting_windows}. Build a PDDL domain named meeting_planner_sf with predicates for agent location and having_met_joseph, and macro actions choose_schedule_<id> that each increase total-cost by 1000 minus the meeting_minutes and set having_met_joseph true. Build a PDDL problem named meet_joseph_sf with objects for locations and a symbolic traveler, initial state at Chinatown, and goal to have having_met_joseph true. Use :metric minimize (total-cost). Enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem>."
            }
        },
        "constraints": [
            "route_planner.analyze_travel->orchestrator.synthesize_pddl",
            "calendar_analyst.enumerate_schedules->orchestrator.synthesize_pddl"
        ]
    }
}