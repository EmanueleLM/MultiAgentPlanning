{
    "name": "MeetingPlanningExample4",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "travel_time_analyzer",
            "friend_availability_agent",
            "traveler_planner",
            "orchestrator"
        ],
        "travel_time_analyzer": {
            "private_information": [
                "I can compute shortest paths and travel windows.",
                "I know how to convert travel times into discrete time-step constraints."
            ],
            "goal": "Build a compact travel-time graph and derive feasible movement constraints between Presidio and Marina District for the planning horizon."
        },
        "friend_availability_agent": {
            "private_information": [
                "Known friend today: Jessica at Marina District from 09:15 to 17:45.",
                "Minimum meeting length with Jessica is 60 minutes."
            ],
            "goal": "Aggregate and normalize friend availabilities and minimum meeting requirements into machine-usable constraints."
        },
        "traveler_planner": {
            "private_information": [
                "I arrive at Presidio at 09:00.",
                "Optimization priorities: maximize the number of unique friends met; break ties by earlier finish time and less total travel."
            ],
            "goal": "Enumerate multiple feasible day schedules and select the best one that satisfies all constraints and optimization priorities."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Coordinate all agents and synthesize the final PDDL domain and problem for use with the FastDownward solver."
        }
    },
    "environment": {
        "init": {
            "city": "San Francisco",
            "time_unit": "minutes",
            "time_step": 5,
            "start_time": "09:00",
            "end_time": "17:45",
            "locations": [
                "Presidio",
                "Marina District"
            ],
            "friends": [
                "Jessica"
            ]
        },
        "public_information": [
            "City: San Francisco.",
            "Locations: Presidio, Marina District.",
            "Travel time Presidio -> Marina District: 10 minutes.",
            "Travel time Marina District -> Presidio: 10 minutes.",
            "You arrive at Presidio at 09:00.",
            "Jessica will be at Marina District from 09:15 to 17:45.",
            "You must meet Jessica for at least 60 minutes.",
            "Objective: consider different feasible schedules and pick the one that optimizes meeting as many friends as possible (at least Jessica)."
        ]
    },
    "workflow": {
        "travel_time_analyzer": {
            "analyze_routes": {
                "input": [],
                "output": "travel_graph",
                "system_prompt": "You analyze city travel times and synthesize a minimal travel-time graph and constraints. Produce concise, machine-readable summaries that downstream agents can consume. Do not output PDDL.",
                "prompt": "Your name is travel_time_analyzer. Public information: {environment->public_information}. Private knowledge: {agents->travel_time_analyzer->private_information}. Goal: {agents->travel_time_analyzer->goal}. Provide: 1) a directed edge list with minutes for each move between Presidio and Marina District, 2) earliest feasible departure and arrival windows that respect the start time and the planning horizon, 3) assumptions if any. Output a compact JSON-like structure under the key travel_graph."
            }
        },
        "friend_availability_agent": {
            "gather_availability": {
                "input": [],
                "output": "availability_summary",
                "system_prompt": "You consolidate friend availabilities and normalize them into precise time-window constraints. Produce concise, machine-readable summaries. Do not output PDDL.",
                "prompt": "Your name is friend_availability_agent. Public information: {environment->public_information}. Private knowledge: {agents->friend_availability_agent->private_information}. Goal: {agents->friend_availability_agent->goal}. Provide normalized windows for each friend and location, minimum meeting lengths, and any hard constraints. Output a compact JSON-like structure under the key availability_summary."
            }
        },
        "traveler_planner": {
            "propose_schedules": {
                "input": [
                    "travel_graph",
                    "availability_summary"
                ],
                "output": "candidate_schedules",
                "system_prompt": "You generate multiple feasible schedules that satisfy movement and availability constraints and highlight trade-offs. Do not output PDDL.",
                "prompt": "Your name is traveler_planner. Public information: {environment->public_information}. Private knowledge: {agents->traveler_planner->private_information}. Goal: {agents->traveler_planner->goal}. Using {travel_graph} and {availability_summary}, propose several feasible schedules with timestamps, locations, travel legs, and meeting intervals that satisfy the 60-minute minimum meeting with Jessica and the planning horizon; include brief notes on feasibility and objective value for each. Output a compact JSON-like list under the key candidate_schedules."
            },
            "pick_best_schedule": {
                "input": [
                    "candidate_schedules"
                ],
                "output": "selected_schedule",
                "system_prompt": "You evaluate candidate schedules against the stated optimization priorities and select the best plan. Do not output PDDL.",
                "prompt": "Your name is traveler_planner. Public information: {environment->public_information}. Private knowledge: {agents->traveler_planner->private_information}. Goal: {agents->traveler_planner->goal}. Given {candidate_schedules}, select the single best schedule that maximizes the number of unique friends met (here at least Jessica), then minimizes finish time and total travel time; justify the selection and return only the chosen schedule with a short rationale under the key selected_schedule."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "travel_graph",
                    "availability_summary",
                    "selected_schedule"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with classical PDDL targeting the FastDownward solver. You must produce a PDDL domain and a PDDL problem that model discrete-time scheduling with 5-minute steps over the horizon 09:00 to 17:45, locations (presidio, marina), movement compiled as sequences of 5-minute steps to reflect 10-minute travel, and a meet_jessica action enabled only during her availability. The goal must ensure at least 60 continuous minutes (12 consecutive steps) of meeting with Jessica while starting at Presidio at 09:00. Always enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags.",
                "prompt": "Integrate {travel_graph}, {availability_summary}, and {selected_schedule}. Resolve naming differences and keep modeling assumptions explicit. Generate a final classical (non-temporal) PDDL domain and problem suitable for FastDownward that encode time as a finite sequence of 5-minute timepoints, travel between presidio and marina via stepwise moves, and a meeting activity that can only occur at marina during Jessica's window. Ensure the goal captures meeting Jessica for at least 12 consecutive time steps and respects the initial state at Presidio at 09:00. Do not execute the solver; only produce the PDDL texts under the specified tags."
            }
        },
        "constraints": [
            "travel_time_analyzer.analyze_routes->traveler_planner.propose_schedules",
            "friend_availability_agent.gather_availability->traveler_planner.propose_schedules",
            "traveler_planner.propose_schedules->traveler_planner.pick_best_schedule",
            "traveler_planner.pick_best_schedule->orchestrator.synthesize_pddl"
        ]
    }
}