{
    "name": "TripPlanningExample28",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "time_keeper",
            "flight_mapper",
            "orchestrator"
        ],
        "time_keeper": {
            "private_information": [
                "Preferred stay: Venice 6 days.",
                "Preferred stay: Florence 6 days.",
                "Hard stay: Zurich exactly 2 days.",
                "Total days available: 12.",
                "Interpret 'would like to' as soft preferences that can be relaxed if infeasible.",
                "All moves between cities must use direct flights only."
            ],
            "goal": "Derive a feasible allocation of days across Venice, Zurich, and Florence that sums to 12 days, enforces exactly 2 days in Zurich, and is as close as possible to the preferred stays for Venice and Florence."
        },
        "flight_mapper": {
            "private_information": [
                "Directed direct flights: Venice -> Zurich.",
                "Directed direct flights: Zurich -> Venice.",
                "Directed direct flights: Zurich -> Florence.",
                "No other direct flights are available."
            ],
            "goal": "Propose at least one feasible route visiting all three cities using only the directed direct flights; the route may start in any city and does not need to return to the origin."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the time allocation and flight connectivity to produce a final solvable PDDL domain and problem for the FastDownward solver that yields a valid 12-day trip plan honoring the direct-flight constraint and hard requirements."
        }
    },
    "environment": {
        "init": {
            "days_total": 12
        },
        "public_information": [
            "Cities to visit: Venice (VCE), Zurich (ZRH), Florence (FLR).",
            "Only direct flights may be used to commute between cities.",
            "Known direct flights with directionality: Venice <-> Zurich; Zurich -> Florence.",
            "Total trip length must be exactly 12 days.",
            "All three cities must be visited at least once.",
            "Preferred stays: Venice 6 days, Florence 6 days.",
            "Planned hard stay: Zurich 2 days.",
            "The trip may start and end in any city consistent with the route."
        ]
    },
    "workflow": {
        "time_keeper": {
            "analysis": {
                "input": [],
                "output": "time_constraints",
                "system_prompt": "You analyze trip time budgets and convert preferences into feasible allocations. Return a compact JSON object with keys hard_constraints, soft_preferences, candidate_allocations, and notes. Keep it machine-readable and concise. Do not produce PDDL.",
                "prompt": "Your name is time_keeper. You are in an environment with the following public information: {environment->public_information} You have the following knowledge: {agents->time_keeper->private_information} This is your specific objective: {agents->time_keeper->goal} Provide a concise JSON object with fields hard_constraints, soft_preferences, and candidate_allocations where candidate_allocations contains one or more feasible allocations that sum to 12 days, satisfy the Zurich 2-day requirement, and are as close as possible to the preferred stays. Include a brief notes field to explain trade-offs. Do not produce PDDL."
            }
        },
        "flight_mapper": {
            "route_plan": {
                "input": [],
                "output": "route_constraints",
                "system_prompt": "You analyze directed flight connectivity and construct feasible visit sequences using only direct flights. Return a compact JSON object with keys directed_edges, candidate_routes, and notes. Do not produce PDDL.",
                "prompt": "Your name is flight_mapper. You are in an environment with the following public information: {environment->public_information} You have the following knowledge: {agents->flight_mapper->private_information} This is your specific objective: {agents->flight_mapper->goal} Provide a concise JSON object with fields directed_edges and candidate_routes where each candidate route respects the given directionality and visits all three cities using only direct flights. Include a brief notes field to flag any one-way constraints. Do not produce PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "time_constraints",
                    "route_constraints"
                ],
                "output": "trip_pddl",
                "system_prompt": "You are an expert in multi-agent trip-planning PDDL targeting the FastDownward (FastDownwards) solver. You must integrate upstream JSON constraints into a single classical planning model with numeric fluents for day counting. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. Use features supported by FastDownward such as :strips, :typing, :negative-preconditions, and optional :action-costs with (:metric minimize (total-cost)) if you introduce costs. Keep the model simple and solvable.",
                "prompt": "Integrate the upstream analyses to build a solvable planning model for the 12-day trip. Inputs from the time allocation agent: {time_constraints} Inputs from the flight mapping agent: {route_constraints} Requirements: produce a valid PDDL domain and problem that allow actions to stay one day at a city and to fly between directly connected cities; ensure total days equals 12; ensure all three cities are visited; enforce exactly 2 days in Zurich; select a feasible allocation for Venice and Florence that fits the 12-day budget based on the inputs (for example, Venice 6 days and Florence 4 days is feasible when honoring Zurich 2 days). Choose a feasible starting city consistent with a direct-flight route and encode directed flight connectivity as static facts. Keep the model compatible with FastDownward. Enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem>."
            }
        },
        "constraints": [
            "time_keeper.analysis->orchestrator.pddl",
            "flight_mapper.route_plan->orchestrator.pddl"
        ]
    }
}