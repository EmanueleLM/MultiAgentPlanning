{
    "name": "Blocksworld10",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "plan_designer",
            "auditor",
            "knowledge_curator",
            "orchestrator"
        ],
        "plan_designer": {
            "private_information": [
                "I specialize in extracting structured states and goals from natural language Blocksworld descriptions.",
                "I propose human-readable, step-by-step plans without emitting PDDL.",
                "I follow standard single-arm Blocksworld semantics (clear, on, ontable, holding, handempty)."
            ],
            "goal": "Extract initial states and goals from the two statements, validate the provided plan for the first statement, and propose a candidate step-by-step plan for the second statement without using PDDL."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency against the Blocksworld action model.",
                "I remove bookkeeping shortcuts (e.g., quota tokens, post-hoc penalties, or skipping preconditions).",
                "I verify preconditions and effects for each step and suggest corrections if needed."
            ],
            "goal": "Audit the proposed and given plans for strict causal validity, ensuring all preconditions and effects align with the allowed actions and restrictions."
        },
        "knowledge_curator": {
            "private_information": [
                "I normalize names and symbols, align synonyms, and prepare typed object lists.",
                "I ensure consistency of block identifiers across agents and the final orchestrator model."
            ],
            "goal": "Normalize object names and produce a consistent, typed object inventory for the Blocksworld problem instances."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate analyses, audits, and normalized symbols to produce a final PDDL domain and two PDDL problem files for Fast Downward, one per statement."
        }
    },
    "environment": {
        "init": {
            "blocks": [
                "red",
                "blue",
                "yellow",
                "orange"
            ],
            "arm": "single",
            "max_stack_height": 4
        },
        "public_information": [
            "Actions available: pick up a block; unstack a block from on top of another block; put down a block; stack a block on top of another block.",
            "Restrictions: only one block at a time; can only pick up or unstack if hand is empty.",
            "Restrictions: can only pick up a block if it is on the table and clear.",
            "Restrictions: a block is clear if no block is on top of it and it is not being held.",
            "Restrictions: can only unstack a block from another if it is actually on top of that block.",
            "Restrictions: can only unstack a block if it is clear.",
            "Restrictions: once a block is picked up or unstacked, it is being held.",
            "Restrictions: can only put down a block that is being held.",
            "Restrictions: can only stack a held block on top of another block if the destination block is clear.",
            "Restrictions: after putting down or stacking, the hand becomes empty.",
            "Restrictions: after stacking a block on another block, the second block is no longer clear.",
            "Statement 1 initial: red is clear; blue is clear; hand is empty; red is on yellow; blue is on orange; orange is on the table; yellow is on the table.",
            "Statement 1 goal: blue is on yellow; yellow is on red.",
            "Statement 1 provided plan step 1: unstack the red block from on top of the yellow block.",
            "Statement 1 provided plan step 2: put down the red block.",
            "Statement 1 provided plan step 3: pick up the yellow block.",
            "Statement 1 provided plan step 4: stack the yellow block on top of the red block.",
            "Statement 1 provided plan step 5: unstack the blue block from on top of the orange block.",
            "Statement 1 provided plan step 6: stack the blue block on top of the yellow block.",
            "Statement 2 initial: red is on the table; orange is on the table; yellow is on the table; blue is on yellow; blue is clear; orange is clear; hand is empty.",
            "Statement 2 goal: blue is on orange; yellow is on red.",
            "Statement 2 plan: to be designed."
        ]
    },
    "workflow": {
        "plan_designer": {
            "analyze": {
                "input": [],
                "output": "state_models",
                "system_prompt": "You extract structured initial states, goals, and action semantics from natural language Blocksworld descriptions. Produce precise, unambiguous models of both statements including predicates, objects, and any invariants. Do not emit PDDL.",
                "prompt": "Your name is plan_designer. Use the public information to identify the objects, the initial conditions, and the goals for Statement 1 and Statement 2. Summarize the allowed actions and constraints. Return a concise structured description of: objects; predicates with truth values for each statement; and goals for each statement, suitable for downstream use. Avoid PDDL and keep outputs human-readable and machine-parsable."
            },
            "design_plans": {
                "input": [
                    "state_models"
                ],
                "output": "proposed_plans",
                "system_prompt": "You design human-readable plans that obey Blocksworld preconditions and effects without emitting PDDL.",
                "prompt": "Validate the provided plan for Statement 1 step by step against the extracted model {state_models}. If valid, confirm; if not, propose minimal corrections. Then produce a candidate, causally valid step-by-step plan for Statement 2 that achieves its goal from its initial state, avoiding shortcuts and ensuring preconditions are met at each step."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "state_models",
                    "proposed_plans"
                ],
                "output": "audit_report",
                "system_prompt": "You are a temporal and causal consistency auditor for Blocksworld plans. You remove bookkeeping shortcuts and enforce that every step satisfies preconditions and applies correct effects.",
                "prompt": "Audit both the validated plan for Statement 1 and the proposed plan for Statement 2 using {state_models} and {proposed_plans}. For each step, check preconditions and effects; flag violations; propose precise corrections when needed. Ensure no extraneous bookkeeping (e.g., tokens, penalties) is used; only the allowed actions and predicates are permitted. Return a clear, compact report with any corrected plans."
            }
        },
        "knowledge_curator": {
            "normalize_symbols": {
                "input": [
                    "state_models"
                ],
                "output": "normalized_symbols",
                "system_prompt": "You normalize symbols and ensure consistent naming and typing for objects across agents.",
                "prompt": "From {state_models}, produce a consistent set of object identifiers and types for the blocks domain. Ensure color names map one-to-one to block symbols (e.g., red, blue, yellow, orange), and list the allowed predicates and their argument types. Provide a compact inventory suitable for programmatic consumption."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "state_models",
                    "proposed_plans",
                    "audit_report",
                    "normalized_symbols"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL and the Fast Downward (FastDownwards) solver. You will produce a complete PDDL domain and two PDDL problem files for the described Blocksworld tasks. Use :requirements :strips :typing only. Use objects of type block. Predicates: on ?x ?y - block; ontable ?x - block; clear ?x - block; holding ?x - block; handempty. Actions: pickup, putdown, unstack, stack with preconditions and effects matching the given restrictions. Enclose the domain between <domain></domain> tags. Enclose each PDDL problem between its own <problem></problem> tags. The problems must be solvable by Fast Downward and reflect the audited initial states and goals. Do not include plans in the problems.",
                "prompt": "Integrate the structured models, plans, audits, and symbol inventory to construct a single domain named blocksworld and two problem files: bw_problem_1 for Statement 1 and bw_problem_2 for Statement 2. Respect the normalized symbols {normalized_symbols} and corrections from {audit_report}. Use only the predicates and operators specified in the system prompt. Ensure initial states and goals match {state_models}. Output exactly one <domain> block followed by two <problem> blocks, one per statement."
            }
        },
        "constraints": [
            "plan_designer.analyze->plan_designer.design_plans",
            "plan_designer.analyze->auditor.audit",
            "plan_designer.design_plans->auditor.audit",
            "plan_designer.analyze->knowledge_curator.normalize_symbols",
            "plan_designer.analyze->orchestrator.pddl",
            "plan_designer.design_plans->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl",
            "knowledge_curator.normalize_symbols->orchestrator.pddl"
        ]
    }
}