{
    "name": "Blocksworld22",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "state_modeler",
            "planner",
            "auditor",
            "orchestrator"
        ],
        "state_modeler": {
            "private_information": [
                "I translate natural-language statements into grounded predicates over blocks.",
                "I normalize symbols to a consistent vocabulary: on(x,y), ontable(x), clear(x), holding(x), handempty.",
                "I do not emit PDDL; I only output structured facts and goals."
            ],
            "goal": "Extract normalized initial states and goals for each scenario using the shared predicates and the provided objects."
        },
        "planner": {
            "private_information": [
                "I propose feasible action sequences using the operators: pickup(x), putdown(x), unstack(x,y), stack(x,y).",
                "I respect causal preconditions and effects and avoid bookkeeping shortcuts.",
                "I do not emit PDDL; I only output human-readable plans or JSON plans."
            ],
            "goal": "Produce stepwise plans for each scenario that satisfy the constraints and reach the goals."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of plans.",
                "I remove bookkeeping shortcuts and reject quota tokens, post-hoc penalties, or any non-causal justifications.",
                "I ensure each step is applicable given the current state and that effects are applied correctly."
            ],
            "goal": "Validate each plan against the initial state and action semantics; output an audited, corrected plan if necessary."
        },
        "orchestrator": {
            "private_information": [
                "I integrate the normalized states and the audited plans to produce final PDDL artifacts.",
                "I target the FastDownward solver with a standard Blocksworld domain using STRIPS with typing.",
                "I keep actions distinct and faithful to the specified constraints: pickup, putdown, unstack, stack."
            ],
            "goal": "Emit the final PDDL domain and problem files that encode the audited scenarios for FastDownward."
        }
    },
    "environment": {
        "init": {
            "solver": "fast-downward",
            "metric": "minimize-steps",
            "objects": {
                "blocks": [
                    "red",
                    "blue",
                    "yellow",
                    "orange"
                ]
            },
            "predicates": [
                "on ?x ?y",
                "ontable ?x",
                "clear ?x",
                "holding ?x",
                "handempty"
            ]
        },
        "public_information": [
            "You are arranging stacks of blocks with four primitive actions: pickup(x), unstack(x,y), putdown(x), stack(x,y).",
            "Constraints: only one block can be picked up or unstacked at a time; the hand must be empty to pickup or unstack; pickup requires the block is on the table and clear; unstack requires x was on y and x is clear; after pickup or unstack, you are holding(x); putdown requires holding(x); stack requires holding(x) and clear(y); after putdown or stack, hand becomes empty; when x is stacked on y, y is no longer clear.",
            "Two planning scenarios are provided under environment.problems."
        ],
        "problems": [
            {
                "id": "scenario_1",
                "description": "From mixed stacks and table placements, achieve blue on orange and yellow on red.",
                "objects": [
                    "red",
                    "blue",
                    "yellow",
                    "orange"
                ],
                "init": [
                    "clear red",
                    "clear blue",
                    "handempty",
                    "on red yellow",
                    "on yellow orange",
                    "ontable blue",
                    "ontable orange"
                ],
                "goal": [
                    "on blue orange",
                    "on yellow red"
                ],
                "candidate_plan": [
                    "unstack red yellow",
                    "putdown red",
                    "unstack yellow orange",
                    "stack yellow red",
                    "pickup blue",
                    "stack blue orange"
                ]
            },
            {
                "id": "scenario_2",
                "description": "From a single tall stack ending on the table, achieve orange on red and yellow on blue.",
                "objects": [
                    "red",
                    "blue",
                    "yellow",
                    "orange"
                ],
                "init": [
                    "clear red",
                    "handempty",
                    "on red blue",
                    "on blue yellow",
                    "on yellow orange",
                    "ontable orange"
                ],
                "goal": [
                    "on orange red",
                    "on yellow blue"
                ]
            }
        ]
    },
    "workflow": {
        "state_modeler": {
            "s1_state": {
                "input": [],
                "output": "facts_s1",
                "system_prompt": "You convert the public problems into normalized symbolic facts and goals using the predicates on(x,y), ontable(x), clear(x), holding(x), handempty and the listed objects; do not emit PDDL.",
                "prompt": "Extract initial facts and goal conditions for problem id scenario_1 from environment->problems and return a compact JSON object with keys initial and goal using the exact predicate names and grounded constants."
            },
            "s2_state": {
                "input": [],
                "output": "facts_s2",
                "system_prompt": "You convert the public problems into normalized symbolic facts and goals using the predicates on(x,y), ontable(x), clear(x), holding(x), handempty and the listed objects; do not emit PDDL.",
                "prompt": "Extract initial facts and goal conditions for problem id scenario_2 from environment->problems and return a compact JSON object with keys initial and goal using the exact predicate names and grounded constants."
            }
        },
        "planner": {
            "s1_plan": {
                "input": [
                    "facts_s1"
                ],
                "output": "plan_s1",
                "system_prompt": "You design feasible plans using the four actions respecting all preconditions and effects; do not emit PDDL.",
                "prompt": "Using facts_s1 and the allowed actions, validate and restate the given candidate plan for scenario_1 or minimally repair it if needed; output a JSON object with key plan as an ordered list of grounded actions."
            },
            "s2_plan": {
                "input": [
                    "facts_s2"
                ],
                "output": "plan_s2",
                "system_prompt": "You design feasible plans using the four actions respecting all preconditions and effects; do not emit PDDL.",
                "prompt": "Using facts_s2 and the allowed actions, synthesize a valid plan to achieve the goal for scenario_2; output a JSON object with key plan as an ordered list of grounded actions."
            }
        },
        "auditor": {
            "audit_s1": {
                "input": [
                    "facts_s1",
                    "plan_s1"
                ],
                "output": "audited_s1",
                "system_prompt": "You are a temporal and causal auditor; step through each action checking preconditions and applying effects; reject or fix steps that violate constraints; remove bookkeeping shortcuts; do not emit PDDL.",
                "prompt": "Audit scenario_1 by simulating from the initial state; if a step is inapplicable, replace it with a minimal fix; return a JSON object with keys valid (boolean), issues (list), and plan (the corrected ordered list)."
            },
            "audit_s2": {
                "input": [
                    "facts_s2",
                    "plan_s2"
                ],
                "output": "audited_s2",
                "system_prompt": "You are a temporal and causal auditor; step through each action checking preconditions and applying effects; reject or fix steps that violate constraints; remove bookkeeping shortcuts; do not emit PDDL.",
                "prompt": "Audit scenario_2 by simulating from the initial state; if a step is inapplicable, replace it with a minimal fix; return a JSON object with keys valid (boolean), issues (list), and plan (the corrected ordered list)."
            }
        },
        "orchestrator": {
            "pddl_s1": {
                "input": [
                    "facts_s1",
                    "audited_s1"
                ],
                "output": "pddl_s1",
                "system_prompt": "You are an expert with multi-agent planning; integrate normalized facts and the audited plan to produce a FastDownward-compatible PDDL domain and a PDDL problem; use actions pickup, putdown, unstack, stack; include :requirements :strips :typing; use predicates on, ontable, clear, holding, handempty; keep objects as blocks; enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem> tags.",
                "prompt": "Produce a standard Blocksworld PDDL domain and a problem for scenario_1 matching facts_s1.initial and facts_s1.goal; ensure action preconditions and effects reflect the constraints; include all four blocks as objects of type block and include handempty in the initial state when appropriate; target FastDownward."
            },
            "pddl_s2": {
                "input": [
                    "facts_s2",
                    "audited_s2"
                ],
                "output": "pddl_s2",
                "system_prompt": "You are an expert with multi-agent planning; integrate normalized facts and the audited plan to produce a FastDownward-compatible PDDL domain and a PDDL problem; use actions pickup, putdown, unstack, stack; include :requirements :strips :typing; use predicates on, ontable, clear, holding, handempty; keep objects as blocks; enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem> tags.",
                "prompt": "Produce a standard Blocksworld PDDL domain and a problem for scenario_2 matching facts_s2.initial and facts_s2.goal; ensure action preconditions and effects reflect the constraints; include all four blocks as objects of type block and include handempty in the initial state when appropriate; target FastDownward."
            }
        },
        "constraints": [
            "state_modeler.s1_state->planner.s1_plan",
            "planner.s1_plan->auditor.audit_s1",
            "state_modeler.s1_state->auditor.audit_s1",
            "auditor.audit_s1->orchestrator.pddl_s1",
            "state_modeler.s1_state->orchestrator.pddl_s1",
            "state_modeler.s2_state->planner.s2_plan",
            "planner.s2_plan->auditor.audit_s2",
            "state_modeler.s2_state->auditor.audit_s2",
            "auditor.audit_s2->orchestrator.pddl_s2",
            "state_modeler.s2_state->orchestrator.pddl_s2"
        ]
    }
}