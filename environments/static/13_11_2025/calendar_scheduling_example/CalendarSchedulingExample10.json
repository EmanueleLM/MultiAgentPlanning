{
    "name": "CalendarSchedulingExample10",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "diana",
            "ethan",
            "janet",
            "consistency_auditor",
            "orchestrator"
        ],
        "diana": {
            "private_information": [
                "I am Diana.",
                "On Monday I am busy 11:30-12:00 and 13:00-13:30.",
                "Work hours are 09:00-17:00."
            ],
            "goal": "Schedule a 30-minute meeting on Monday between 09:00 and 17:00 with Ethan and Janet while respecting all calendars and Janet's preference."
        },
        "ethan": {
            "private_information": [
                "I am Ethan.",
                "On Monday I have no meetings.",
                "Work hours are 09:00-17:00."
            ],
            "goal": "Schedule a 30-minute meeting on Monday between 09:00 and 17:00 with Diana and Janet while respecting all calendars and Janet's preference."
        },
        "janet": {
            "private_information": [
                "I am Janet.",
                "On Monday I am busy 09:00-10:00, 12:30-13:00, 14:00-15:00, 15:30-17:00.",
                "I prefer not to meet after 12:00 on Monday.",
                "Work hours are 09:00-17:00."
            ],
            "goal": "Schedule a 30-minute meeting on Monday between 09:00 and 17:00 with Diana and Ethan while respecting all calendars and my preference to avoid times after 12:00."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents.",
                "I normalize time units, enforce non-overlap, and remove bookkeeping shortcuts such as artificial quotas or post-hoc penalties.",
                "I produce a clean, deduplicated set of candidate 30-minute slots that satisfy all hard constraints and indicate whether preferences are respected."
            ],
            "goal": "Validate and reconcile all availability and preference inputs into a consistent set of feasible 30-minute Monday slots."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and compile the final planning artifacts.",
                "I must emit the final PDDL domain and problem for the FastDownwards solver."
            ],
            "goal": "Produce a final plan and PDDL artifacts to schedule a 30-minute Monday meeting between 09:00 and 17:00 that respects all participants' calendars and Janet's preference to avoid times after 12:00."
        }
    },
    "environment": {
        "init": {
            "day": "Monday",
            "work_hours": {
                "start": "09:00",
                "end": "17:00"
            },
            "meeting_duration_minutes": 30,
            "time_granularity_minutes": 30,
            "timezone": "local"
        },
        "public_information": [
            "Task: Schedule a single 30-minute meeting on Monday between 09:00 and 17:00 for Diana, Ethan, and Janet.",
            "Existing schedules: Diana busy 11:30-12:00 and 13:00-13:30; Ethan has no meetings; Janet busy 09:00-10:00, 12:30-13:00, 14:00-15:00, 15:30-17:00.",
            "Preference: Janet prefers not to meet after 12:00 on Monday.",
            "A feasible solution exists that satisfies all calendars and the stated preference."
        ]
    },
    "workflow": {
        "diana": {
            "extract_availability": {
                "input": [],
                "output": "availability_diana",
                "system_prompt": "You are a calendar summarizer. Extract 30-minute free slots for Monday within the 09:00-17:00 work window. Use only the provided facts. Do not infer beyond the stated schedules. Do not output PDDL.",
                "prompt": "Your name is diana. Public information: {environment->public_information}. Your known schedule: {agents->diana->private_information}. Output a compact JSON object with keys agent, busy, and free_slots_30m listing start-end ranges like 10:00-10:30. Only include Monday slots that fully fit within 09:00-17:00 and do not overlap your busy times."
            }
        },
        "ethan": {
            "extract_availability": {
                "input": [],
                "output": "availability_ethan",
                "system_prompt": "You are a calendar summarizer. Extract 30-minute free slots for Monday within the 09:00-17:00 work window. Use only the provided facts. Do not infer beyond the stated schedules. Do not output PDDL.",
                "prompt": "Your name is ethan. Public information: {environment->public_information}. Your known schedule: {agents->ethan->private_information}. Output a compact JSON object with keys agent, busy, and free_slots_30m listing start-end ranges like 10:00-10:30. Only include Monday slots that fully fit within 09:00-17:00."
            }
        },
        "janet": {
            "extract_availability_and_preferences": {
                "input": [],
                "output": "availability_janet",
                "system_prompt": "You are a calendar and preferences summarizer. Extract 30-minute free slots for Monday within 09:00-17:00 and encode the preference to avoid after 12:00 as a soft preference that should be respected. Do not output PDDL.",
                "prompt": "Your name is janet. Public information: {environment->public_information}. Your known schedule and preference: {agents->janet->private_information}. Output a compact JSON object with keys agent, busy, free_slots_30m, and preferences where preferences includes avoid_after_12 set to true."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "availability_diana",
                    "availability_ethan",
                    "availability_janet"
                ],
                "output": "audited_constraints",
                "system_prompt": "You are a temporal consistency auditor. Normalize time to 30-minute boundaries within 09:00-17:00 Monday, intersect free slots across agents, remove duplicates, and produce candidate slots that satisfy all hard constraints. Mark whether Janet's before-noon preference can be satisfied. Remove bookkeeping shortcuts such as artificial quota tokens or post-hoc penalties. Do not output PDDL.",
                "prompt": "Aggregate inputs: {availability_diana}, {availability_ethan}, {availability_janet}. Output a compact JSON object with keys joint_candidate_slots (list of start-end strings) and preference_satisfied (boolean). Only include slots that are free for all three participants and occur before 12:00 if possible. If multiple valid slots exist, include all of them."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "availability_diana",
                    "availability_ethan",
                    "availability_janet",
                    "audited_constraints"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert planner. Produce a valid PDDL domain and problem that FastDownwards can solve to schedule one 30-minute Monday meeting for Diana, Ethan, and Janet. Enclose the domain in <domain></domain> and the problem in <problem></problem>. Keep the model minimal: define participants, 30-minute timeslots, free and before_noon predicates, a single action to schedule the meeting that requires the slot be free for all and before noon, and a goal stating that the meeting is scheduled. Use STRIPS and typing. Ensure the problem includes at least one feasible slot consistent with the audited constraints.",
                "prompt": "Inputs from agents: {availability_diana}, {availability_ethan}, {availability_janet}, {audited_constraints}. Build a minimal domain meeting_scheduling with types participant and timeslot, predicates free(participant, timeslot), before_noon(timeslot), and meeting_scheduled. Provide a problem that includes objects for participants diana, ethan, janet and timeslots that the auditor found feasible, such as 10:00-10:30, 10:30-11:00, and 11:00-11:30. Initialize free and before_noon facts accordingly. The goal is (meeting_scheduled). Provide the PDDL wrapped in the required tags. Example structure to follow exactly, filling it with consistent facts: <domain>...PDDL domain...</domain> <problem>...PDDL problem...</problem>."
            }
        },
        "constraints": [
            "diana.extract_availability->consistency_auditor.audit",
            "ethan.extract_availability->consistency_auditor.audit",
            "janet.extract_availability_and_preferences->consistency_auditor.audit",
            "consistency_auditor.audit->orchestrator.pddl"
        ]
    }
}