{
    "name": "CalendarSchedulingExample14",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "brandon",
            "jerry",
            "bradley",
            "auditor",
            "orchestrator"
        ],
        "brandon": {
            "private_information": [
                "Participant: Brandon",
                "Existing meetings on Monday: 13:00-14:00, 15:30-16:00, 16:30-17:00",
                "Preference: Avoid meetings before 14:30 if possible",
                "Workday context: 09:00-17:00"
            ],
            "goal": "Report Brandon's 30-minute free windows within the work hours and indicate soft preferences."
        },
        "jerry": {
            "private_information": [
                "Participant: Jerry",
                "Existing meetings on Monday: none (free the whole day)",
                "Workday context: 09:00-17:00"
            ],
            "goal": "Report Jerry's 30-minute free windows within the work hours."
        },
        "bradley": {
            "private_information": [
                "Participant: Bradley",
                "Existing meetings on Monday: 09:00-11:30, 12:00-15:00, 16:00-16:30",
                "Workday context: 09:00-17:00"
            ],
            "goal": "Report Bradley's 30-minute free windows within the work hours."
        },
        "auditor": {
            "private_information": [
                "Role: Independent temporal and causal consistency auditor",
                "Duties: Validate times, detect conflicts, normalize slot formats, intersect availabilities, and prioritize soft preferences when possible",
                "Guideline: Remove bookkeeping shortcuts (e.g., quota tokens, post-hoc penalties); rely only on explicit time constraints and stated preferences"
            ],
            "goal": "Audit and merge participants' availabilities into a consistent set of feasible slots for all attendees, prioritizing Brandon's after-14:30 preference when possible."
        },
        "orchestrator": {
            "private_information": [
                "Role: Coordinator",
                "Planner target: FastDownward classical planner",
                "Output requirement: Final PDDL domain and problem with a solvable instance selecting one feasible slot"
            ],
            "goal": "Use the audited availability to select a valid meeting slot and produce a PDDL domain and problem that FastDownward can solve to schedule the meeting."
        }
    },
    "environment": {
        "init": {
            "day": "Monday",
            "work_start": "09:00",
            "work_end": "17:00",
            "duration_minutes": 30,
            "time_granularity_minutes": 30,
            "timezone": "local"
        },
        "public_information": [
            "Schedule a single 30-minute meeting for Brandon, Jerry, and Bradley on Monday between 09:00 and 17:00.",
            "All times use 24-hour HH:MM format and the local timezone.",
            "A feasible time exists that respects everyone's existing events and Brandon's preference to avoid meetings before 14:30 when possible."
        ]
    },
    "workflow": {
        "brandon": {
            "availability": {
                "input": [],
                "output": "availability_brandon",
                "system_prompt": "You analyze an individual's calendar to produce availability windows and clearly separated hard constraints and soft preferences. You output a compact JSON object only, no explanations.",
                "prompt": "Your name is Brandon's calendar agent. Public context: {environment->public_information}. Your private context: {agents->brandon->private_information}. Goal: {agents->brandon->goal}. Compute all 30-minute free slots for Monday within 09:00-17:00 where Brandon is not in a meeting. Return a JSON object with keys: person (string), free_slots (list of objects with start and end), hard_constraints (list), soft_preferences (list). Use only valid 24-hour HH:MM times and do not include overlaps with busy times."
            }
        },
        "jerry": {
            "availability": {
                "input": [],
                "output": "availability_jerry",
                "system_prompt": "You analyze an individual's calendar to produce availability windows and clearly separated hard constraints and soft preferences. You output a compact JSON object only, no explanations.",
                "prompt": "Your name is Jerry's calendar agent. Public context: {environment->public_information}. Your private context: {agents->jerry->private_information}. Goal: {agents->jerry->goal}. Compute all 30-minute free slots for Monday within 09:00-17:00 where Jerry is not in a meeting. Return a JSON object with keys: person (string), free_slots (list of objects with start and end), hard_constraints (list), soft_preferences (list). Use only valid 24-hour HH:MM times and do not include overlaps with busy times."
            }
        },
        "bradley": {
            "availability": {
                "input": [],
                "output": "availability_bradley",
                "system_prompt": "You analyze an individual's calendar to produce availability windows and clearly separated hard constraints and soft preferences. You output a compact JSON object only, no explanations.",
                "prompt": "Your name is Bradley's calendar agent. Public context: {environment->public_information}. Your private context: {agents->bradley->private_information}. Goal: {agents->bradley->goal}. Compute all 30-minute free slots for Monday within 09:00-17:00 where Bradley is not in a meeting. Return a JSON object with keys: person (string), free_slots (list of objects with start and end), hard_constraints (list), soft_preferences (list). Use only valid 24-hour HH:MM times and do not include overlaps with busy times."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "availability_brandon",
                    "availability_jerry",
                    "availability_bradley"
                ],
                "output": "audit_availability",
                "system_prompt": "You are a temporal consistency auditor. Validate format, time ordering, and conflicts; normalize times to 30-minute granularity; intersect participant free slots to produce feasible group options; and prioritize soft preferences without inventing tokens or penalties. Output JSON only.",
                "prompt": "Inputs: {availability_brandon}, {availability_jerry}, {availability_bradley}. Public context: {environment->public_information}. Private context: {agents->auditor->private_information}. Produce a JSON object with keys: normalized (map person -> normalized free_slots list), feasible_slots (list of {start, end} that work for all participants), preferred_slots (subset of feasible_slots that best respect Brandon's after-14:30 preference), notes (brief list). Ensure causal/temporal consistency and remove bookkeeping shortcuts; rely solely on explicit schedules and constraints."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audit_availability"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent calendar scheduling and PDDL for the FastDownward solver. You must produce both a PDDL domain and a PDDL problem; enclose the domain between <domain></domain> and the problem between <problem></problem> tags. Use only classical STRIPS with :typing (no durative actions, no numeric fluents).",
                "prompt": "You coordinate Brandon, Jerry, and Bradley to schedule one 30-minute meeting on Monday within 09:00-17:00. Public context: {environment->public_information}. Audited availability and preferred slots: {audit_availability}. 1) Select a feasible slot that satisfies everyone's calendar and respects Brandon's preference after 14:30 if possible (the intersection 15:00-15:30 is valid). 2) Provide a PDDL domain and problem for FastDownward that can achieve the goal of scheduling the meeting at one slot. Keep it simple: types person and slot; predicates slot-free ?p ?s, within-hours ?s, scheduled, chosen ?s. Include an action choose-slot that schedules the meeting at a slot only if all three participants are free at that slot and it is within hours. Provide objects for participants and only the selected slot (e.g., s1500_1530) with the appropriate initial facts so the plan is solvable in one step. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>."
            }
        },
        "constraints": [
            "brandon.availability->auditor.audit",
            "jerry.availability->auditor.audit",
            "bradley.availability->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}