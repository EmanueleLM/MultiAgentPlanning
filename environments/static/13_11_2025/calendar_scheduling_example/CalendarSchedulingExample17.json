{
    "name": "CalendarSchedulingExample17",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "margaret_calendar",
            "donna_calendar",
            "helen_calendar",
            "temporal_auditor",
            "orchestrator"
        ],
        "margaret_calendar": {
            "private_information": [
                "I manage Margaret's calendar and can enumerate her free 30-minute slots within working hours.",
                "I do not modify constraints; I only report availability derived from public information."
            ],
            "goal": "Derive all 30-minute free slots for Margaret on Monday between 09:00 and 17:00 given the provided busy intervals."
        },
        "donna_calendar": {
            "private_information": [
                "I manage Donna's calendar and can enumerate her free 30-minute slots within working hours.",
                "I do not modify constraints; I only report availability derived from public information."
            ],
            "goal": "Derive all 30-minute free slots for Donna on Monday between 09:00 and 17:00 given the provided busy intervals."
        },
        "helen_calendar": {
            "private_information": [
                "I manage Helen's calendar and can enumerate her free 30-minute slots within working hours.",
                "I must also enforce Helen's preference to avoid any meeting after 13:30 on Monday."
            ],
            "goal": "Derive all 30-minute free slots for Helen on Monday between 09:00 and 17:00 given the provided busy intervals and the preference of not meeting after 13:30."
        },
        "temporal_auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents' availabilities.",
                "I remove bookkeeping shortcuts such as quota tokens or post-hoc penalties and only keep slots that satisfy all hard constraints and stated preferences."
            ],
            "goal": "Compute the intersection of the participants' 30-minute availabilities that respect work hours and preferences; ensure there is at least one feasible slot and provide a ranked list (earliest-first)."
        },
        "orchestrator": {
            "private_information": [
                "I integrate all agents' outputs and produce the final planning artifacts."
            ],
            "goal": "Select a feasible 30-minute slot on Monday that satisfies every participant's schedule and Helen's preference, and produce a valid PDDL domain and problem (STRIPS-compatible) targeting the Fast Downward solver that encodes the scheduling decision."
        }
    },
    "environment": {
        "init": {
            "work_day": "Monday",
            "work_hours": "09:00-17:00",
            "time_unit_minutes": 30,
            "time_format": "HH:MM"
        },
        "public_information": [
            "Objective: Schedule a 30-minute meeting for Margaret, Donna, and Helen on Monday within 09:00-17:00.",
            "Existing busy times (Monday):",
            "Margaret busy: 09:00-10:00, 10:30-11:00, 11:30-12:00, 13:00-13:30, 15:00-15:30.",
            "Donna busy: 14:30-15:00, 16:00-16:30.",
            "Helen busy: 09:00-09:30, 10:00-11:30, 13:00-14:00, 14:30-15:00, 15:30-17:00.",
            "Preference: Helen does not want to meet on Monday after 13:30.",
            "Assumption: Time granularity is 30 minutes; meetings must align to 30-minute boundaries.",
            "Feasibility note: There exists at least one slot that satisfies all constraints."
        ]
    },
    "workflow": {
        "margaret_calendar": {
            "compute_availability": {
                "input": [],
                "output": "availability_margaret",
                "system_prompt": "You are a calendar analyst for Margaret. Using the public information about work hours, meeting duration, and Margaret's busy times, list all 30-minute free slots on Monday within 09:00-17:00 aligned to 30-minute boundaries. Report only slots that are fully free for the entire 30 minutes.",
                "prompt": "Your name is margaret_calendar. Public information: {environment->public_information}. Your focus: Margaret's schedule. Produce a concise list of Margaret's free 30-minute slots within 09:00-17:00 on Monday using 30-minute alignment; do not include any slot overlapping busy intervals."
            }
        },
        "donna_calendar": {
            "compute_availability": {
                "input": [],
                "output": "availability_donna",
                "system_prompt": "You are a calendar analyst for Donna. Using the public information about work hours, meeting duration, and Donna's busy times, list all 30-minute free slots on Monday within 09:00-17:00 aligned to 30-minute boundaries. Report only slots that are fully free for the entire 30 minutes.",
                "prompt": "Your name is donna_calendar. Public information: {environment->public_information}. Your focus: Donna's schedule. Produce a concise list of Donna's free 30-minute slots within 09:00-17:00 on Monday using 30-minute alignment; do not include any slot overlapping busy intervals."
            }
        },
        "helen_calendar": {
            "compute_availability": {
                "input": [],
                "output": "availability_helen",
                "system_prompt": "You are a calendar analyst for Helen. Using the public information about work hours, meeting duration, Helen's busy times, and the stated preference to avoid meetings after 13:30, list all 30-minute free slots on Monday within 09:00-17:00 aligned to 30-minute boundaries that also end no later than 13:30.",
                "prompt": "Your name is helen_calendar. Public information: {environment->public_information}. Your focus: Helen's schedule and preference to avoid any meeting after 13:30. Produce a concise list of Helen's free 30-minute slots on Monday that end by 13:30 and do not overlap any busy interval."
            }
        },
        "temporal_auditor": {
            "audit_constraints": {
                "input": [
                    "availability_margaret",
                    "availability_donna",
                    "availability_helen"
                ],
                "output": "audited_slots",
                "system_prompt": "You audit temporal and causal consistency. Compute the intersection of the provided 30-minute availability lists. Remove any slot that violates work hours or the stated preference. Rank remaining slots from earliest to latest and provide a short justification for feasibility.",
                "prompt": "You receive the agents' availability outputs: {availability_margaret}, {availability_donna}, {availability_helen}. Public information: {environment->public_information}. Output the intersection as audited_slots, ordered earliest-first, and confirm that each slot satisfies all hard constraints and the preference. Reject any bookkeeping shortcuts or post-hoc penalties; only concrete, aligned 30-minute slots are allowed."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "availability_margaret",
                    "availability_donna",
                    "availability_helen",
                    "audited_slots"
                ],
                "output": "pddl_meeting_plan",
                "system_prompt": "You are an expert with multi-agent scheduling and PDDL. Produce a STRIPS-compatible PDDL domain and problem suitable for the Fast Downward solver. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. Model participants and timeslots; include predicates for free(participant, timeslot), feasible(timeslot), and scheduled(timeslot). Provide an action to schedule the meeting at a feasible timeslot if all participants are free. Ensure the initial state encodes the audited feasible intersection and that the goal reflects a meeting scheduled at the selected slot.",
                "prompt": "Integrate the audited intersection of availability: {audited_slots}, along with the individual availability evidence: {availability_margaret}, {availability_donna}, {availability_helen}. Select the earliest feasible 30-minute Monday slot that satisfies all constraints and Helen's preference; based on the given schedules, 12:00-12:30 is valid. Encode timeslots as objects aligned to 30-minute boundaries within 09:00-17:00 for Monday. Provide a minimal, clean PDDL domain and a problem instance that asserts feasibility for 12:00-12:30 and sets the goal to have the meeting scheduled at that timeslot. Keep agents' roles conceptually distinct in comments or object naming if needed, but produce a single coherent domain and problem for Fast Downward."
            }
        },
        "constraints": [
            "margaret_calendar.compute_availability->temporal_auditor.audit_constraints",
            "donna_calendar.compute_availability->temporal_auditor.audit_constraints",
            "helen_calendar.compute_availability->temporal_auditor.audit_constraints",
            "temporal_auditor.audit_constraints->orchestrator.pddl"
        ]
    }
}