{
    "name": "CalendarSchedulingExample19",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "stephen_agent",
            "edward_agent",
            "angela_agent",
            "consistency_auditor",
            "orchestrator"
        ],
        "stephen_agent": {
            "private_information": [
                "I am Stephen.",
                "My Monday busy times are: 10:00-10:30, 13:00-13:30, 14:30-15:00, 16:00-16:30."
            ],
            "goal": "Schedule a one-hour meeting on Monday between 09:00 and 17:00 that works for Stephen, Edward, and Angela."
        },
        "edward_agent": {
            "private_information": [
                "I am Edward.",
                "My Monday busy times are: 09:00-09:30, 10:00-10:30, 13:30-14:30, 15:00-16:00."
            ],
            "goal": "Schedule a one-hour meeting on Monday between 09:00 and 17:00 that works for Stephen, Edward, and Angela."
        },
        "angela_agent": {
            "private_information": [
                "I am Angela.",
                "My Monday busy times are: 09:00-11:30, 12:30-13:00, 13:30-15:30, 16:00-17:00."
            ],
            "goal": "Schedule a one-hour meeting on Monday between 09:00 and 17:00 that works for Stephen, Edward, and Angela."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents.",
                "I remove bookkeeping shortcuts such as quota tokens, post-hoc penalties, or unverifiable claims.",
                "I normalize time formats and ensure all constraints respect the declared granularity and work window."
            ],
            "goal": "Produce a vetted, intersection-based availability that is temporally consistent and sufficient to schedule a one-hour meeting on Monday within 09:00-17:00."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and compile their information into a final planning model."
            ],
            "goal": "Integrate audited availability and produce a final PDDL domain and problem suitable for the FastDownward solver that schedules a valid one-hour meeting for Stephen, Edward, and Angela on Monday within 09:00-17:00."
        }
    },
    "environment": {
        "init": {
            "day": "Monday",
            "work_hours": "09:00-17:00",
            "meeting_duration_minutes": 60,
            "time_granularity_minutes": 30,
            "slots": [
                "09:00",
                "09:30",
                "10:00",
                "10:30",
                "11:00",
                "11:30",
                "12:00",
                "12:30",
                "13:00",
                "13:30",
                "14:00",
                "14:30",
                "15:00",
                "15:30",
                "16:00",
                "16:30"
            ],
            "slot_ids": {
                "s0900": "09:00",
                "s0930": "09:30",
                "s1000": "10:00",
                "s1030": "10:30",
                "s1100": "11:00",
                "s1130": "11:30",
                "s1200": "12:00",
                "s1230": "12:30",
                "s1300": "13:00",
                "s1330": "13:30",
                "s1400": "14:00",
                "s1430": "14:30",
                "s1500": "15:00",
                "s1530": "15:30",
                "s1600": "16:00",
                "s1630": "16:30"
            },
            "grid_size": 1,
            "visibility": 0
        },
        "public_information": [
            "Task: Schedule a one-hour meeting for Stephen, Edward, and Angela on Monday during work hours 09:00-17:00.",
            "Time granularity is 30 minutes; the meeting requires two consecutive 30-minute slots.",
            "All times are local and refer to the same Monday.",
            "There exists at least one valid time that satisfies all constraints.",
            "Output formats from non-orchestrator agents should be structured JSON fragments without PDDL."
        ]
    },
    "workflow": {
        "stephen_agent": {
            "analyze_schedule": {
                "input": [],
                "output": "availability_stephen",
                "system_prompt": "You analyze personal calendars and compute free time respecting declared work hours and granularity. Produce a concise JSON object with free intervals that align to the declared 30-minute granularity and are within the work window. Do not produce PDDL.",
                "prompt": "Your name is stephen_agent. Consider the public information {environment->public_information} and your private busy times {agents->stephen_agent->private_information}. Compute your free intervals within 09:00-17:00 on Monday using 30-minute granularity and return a JSON object with keys: participant, day, granularity_minutes, free_intervals (list of {start, end}), and candidate_starts_60min (list of eligible start times for a 60-minute meeting)."
            }
        },
        "edward_agent": {
            "analyze_schedule": {
                "input": [],
                "output": "availability_edward",
                "system_prompt": "You analyze personal calendars and compute free time respecting declared work hours and granularity. Produce a concise JSON object with free intervals that align to the declared 30-minute granularity and are within the work window. Do not produce PDDL.",
                "prompt": "Your name is edward_agent. Consider the public information {environment->public_information} and your private busy times {agents->edward_agent->private_information}. Compute your free intervals within 09:00-17:00 on Monday using 30-minute granularity and return a JSON object with keys: participant, day, granularity_minutes, free_intervals (list of {start, end}), and candidate_starts_60min (list of eligible start times for a 60-minute meeting)."
            }
        },
        "angela_agent": {
            "analyze_schedule": {
                "input": [],
                "output": "availability_angela",
                "system_prompt": "You analyze personal calendars and compute free time respecting declared work hours and granularity. Produce a concise JSON object with free intervals that align to the declared 30-minute granularity and are within the work window. Do not produce PDDL.",
                "prompt": "Your name is angela_agent. Consider the public information {environment->public_information} and your private busy times {agents->angela_agent->private_information}. Compute your free intervals within 09:00-17:00 on Monday using 30-minute granularity and return a JSON object with keys: participant, day, granularity_minutes, free_intervals (list of {start, end}), and candidate_starts_60min (list of eligible start times for a 60-minute meeting)."
            }
        },
        "consistency_auditor": {
            "audit_consistency": {
                "input": [
                    "availability_stephen",
                    "availability_edward",
                    "availability_angela"
                ],
                "output": "audited_availability",
                "system_prompt": "You are a rigorous temporal and causal consistency auditor. Normalize time formats, enforce 30-minute granularity and the 09:00-17:00 window, and disallow bookkeeping shortcuts such as quota tokens, implicit credits, or unverifiable penalties. Compute the intersection of availability across all participants and list only starts that allow a contiguous 60-minute window. Return a JSON object with keys: day, granularity_minutes, meeting_duration_minutes, intersection_free_windows (list of {start, end}), eligible_start_times (list), rationale (short text). Do not produce PDDL.",
                "prompt": "You will receive three availability summaries. Validate and intersect them. Ensure that each reported time is aligned to the 30-minute grid and within the work window. Remove any inconsistent or unsupported claims. Return the vetted JSON object described in your instructions."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_availability"
                ],
                "output": "pddl_meeting_plan",
                "system_prompt": "You are an expert with PDDL for the FastDownward planner. Produce a complete PDDL domain and problem that captures one-hour meeting scheduling over 30-minute slots using objects for slots and participants. Use STRIPS and typing, avoid durative actions, and encode the requirement that the meeting occupies two consecutive 30-minute slots that are free for Stephen, Edward, and Angela. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. The result must be directly solvable by FastDownward.",
                "prompt": "Integrate the audited availability {audited_availability} and the public information {environment->public_information}. Build a domain where participants are constants, slots are objects, and a single action schedules a one-hour meeting by choosing two consecutive slot objects that are free for all participants. Include predicates for free(p, s), consecutive(s1, s2), and scheduled(m). The problem should declare Monday slots from 09:00 to 17:00 at 30-minute increments, encode all free(p, s) facts consistent with the audited availability, and require the goal (scheduled m1). Ensure the consecutive relations are defined between adjacent slots only, and that only truly free slots are marked free for each participant."
            }
        },
        "constraints": [
            "stephen_agent.analyze_schedule->consistency_auditor.audit_consistency",
            "edward_agent.analyze_schedule->consistency_auditor.audit_consistency",
            "angela_agent.analyze_schedule->consistency_auditor.audit_consistency",
            "consistency_auditor.audit_consistency->orchestrator.pddl"
        ]
    }
}