{
    "name": "CalendarSchedulingExample21",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "bobby",
            "scott",
            "kimberly",
            "auditor",
            "orchestrator"
        ],
        "bobby": {
            "private_information": [
                "I am Bobby.",
                "My calendar is open Monday 09:00-17:00.",
                "I slightly prefer earlier morning times if multiple options exist."
            ],
            "goal": "Share my true availability and acceptable one-hour slots within the work window so a meeting with Scott and Kimberly can be scheduled."
        },
        "scott": {
            "private_information": [
                "I am Scott.",
                "Busy Monday: 11:30-12:00, 15:30-16:00."
            ],
            "goal": "Provide accurate availability windows and candidate one-hour slots that fit within the work window and avoid my busy times."
        },
        "kimberly": {
            "private_information": [
                "I am Kimberly.",
                "Busy Monday: 11:00-12:00, 12:30-13:00, 13:30-14:00, 14:30-15:00, 15:30-17:00."
            ],
            "goal": "Provide accurate availability windows and candidate one-hour slots that fit within the work window and avoid my busy times."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency.",
                "I normalize time formats and clarify interval boundary conventions.",
                "I remove bookkeeping shortcuts such as quota tokens, post-hoc penalties, or speculative allowances.",
                "I ensure only slots that are truly feasible for all participants remain."
            ],
            "goal": "Validate and normalize the participants' availabilities, compute their intersection for a 60-minute meeting within 09:00-17:00 Monday, and output consistent candidate slots."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Select a final one-hour meeting time that works for Bobby, Scott, and Kimberly on Monday within 09:00-17:00 and produce a PDDL domain and problem compatible with the Fast Downward solver that models and solves the selection."
        }
    },
    "environment": {
        "init": {
            "time_unit": "minute",
            "time_format": "HH:MM",
            "day": "Monday",
            "work_hours": {
                "start": "09:00",
                "end": "17:00"
            },
            "meeting_duration_minutes": 60,
            "solver": "FastDownward"
        },
        "public_information": [
            "Participants: Bobby, Scott, Kimberly.",
            "Work day: Monday.",
            "Work hours: 09:00-17:00.",
            "Meeting duration: 60 minutes.",
            "Bobby is free the entire work window on Monday.",
            "Scott is busy Monday 11:30-12:00 and 15:30-16:00.",
            "Kimberly is busy Monday 11:00-12:00, 12:30-13:00, 13:30-14:00, 14:30-15:00, 15:30-17:00.",
            "There exists at least one feasible one-hour slot for all participants within the work window."
        ]
    },
    "workflow": {
        "bobby": {
            "availability": {
                "input": [],
                "output": "availability_bobby",
                "system_prompt": "You are a calendar summarizer. Produce normalized availability for the given work window and meeting duration. Use 24-hour HH:MM times and half-open intervals [start, end) where end is not included. Include only windows within the specified work hours.",
                "prompt": "Your name is bobby. Public info: {environment->public_information}. Your knowledge: {agents->bobby->private_information}. Goal: {agents->bobby->goal}. Output a compact JSON object with fields: participant, free_windows (list of [start, end) within 09:00-17:00), and candidate_one_hour_slots (list of [start, end) that fit exactly 60 minutes). Do not emit PDDL."
            }
        },
        "scott": {
            "availability": {
                "input": [],
                "output": "availability_scott",
                "system_prompt": "You are a calendar summarizer. Produce normalized availability for the given work window and meeting duration. Use 24-hour HH:MM times and half-open intervals [start, end). Subtract your busy blocks from the work window and list valid one-hour slots.",
                "prompt": "Your name is scott. Public info: {environment->public_information}. Your knowledge: {agents->scott->private_information}. Goal: {agents->scott->goal}. Output a compact JSON object with fields: participant, free_windows, and candidate_one_hour_slots using [start, end). Do not emit PDDL."
            }
        },
        "kimberly": {
            "availability": {
                "input": [],
                "output": "availability_kimberly",
                "system_prompt": "You are a calendar summarizer. Produce normalized availability for the given work window and meeting duration. Use 24-hour HH:MM times and half-open intervals [start, end). Subtract your busy blocks and list valid one-hour slots.",
                "prompt": "Your name is kimberly. Public info: {environment->public_information}. Your knowledge: {agents->kimberly->private_information}. Goal: {agents->kimberly->goal}. Output a compact JSON object with fields: participant, free_windows, and candidate_one_hour_slots using [start, end). Do not emit PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "availability_bobby",
                    "availability_scott",
                    "availability_kimberly"
                ],
                "output": "audit_report",
                "system_prompt": "You are a temporal/causal consistency auditor. Validate time formats, ensure [start, end) semantics, remove invented allowances, and compute the true intersection of free windows for a 60-minute meeting within 09:00-17:00. If a claimed one-hour slot overlaps any busy time or crosses work-hour boundaries, discard it. Normalize to sorted, non-overlapping windows.",
                "prompt": "You will receive three availability JSON objects: {availability_bobby}, {availability_scott}, {availability_kimberly}. Public info: {environment->public_information}. Produce a JSON object with fields: normalized_availabilities (per participant free_windows as [start, end)), intersection_one_hour_slots (list of [start, end) that all three can attend for exactly 60 minutes), and notes (brief audit checks performed). Do not emit PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "availability_bobby",
                    "availability_scott",
                    "availability_kimberly",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL modeling and planning for the Fast Downward solver. Build a small STRIPS-compatible domain that selects exactly one meeting slot from provided candidate slots, ensuring all participants are free and the slot lies within the work window and equals 60 minutes. Use :strips and :typing only; avoid unsupported constructs. Represent participants and slots as typed objects, encode free(participant, slot) facts, and an action choose-slot that schedules the meeting on a slot when all participants are free. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. The problem should include all candidate slots from the auditor and facts establishing who is free on which slot, with the goal that exactly one slot is scheduled.",
                "prompt": "Coordinate Bobby, Scott, and Kimberly to schedule a one-hour meeting on Monday within 09:00-17:00. Public info: {environment->public_information}. Inputs: {availability_bobby}, {availability_scott}, {availability_kimberly}, {audit_report}. 1) Select a specific one-hour slot that is feasible for all (prefer the earliest feasible slot if multiple exist). 2) Produce the final PDDL domain and problem targeting the Fast Downward solver, using only :strips and :typing, objects for participants and slots, predicates such as free(?p ?s), chosen(?s), and not-chosen accounted via action preconditions/effects. 3) Include only candidate slots that pass the auditor. Enclose outputs within <domain></domain> and <problem></problem>."
            }
        },
        "constraints": [
            "bobby.availability->auditor.audit",
            "scott.availability->auditor.audit",
            "kimberly.availability->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}