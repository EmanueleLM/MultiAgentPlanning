{
    "name": "CalendarSchedulingExample22",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "calendar_analyst",
            "preference_modeler",
            "auditor",
            "orchestrator"
        ],
        "calendar_analyst": {
            "private_information": [
                "Expert in parsing and normalizing calendar data",
                "Skilled at computing free/busy windows and intersections"
            ],
            "goal": "Derive canonical free/busy representations and feasible meeting windows under the provided constraints."
        },
        "preference_modeler": {
            "private_information": [
                "Applies simple human-time preferences to rank feasible meeting slots",
                "Defaults to earliest-feasible meeting time in absence of explicit preferences"
            ],
            "goal": "Rank the feasible meeting windows according to soft preferences and explain the rationale."
        },
        "auditor": {
            "private_information": [
                "Audits temporal and causal consistency across all derived constraints",
                "Removes bookkeeping shortcuts such as quota tokens, post-hoc penalties, or unverifiable assumptions"
            ],
            "goal": "Validate that candidate windows satisfy all hard constraints, expose conflicts, and output a cleaned, consistent set of candidates."
        },
        "orchestrator": {
            "private_information": [
                "Coordinates the pipeline and compiles final artifacts",
                "Transforms validated candidate windows into a PDDL domain and problem compatible with the FastDownwards solver"
            ],
            "goal": "Produce a final PDDL domain and problem that encodes the validated meeting scheduling instance and supports solving with the FastDownwards planner."
        }
    },
    "environment": {
        "init": {
            "day": "Monday",
            "work_window": {
                "start": "09:00",
                "end": "17:00"
            },
            "duration_minutes": 60,
            "time_step_minutes": 30,
            "timezone": "local",
            "participants": [
                "Theresa",
                "Charles",
                "Betty"
            ]
        },
        "public_information": [
            "Task: Schedule a one-hour meeting for Theresa, Charles, and Betty during Monday work hours (09:00 to 17:00).",
            "Existing schedules for Monday:",
            "Theresa busy: 09:00-09:30, 12:30-13:30, 14:00-15:00, 16:30-17:00.",
            "Charles busy: 10:00-10:30, 11:30-12:30, 14:00-15:30.",
            "Betty busy: 09:00-10:30, 12:00-12:30, 13:00-14:00, 15:00-16:00.",
            "Meeting duration: 60 minutes. Work window bounds must be respected. Assume there exists at least one feasible solution that satisfies all participants\u2019 existing commitments."
        ]
    },
    "workflow": {
        "calendar_analyst": {
            "analyze_calendars": {
                "input": [],
                "output": "calendar_summary",
                "system_prompt": "You are a calendar analysis specialist. From the public information, extract busy intervals for each participant, normalize them to non-overlapping half-hour slots within the global work window, compute each participant\u2019s free windows, and compute the intersection windows that are long enough to host a 60-minute meeting. Do not produce PDDL; produce a precise and minimal JSON-style summary of free, busy, and feasible intersection windows; avoid assumptions beyond what is given.",
                "prompt": "Your name is calendar_analyst. Public information: {environment->public_information}. Use the work window, duration, and busy intervals to compute normalized per-participant free/busy windows and the feasible intersection windows for a 60-minute meeting. Stay within Monday 09:00-17:00 and use 30-minute steps for normalization. Do not invent data."
            }
        },
        "preference_modeler": {
            "rank_slots": {
                "input": [
                    "calendar_summary"
                ],
                "output": "preferences",
                "system_prompt": "You are a meeting preference modeler. Given feasible intersection windows, propose a soft preference ordering. In absence of explicit user preferences, prefer the earliest feasible window and avoid slots that abut the day boundary if an earlier solution exists. Do not output PDDL; provide a concise JSON-style ranked list of candidate windows with short rationales.",
                "prompt": "Your name is preference_modeler. Here is the computed calendar summary: {calendar_summary}. Rank the feasible windows for a 60-minute meeting using simple preferences (earliest-first unless otherwise stated). Return an ordered list with brief justifications."
            }
        },
        "auditor": {
            "audit_temporal_consistency": {
                "input": [
                    "calendar_summary",
                    "preferences"
                ],
                "output": "audit_report",
                "system_prompt": "You are the temporal and causal consistency auditor. Verify that each candidate window satisfies the duration, fits fully within the work window, and does not overlap any participant\u2019s busy intervals. Remove bookkeeping shortcuts such as quota tokens, post-hoc penalties, or unverifiable assumptions, and provide a cleaned and justified set of candidates. Do not output PDDL; return a compact JSON-style report with pass/fail checks and the final accepted candidate set.",
                "prompt": "Your name is auditor. Use the calendar summary {calendar_summary} and the ranked preferences {preferences} to validate all hard constraints and produce a cleaned, consistent set of acceptable meeting windows with explanations of any removals."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "calendar_summary",
                    "preferences",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert orchestrator who integrates analysis, preferences, and audits to produce the final planning model. Generate a PDDL domain and problem compatible with the FastDownwards solver that models meeting scheduling over discretized 30-minute timeslots for Monday 09:00-17:00. Represent participants, timeslots, successor (next) relations, busy predicates per participant per slot, and a goal that schedules a single meeting occupying two consecutive slots (60 minutes) that are simultaneously free for all participants. Ensure the domain is typed and suitable for classical planning; keep actions minimal (e.g., choose-start-slot) and require that both the start slot and its next slot are free for all participants and within bounds. Enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem> tags.",
                "prompt": "Your name is orchestrator. The global goal is to schedule a one-hour meeting for all participants within Monday 09:00-17:00 without overlapping their busy times. Public information: {environment->public_information}. Use the integrated artifacts {calendar_summary}, {preferences}, and {audit_report} to select the consistent candidate set, encode busy and time relations, and output the final PDDL domain and problem for FastDownwards. Keep the meeting as a single object and encode the chosen timeslot objects with appropriate initial facts."
            }
        },
        "constraints": [
            "calendar_analyst.analyze_calendars->preference_modeler.rank_slots",
            "calendar_analyst.analyze_calendars->auditor.audit_temporal_consistency",
            "preference_modeler.rank_slots->auditor.audit_temporal_consistency",
            "preference_modeler.rank_slots->orchestrator.compile_pddl",
            "auditor.audit_temporal_consistency->orchestrator.compile_pddl"
        ]
    }
}