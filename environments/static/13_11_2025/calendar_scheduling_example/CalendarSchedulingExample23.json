{
    "name": "CalendarSchedulingExample23",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "billy",
            "maria",
            "william",
            "consistency_auditor",
            "orchestrator"
        ],
        "billy": {
            "private_information": [
                "Personal calendar busy blocks (Monday): 11:30-12:00, 13:00-15:00, 16:00-16:30"
            ],
            "goal": "Report all 60-minute availability windows on Monday within 09:00-17:00 that do not overlap with personal busy blocks."
        },
        "maria": {
            "private_information": [
                "Personal calendar busy blocks (Monday): 09:00-09:30, 10:00-10:30, 13:00-13:30, 14:00-14:30"
            ],
            "goal": "Report all 60-minute availability windows on Monday within 09:00-17:00 that do not overlap with personal busy blocks."
        },
        "william": {
            "private_information": [
                "Personal calendar busy blocks (Monday): 09:30-10:00, 12:00-12:30, 13:30-15:00, 15:30-17:00"
            ],
            "goal": "Report all 60-minute availability windows on Monday within 09:00-17:00 that do not overlap with personal busy blocks."
        },
        "consistency_auditor": {
            "private_information": [
                "Role: Audit temporal and causal consistency across agents' availability, eliminate bookkeeping shortcuts (e.g., quota tokens, post-hoc penalties, heuristic fudge factors), and ensure final feasible windows respect shared constraints."
            ],
            "goal": "Intersect and validate the participants' availability, ensuring the result is temporally consistent, within working hours, matches duration and granularity, and contains no conflicts."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate validated availability and produce a final PDDL domain and problem for scheduling a 60-minute meeting on Monday within 09:00-17:00 that all participants can attend."
        }
    },
    "environment": {
        "init": {
            "day": "Monday",
            "work_hours": {
                "start": "09:00",
                "end": "17:00"
            },
            "meeting_duration_minutes": 60,
            "time_step_minutes": 30,
            "time_format": "HH:MM",
            "timezone": "Local"
        },
        "public_information": [
            "Participants: Billy, Maria, William.",
            "Meeting duration: 60 minutes.",
            "Work window: Monday 09:00-17:00.",
            "Time granularity: 30-minute steps with HH:MM format.",
            "There exists at least one solution satisfying all participants' calendars."
        ]
    },
    "workflow": {
        "billy": {
            "availability": {
                "input": [],
                "output": "availability_billy",
                "system_prompt": "You are a scheduling assistant for one participant. Compute availability windows by subtracting your busy intervals from the shared work window. Use the provided meeting duration and time granularity, normalize times to HH:MM, and only return times on Monday within 09:00-17:00. Do not produce PDDL.",
                "prompt": "Your name is Billy. Public context: {environment->public_information}. Your busy blocks are: {agents->billy->private_information}. Your goal: {agents->billy->goal}. Return a concise JSON object with a key slots, listing 60-minute windows on 30-minute boundaries that you can attend, e.g., {\"slots\": [{\"start\": \"10:30\", \"end\": \"11:30\"}, ...]}."
            }
        },
        "maria": {
            "availability": {
                "input": [],
                "output": "availability_maria",
                "system_prompt": "You are a scheduling assistant for one participant. Compute availability windows by subtracting your busy intervals from the shared work window. Use the provided meeting duration and time granularity, normalize times to HH:MM, and only return times on Monday within 09:00-17:00. Do not produce PDDL.",
                "prompt": "Your name is Maria. Public context: {environment->public_information}. Your busy blocks are: {agents->maria->private_information}. Your goal: {agents->maria->goal}. Return a concise JSON object with a key slots, listing 60-minute windows on 30-minute boundaries that you can attend, e.g., {\"slots\": [{\"start\": \"10:30\", \"end\": \"11:30\"}, ...]}."
            }
        },
        "william": {
            "availability": {
                "input": [],
                "output": "availability_william",
                "system_prompt": "You are a scheduling assistant for one participant. Compute availability windows by subtracting your busy intervals from the shared work window. Use the provided meeting duration and time granularity, normalize times to HH:MM, and only return times on Monday within 09:00-17:00. Do not produce PDDL.",
                "prompt": "Your name is William. Public context: {environment->public_information}. Your busy blocks are: {agents->william->private_information}. Your goal: {agents->william->goal}. Return a concise JSON object with a key slots, listing 60-minute windows on 30-minute boundaries that you can attend, e.g., {\"slots\": [{\"start\": \"10:30\", \"end\": \"11:30\"}, ...]}."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "availability_billy",
                    "availability_maria",
                    "availability_william"
                ],
                "output": "audit_report",
                "system_prompt": "You audit temporal and causal consistency. Intersect participants' availability, remove conflicts, enforce Monday 09:00-17:00, 60-minute duration, and 30-minute granularity. Eliminate bookkeeping shortcuts (quota tokens, post-hoc penalties, fudge factors). Validate that each feasible slot is present in every participant's availability. Do not produce PDDL.",
                "prompt": "You receive availability from Billy, Maria, and William: {availability_billy} {availability_maria} {availability_william}. Produce a JSON object with keys feasible_slots (array of {start, end}), notes (brief validation notes), and normalization (the granularity and format applied). If no slot is feasible, explain why; otherwise, list all feasible slots."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "availability_billy",
                    "availability_maria",
                    "availability_william",
                    "audit_report"
                ],
                "output": "pddl_schedule",
                "system_prompt": "You are an expert with multi-agent PDDL problems targeting the Fast Downward (FastDownwards) solver. You must produce a PDDL domain and a PDDL problem that encode selecting exactly one 60-minute meeting slot on Monday within 09:00-17:00 such that Billy, Maria, and William are all available. Keep agent-related actions conceptually distinct if you include them. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. Ensure the formulation discretizes time in 30-minute steps, uses consistent object names for slots, and includes goal and metric suitable for Fast Downward.",
                "prompt": "Task: Schedule a 60-minute meeting for Billy, Maria, and William on Monday within 09:00-17:00. Public context: {environment->public_information}. Inputs: Participants' availability and the audited intersection: {availability_billy} {availability_maria} {availability_william} {audit_report}. Integrate these to define PDDL objects for time slots (30-minute increments), predicates that mark slot feasibility for each participant, and a goal that selects exactly one slot covering 60 minutes that all can attend. Output only the PDDL domain and problem wrapped in <domain></domain> and <problem></problem>."
            }
        },
        "constraints": [
            "billy.availability->consistency_auditor.audit",
            "maria.availability->consistency_auditor.audit",
            "william.availability->consistency_auditor.audit",
            "consistency_auditor.audit->orchestrator.pddl"
        ]
    }
}