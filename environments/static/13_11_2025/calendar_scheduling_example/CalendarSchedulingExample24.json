{
    "name": "CalendarSchedulingExample24",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "calendar_manager",
            "preference_analyst",
            "temporal_auditor",
            "orchestrator"
        ],
        "calendar_manager": {
            "private_information": [
                "Has read-only access to all participant calendars for Monday.",
                "Understands working hours boundaries and 30-minute granularity.",
                "Knows to intersect free intervals across participants without making assumptions beyond the provided data."
            ],
            "goal": "Extract each participant's free intervals constrained to the work window and produce normalized 30-minute slots."
        },
        "preference_analyst": {
            "private_information": [
                "Understands that hard constraints must never be violated and soft preferences should be respected when feasible.",
                "Treats statements such as 'does not want to' as a soft constraint unless feasibility of a no-violation solution is confirmed."
            ],
            "goal": "Summarize and formalize participant preferences into machine-checkable constraints over time slots."
        },
        "temporal_auditor": {
            "private_information": [
                "Expert in temporal and causal consistency checking.",
                "Prohibits bookkeeping shortcuts such as token quotas, artificial penalties, or post-hoc rule bending.",
                "Ensures the final constraints admit at least one feasible slot and that proposed slots do not overlap existing meetings."
            ],
            "goal": "Audit availability and preferences, remove shortcuts, and output a consistent, minimal set of constraints along with a validated candidate slot if uniquely determined."
        },
        "orchestrator": {
            "private_information": [
                "Coordinates the agents and compiles the final planning artifacts.",
                "Targets the FastDownwards solver and emits a PDDL domain and problem with tags <domain></domain> and <problem></problem>.",
                "Keeps the model simple and solvable in a single step where an action schedules the meeting in a specific time slot."
            ],
            "goal": "Integrate audited availability and preferences and produce the final PDDL domain and problem that encode the chosen slot and allow FastDownwards to find a plan."
        }
    },
    "environment": {
        "init": {
            "day": "Monday",
            "timezone": "UTC",
            "work_hours": {
                "start": "09:00",
                "end": "17:00"
            },
            "time_step_minutes": 30,
            "solver_target": "FastDownwards"
        },
        "public_information": [
            "Participants: Benjamin, Hannah, Brenda.",
            "Meeting duration: 30 minutes.",
            "Work window: Monday 09:00 to 17:00.",
            "Existing schedules on Monday:",
            "Benjamin: free the entire day.",
            "Hannah: free the entire day.",
            "Brenda: busy 09:30-10:00, 11:30-12:30, 14:00-16:30.",
            "Preference: Benjamin does not want to meet on Monday after 09:30.",
            "A feasible solution exists that respects all calendars and the stated preference."
        ]
    },
    "workflow": {
        "calendar_manager": {
            "analyze_calendar": {
                "input": [],
                "output": "availability_windows",
                "system_prompt": "You are the calendar_manager. Given the public information and your private knowledge, compute free intervals for each participant within the work window and enumerate normalized 30-minute candidate slots that are common to all participants.",
                "prompt": "Your name is calendar_manager. Public information: {environment->public_information}. Your knowledge: {agents->calendar_manager->private_information}. Goal: {agents->calendar_manager->goal}. Provide a concise JSON object with fields participants_free, common_free_slots, and notes. Do not emit PDDL."
            }
        },
        "preference_analyst": {
            "extract_preferences": {
                "input": [],
                "output": "preferences_summary",
                "system_prompt": "You are the preference_analyst. Read the public information and formalize preferences into time-window constraints distinguishing hard and soft constraints.",
                "prompt": "Your name is preference_analyst. Public information: {environment->public_information}. Your knowledge: {agents->preference_analyst->private_information}. Goal: {agents->preference_analyst->goal}. Output a concise JSON object with fields hard_constraints, soft_constraints, and rationale. Do not emit PDDL."
            }
        },
        "temporal_auditor": {
            "audit_temporal_consistency": {
                "input": [
                    "availability_windows",
                    "preferences_summary"
                ],
                "output": "audited_constraints",
                "system_prompt": "You are the temporal_auditor. Audit the inputs for temporal and causal consistency, remove bookkeeping shortcuts such as token quotas or post-hoc penalties, and return a minimal, sound set of constraints along with a vetted candidate slot if uniquely determined.",
                "prompt": "Your name is temporal_auditor. Public information: {environment->public_information}. Availability: {availability_windows}. Preferences: {preferences_summary}. Your knowledge: {agents->temporal_auditor->private_information}. Goal: {agents->temporal_auditor->goal}. Provide a concise JSON object with fields feasible_slots, eliminated_slots_with_reasons, selected_slot, and final_constraints. Do not emit PDDL."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "audited_constraints"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator for multi-agent scheduling. You must produce a final PDDL domain and problem compatible with the FastDownwards solver. Always enclose the domain in <domain></domain> and the problem in <problem></problem>. Keep the model simple: represent 30-minute slots as objects, participants as objects, predicates for available and scheduled, and a single action that schedules the meeting in a slot that is available for all and satisfies final constraints.",
                "prompt": "Task: Integrate the audited constraints and compile a solvable PDDL domain and problem for FastDownwards that yields a plan scheduling the meeting. Audited input: {audited_constraints}. Public context: {environment->public_information}. Requirements: define objects for participants and candidate time slots; include predicates such as available ?p ?s, chosen ?s, scheduled; provide an action choose-slot that requires availability for all participants and any additional final constraints; include an initial state marking availability and constraints as facts and mark goal as scheduled. Output only PDDL wrapped in <domain></domain> and <problem></problem> tags."
            }
        },
        "constraints": [
            "calendar_manager.analyze_calendar->temporal_auditor.audit_temporal_consistency",
            "preference_analyst.extract_preferences->temporal_auditor.audit_temporal_consistency",
            "temporal_auditor.audit_temporal_consistency->orchestrator.synthesize_pddl"
        ]
    }
}