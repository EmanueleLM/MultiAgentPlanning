{
    "name": "CalendarSchedulingExample27",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "jesse_calendar",
            "kathryn_calendar",
            "megan_calendar",
            "temporal_auditor",
            "orchestrator"
        ],
        "jesse_calendar": {
            "private_information": [
                "I represent Jesse",
                "I maintain Jesse's personal calendar and working hours",
                "Busy on Monday 10:00-10:30 and 15:30-16:00"
            ],
            "goal": "Provide Jesse's accurate working hours, busy slots, and inferred free intervals for Monday to support scheduling a 30-minute meeting within the workday."
        },
        "kathryn_calendar": {
            "private_information": [
                "I represent Kathryn",
                "I maintain Kathryn's personal calendar and working hours",
                "Kathryn is free all day on Monday within work hours"
            ],
            "goal": "Provide Kathryn's accurate working hours, busy slots, and inferred free intervals for Monday to support scheduling a 30-minute meeting within the workday."
        },
        "megan_calendar": {
            "private_information": [
                "I represent Megan",
                "I maintain Megan's personal calendar and working hours",
                "Busy on Monday 10:30-11:00, 11:30-12:30, 13:30-14:30, 15:00-16:30"
            ],
            "goal": "Provide Megan's accurate working hours, busy slots, and inferred free intervals for Monday to support scheduling a 30-minute meeting within the workday."
        },
        "temporal_auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents' schedules",
                "I normalize time representations, align time zones, and validate constraints",
                "I remove bookkeeping shortcuts such as quota tokens or post-hoc penalties and require concrete calendar evidence"
            ],
            "goal": "Validate and reconcile all participants' schedules, ensure constraint satisfaction, and produce a consistent set of feasible 30-minute candidate meeting slots ordered by earliest availability."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate multi-agent inputs and produce the final plan artifact",
                "I must output a PDDL domain and problem suitable for the FastDownwards solver to schedule the earliest valid meeting slot"
            ],
            "goal": "Integrate validated schedules and select the earliest feasible 30-minute slot on Monday within work hours. Produce a final PDDL domain and problem targeting the FastDownwards solver, enclosing the domain in <domain></domain> and the problem in <problem></problem>."
        }
    },
    "environment": {
        "init": {
            "time_zone": "UTC",
            "day": "Monday",
            "work_hours_start": "09:00",
            "work_hours_end": "17:00",
            "duration_minutes": 30,
            "slot_granularity_minutes": 30
        },
        "public_information": [
            "Participants: Jesse, Kathryn, Megan",
            "Work hours for all participants on Monday are 09:00 to 17:00",
            "Meeting duration is 30 minutes",
            "Existing schedules on Monday: Jesse busy 10:00-10:30 and 15:30-16:00; Kathryn free all day; Megan busy 10:30-11:00, 11:30-12:30, 13:30-14:30, 15:00-16:30",
            "Preference: schedule the meeting at the earliest availability that works for everyone",
            "A solution exists that satisfies all constraints"
        ]
    },
    "workflow": {
        "jesse_calendar": {
            "report": {
                "input": [],
                "output": "calendar_jesse",
                "system_prompt": "You are a calendar extraction and summarization assistant for a single participant. You do not produce PDDL. You return concrete working hours, busy intervals, and free intervals for the requested day with exact times and clear assumptions if any.",
                "prompt": "Your name is jesse_calendar. Use the public context {environment->public_information} and your private records {agents->jesse_calendar->private_information}. Return a single JSON object with keys: participant, working_hours, busy, free, assumptions. The free intervals must be computed within the working hours with 30-minute granularity and without overlaps. Do not include any PDDL."
            }
        },
        "kathryn_calendar": {
            "report": {
                "input": [],
                "output": "calendar_kathryn",
                "system_prompt": "You are a calendar extraction and summarization assistant for a single participant. You do not produce PDDL. You return concrete working hours, busy intervals, and free intervals for the requested day with exact times and clear assumptions if any.",
                "prompt": "Your name is kathryn_calendar. Use the public context {environment->public_information} and your private records {agents->kathryn_calendar->private_information}. Return a single JSON object with keys: participant, working_hours, busy, free, assumptions. The free intervals must be computed within the working hours with 30-minute granularity and without overlaps. Do not include any PDDL."
            }
        },
        "megan_calendar": {
            "report": {
                "input": [],
                "output": "calendar_megan",
                "system_prompt": "You are a calendar extraction and summarization assistant for a single participant. You do not produce PDDL. You return concrete working hours, busy intervals, and free intervals for the requested day with exact times and clear assumptions if any.",
                "prompt": "Your name is megan_calendar. Use the public context {environment->public_information} and your private records {agents->megan_calendar->private_information}. Return a single JSON object with keys: participant, working_hours, busy, free, assumptions. The free intervals must be computed within the working hours with 30-minute granularity and without overlaps. Do not include any PDDL."
            }
        },
        "temporal_auditor": {
            "audit": {
                "input": [
                    "calendar_jesse",
                    "calendar_kathryn",
                    "calendar_megan"
                ],
                "output": "audit_report",
                "system_prompt": "You are a rigorous temporal auditor. You do not produce PDDL. You reconcile calendars, enforce consistent time zones, ensure interval normalization, and eliminate contradictions or shortcuts. You verify that the 30-minute duration and work-hour boundaries are satisfied. You ensure that any candidate slot is supported by all participants' free intervals.",
                "prompt": "Aggregate inputs {calendar_jesse}, {calendar_kathryn}, and {calendar_megan}. Normalize to UTC, align 30-minute slots from 09:00 to 17:00, and compute the intersection of free intervals for Jesse, Kathryn, and Megan. Confirm that no bookkeeping shortcuts such as quota tokens or post-hoc penalties are used. Return a single JSON object with keys: normalized_timeslots, participants, intersection_free_slots_sorted, earliest_feasible_slot, validation_notes. The earliest_feasible_slot must be the first 30-minute slot that all participants can attend. Do not include any PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audit_report"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert with multi-agent scheduling and PDDL. You must produce a PDDL domain and a PDDL problem that FastDownwards can solve. Always enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. The domain should model participants and discrete 30-minute timeslots, with predicates such as free and scheduled. Use a single action that schedules the meeting at a chosen timeslot when all participants are free at that timeslot. The problem must instantiate the participants and declare all relevant timeslots from the auditor, mark who is free at which timeslots, and set the goal to schedule the meeting at the earliest feasible slot from the audit. Keep to classical planning constructs acceptable to FastDownwards and avoid numeric fluents or continuous time.",
                "prompt": "You coordinate this task. Use the public context {environment->public_information}, your role {agents->orchestrator->private_information}, and the normalized audit {audit_report}. Choose the earliest feasible 30-minute slot provided by the auditor and produce the final PDDL artifacts targeting the FastDownwards solver. Include only one selected goal timeslot corresponding to the earliest feasible slot. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> and provide no other text."
            }
        },
        "constraints": [
            "jesse_calendar.report->temporal_auditor.audit",
            "kathryn_calendar.report->temporal_auditor.audit",
            "megan_calendar.report->temporal_auditor.audit",
            "temporal_auditor.audit->orchestrator.pddl"
        ]
    }
}