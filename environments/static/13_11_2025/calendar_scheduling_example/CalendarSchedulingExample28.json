{
    "name": "CalendarSchedulingExample28",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "brittany",
            "emily",
            "doris",
            "consistency_auditor",
            "orchestrator"
        ],
        "brittany": {
            "private_information": [
                "I represent Brittany's calendar for Monday.",
                "Known busy intervals on Monday: 13:00-13:30, 16:00-16:30."
            ],
            "goal": "Extract Brittany's free 30-minute windows within the company work hours and share them for scheduling."
        },
        "emily": {
            "private_information": [
                "I represent Emily's calendar for Monday.",
                "Emily has no meetings on Monday during work hours."
            ],
            "goal": "Confirm Emily's free 30-minute windows within the company work hours and share them for scheduling."
        },
        "doris": {
            "private_information": [
                "I represent Doris's calendar for Monday.",
                "Known busy intervals on Monday: 9:00-11:00, 11:30-14:30, 15:00-17:00."
            ],
            "goal": "Extract Doris's free 30-minute windows within the company work hours and share them for scheduling."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents' availability.",
                "I detect and remove bookkeeping shortcuts (e.g., quota tokens, post-hoc penalties, implicit buffers) and normalize intervals.",
                "I canonicalize times to 24-hour HH:MM and align to the global slot size."
            ],
            "goal": "Reconcile and validate combined availability, ensuring consistent, canonical, and conflict-free 30-minute slots for all participants."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate audited availability and produce the final PDDL domain and problem that encodes the meeting scheduling task, selecting the earliest feasible 30-minute slot on Monday within 09:00-17:00 for Brittany, Emily, and Doris, compatible with the Fast Downward solver."
        }
    },
    "environment": {
        "init": {
            "work_day": "Monday",
            "work_start": "09:00",
            "work_end": "17:00",
            "slot_minutes": 30,
            "timezone": "local-office"
        },
        "public_information": [
            "Task: Schedule a 30-minute meeting for Brittany, Emily, and Doris on Monday within work hours 09:00-17:00.",
            "Preference: Choose the earliest feasible time that satisfies all constraints.",
            "Existing schedules for Monday:",
            "Brittany busy: 13:00-13:30, 16:00-16:30.",
            "Emily: free the entire workday.",
            "Doris busy: 09:00-11:00, 11:30-14:30, 15:00-17:00.",
            "A solution exists that works with everyone's current schedule."
        ]
    },
    "workflow": {
        "brittany": {
            "analyze": {
                "input": [],
                "output": "availability_brittany",
                "system_prompt": "You are a calendar agent for Brittany. Your task is to read the shared context and Brittany's private calendar facts and produce structured availability data.",
                "prompt": "Summarize Brittany's free 30-minute windows on {environment->init->work_day} within {environment->init->work_start}-{environment->init->work_end}, aligned to {environment->init->slot_minutes}-minute slots. Use the public context {environment->public_information} and your private knowledge {agents->brittany->private_information}. Output a concise, machine-readable summary listing free intervals in HH:MM-HH:MM with no overlaps or gaps outside work hours. Do not emit PDDL."
            }
        },
        "emily": {
            "analyze": {
                "input": [],
                "output": "availability_emily",
                "system_prompt": "You are a calendar agent for Emily. Your task is to confirm free time windows and output them in a structured form.",
                "prompt": "List Emily's free 30-minute windows on {environment->init->work_day} within {environment->init->work_start}-{environment->init->work_end}, aligned to {environment->init->slot_minutes}-minute slots, using the public context {environment->public_information} and your private knowledge {agents->emily->private_information}. Output a concise, machine-readable summary listing free intervals in HH:MM-HH:MM with no overlaps or gaps outside work hours. Do not emit PDDL."
            }
        },
        "doris": {
            "analyze": {
                "input": [],
                "output": "availability_doris",
                "system_prompt": "You are a calendar agent for Doris. Your task is to read the shared context and Doris's private calendar facts and produce structured availability data.",
                "prompt": "Summarize Doris's free 30-minute windows on {environment->init->work_day} within {environment->init->work_start}-{environment->init->work_end}, aligned to {environment->init->slot_minutes}-minute slots. Use the public context {environment->public_information} and your private knowledge {agents->doris->private_information}. Output a concise, machine-readable summary listing free intervals in HH:MM-HH:MM with no overlaps or gaps outside work hours. Do not emit PDDL."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "availability_brittany",
                    "availability_emily",
                    "availability_doris"
                ],
                "output": "audited_availability",
                "system_prompt": "You audit, normalize, and reconcile availability across agents, removing bookkeeping shortcuts and ensuring temporal consistency.",
                "prompt": "Consume the availability summaries {availability_brittany}, {availability_emily}, and {availability_doris}. Normalize to canonical HH:MM-HH:MM intervals aligned to {environment->init->slot_minutes}-minute slots, ensure all times are within {environment->init->work_start}-{environment->init->work_end} on {environment->init->work_day}, remove any implicit buffers or post-hoc penalties, and compute the intersection of free intervals for all participants. Sort candidate slots chronologically and clearly mark the earliest feasible 30-minute slot. Output a machine-readable object containing: a canonical list of mutually free slots, and a field earliest_slot with a single HH:MM-HH:MM interval. Do not emit PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_availability"
                ],
                "output": "pddl_meeting_schedule",
                "system_prompt": "You are an expert with multi-agent scheduling and PDDL. You must output a PDDL domain and problem compatible with the Fast Downward (a.k.a. FastDownward) solver. Always enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "Integrate the audited availability {audited_availability} and the shared context {environment->public_information}. Build a classical PDDL domain and problem targeting the Fast Downward solver that models 30-minute discrete slots on {environment->init->work_day} from {environment->init->work_start} to {environment->init->work_end}. Model participants (brittany emily doris), slots, and predicates indicating free or busy per participant. The problem must encode the audited mutually free slots and require selecting exactly one slot that all three attend, preferring the earliest by instantiating the chosen slot equal to the earliest_slot provided in the audited data. Provide a minimal STRIPS-style domain with actions such as select-slot and assign-participant that ensures all participants attend the same selected slot. Ensure object names and predicates are solver-friendly (lowercase, hyphen-free for names; predicates lowercase with hyphens). Return only the PDDL enclosed within <domain></domain> and <problem></problem> tags."
            }
        },
        "constraints": [
            "brittany.analyze->consistency_auditor.audit",
            "emily.analyze->consistency_auditor.audit",
            "doris.analyze->consistency_auditor.audit",
            "consistency_auditor.audit->orchestrator.pddl"
        ]
    }
}