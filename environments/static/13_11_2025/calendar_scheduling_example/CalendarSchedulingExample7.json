{
    "name": "CalendarSchedulingExample7",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "heather_analyst",
            "nicholas_analyst",
            "zachary_analyst",
            "auditor",
            "orchestrator"
        ],
        "heather_analyst": {
            "private_information": [
                "Participant: Heather",
                "Role: Analyze Heather's calendar constraints and derive availability within the specified work window"
            ],
            "goal": "Compute Heather's half-hour availability on Monday between 09:00 and 17:00 given the public schedule constraints and meeting duration."
        },
        "nicholas_analyst": {
            "private_information": [
                "Participant: Nicholas",
                "Role: Analyze Nicholas's calendar constraints and derive availability within the specified work window"
            ],
            "goal": "Compute Nicholas's half-hour availability on Monday between 09:00 and 17:00 given the public schedule constraints and meeting duration."
        },
        "zachary_analyst": {
            "private_information": [
                "Participant: Zachary",
                "Role: Analyze Zachary's calendar constraints and derive availability within the specified work window, including soft preferences"
            ],
            "goal": "Compute Zachary's half-hour availability on Monday between 09:00 and 17:00 given the public schedule constraints and meeting duration, and encode a soft preference to avoid times after 14:00 when possible."
        },
        "auditor": {
            "private_information": [
                "Role: Temporal and causal consistency auditor",
                "Duties: Validate interval arithmetic, unify time discretization, ensure causality across constraints, and remove bookkeeping shortcuts (e.g., token quotas, post-hoc penalties)"
            ],
            "goal": "Audit and reconcile the agents' availabilities, unify them on a canonical 30-minute grid within 09:00-17:00 on Monday, verify consistency with all constraints and preferences, and produce a vetted list of feasible slots and one or more recommended slots."
        },
        "orchestrator": {
            "private_information": [
                "Role: Coordinates agents and produces the final plan"
            ],
            "goal": "Using the audited common availability and preferences, produce a final schedule proposal and a PDDL domain and problem that encode the meeting scheduling task for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "work_day": "Monday",
            "work_hours": [
                "09:00",
                "17:00"
            ],
            "meeting_duration_minutes": 30,
            "time_step_minutes": 30,
            "timezone": "local",
            "solution_exists": true
        },
        "public_information": [
            "Schedule a 30-minute meeting on Monday within work hours 09:00 to 17:00 for Heather, Nicholas, and Zachary.",
            "Heather is busy Monday at: 09:00-09:30, 10:30-11:00, 13:00-14:00, 14:30-15:00, 16:00-16:30.",
            "Nicholas has no meetings on Monday.",
            "Zachary is busy Monday at: 09:00-10:30, 11:00-12:00, 12:30-13:00, 13:30-16:30.",
            "Preference: Zachary would rather not meet after 14:00 on Monday.",
            "All times refer to the same local timezone and the same date (Monday)."
        ]
    },
    "workflow": {
        "heather_analyst": {
            "analyze": {
                "input": [],
                "output": "availability_heather",
                "system_prompt": "You extract availability from public constraints using set difference on a 30-minute grid within 09:00-17:00. Do not emit PDDL. Produce a compact JSON summary with participant, busy, and free windows.",
                "prompt": "Your name is heather_analyst. Use the following public information to compute Heather's 30-minute availability within 09:00-17:00: {environment->public_information}. Respect the meeting duration from init. Return JSON with keys: participant, busy, free, assumptions."
            }
        },
        "nicholas_analyst": {
            "analyze": {
                "input": [],
                "output": "availability_nicholas",
                "system_prompt": "You extract availability from public constraints using set difference on a 30-minute grid within 09:00-17:00. Do not emit PDDL. Produce a compact JSON summary with participant, busy, and free windows.",
                "prompt": "Your name is nicholas_analyst. Use the following public information to compute Nicholas's 30-minute availability within 09:00-17:00: {environment->public_information}. Respect the meeting duration from init. Return JSON with keys: participant, busy, free, assumptions."
            }
        },
        "zachary_analyst": {
            "analyze": {
                "input": [],
                "output": "availability_zachary",
                "system_prompt": "You extract availability and encode soft preferences on a 30-minute grid within 09:00-17:00. Do not emit PDDL. Produce a compact JSON summary with participant, busy, free, preferences, and any assumptions.",
                "prompt": "Your name is zachary_analyst. Use the following public information to compute Zachary's 30-minute availability within 09:00-17:00: {environment->public_information}. Encode the soft preference to avoid times after 14:00 when feasible. Return JSON with keys: participant, busy, free, preferences, assumptions."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "availability_heather",
                    "availability_nicholas",
                    "availability_zachary"
                ],
                "output": "audit_report",
                "system_prompt": "You are a temporal/causal consistency auditor. You unify time representations to a canonical 30-minute grid in the same timezone and date, verify set-difference calculations, and ensure that feasible slots satisfy all hard constraints. Remove bookkeeping shortcuts such as token quotas or post-hoc penalties; justify feasibility by interval arithmetic only. Do not emit PDDL.",
                "prompt": "Aggregate and reconcile the three availability summaries. Verify that each proposed free slot is within 09:00-17:00 Monday and lasts 30 minutes. Produce JSON with keys: grid_definition, per_participant_availability, feasible_common_slots, soft_preference_rationale, recommended_slots (prioritize before 14:00 when feasible), and checks."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "audit_report"
                ],
                "output": "pddl_meeting_plan",
                "system_prompt": "You are an expert with PDDL and multi-agent scheduling. You must produce a PDDL domain and a PDDL problem targeting the FastDownwards solver. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags. Use discrete 30-minute time slots as objects and ensure actions select exactly one feasible slot that satisfies all hard constraints and respects the soft preference to avoid after 14:00 when a pre-14:00 feasible slot exists.",
                "prompt": "Use the audited feasible slots and recommendations from {audit_report} along with the public context {environment->public_information} to construct a minimal PDDL domain and problem that schedules exactly one 30-minute meeting for participants heather, nicholas, and zachary on Monday between 09:00 and 17:00. Model time slots as objects (e.g., t0900, t0930, ...), define predicates to represent feasibility for each participant and the chosen slot, and include an action to select a slot. Encode soft preference by either preselecting a recommended pre-14:00 slot when available or by documenting the rationale in comments within the PDDL. Provide both <domain> and <problem> sections suitable for FastDownwards."
            }
        },
        "constraints": [
            "heather_analyst.analyze->auditor.audit",
            "nicholas_analyst.analyze->auditor.audit",
            "zachary_analyst.analyze->auditor.audit",
            "auditor.audit->orchestrator.synthesize_pddl"
        ]
    }
}