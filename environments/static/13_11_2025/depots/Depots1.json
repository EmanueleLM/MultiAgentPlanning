{
    "name": "Depots1",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "knowledge_engineer",
            "analyst",
            "auditor",
            "planner",
            "orchestrator"
        ],
        "knowledge_engineer": {
            "private_information": [
                "Expert at formalizing actions and predicates",
                "Avoids producing solver-specific code"
            ],
            "goal": "Turn the use-case into a clear, unambiguous action model: predicates, objects, operators, and invariants."
        },
        "analyst": {
            "private_information": [
                "Builds scenario datasets and merges human-provided statements and plans"
            ],
            "goal": "Compile initial states, goals, and any given plans into machine-readable scenarios."
        },
        "auditor": {
            "private_information": [
                "Audits temporal and causal consistency",
                "Eliminates bookkeeping shortcuts and post-hoc penalties"
            ],
            "goal": "Detect and fix inconsistencies and ensure plans respect preconditions/effects over time."
        },
        "planner": {
            "private_information": [
                "Generates and validates plans without emitting PDDL",
                "Prefers minimal plans and preserves invariants"
            ],
            "goal": "Propose valid plans for each scenario and justify their correctness against the audited model."
        },
        "orchestrator": {
            "private_information": [
                "Integrates all materials and emits final artifacts"
            ],
            "goal": "Produce a final PDDL domain and problem files targeting the Fast Downward solver."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8"
            ],
            "types": {
                "thing": [
                    "object_0",
                    "object_1",
                    "object_2",
                    "object_3",
                    "object_4",
                    "object_5",
                    "object_6",
                    "object_7",
                    "object_8"
                ]
            },
            "predicates": [
                "cats(?x) unary",
                "hand(?x) unary",
                "sneeze(?x) unary",
                "texture(?x) unary",
                "spring(?x) unary",
                "stupendous(?x) unary",
                "collect(?x ?y) binary",
                "next(?x ?y) binary",
                "vase(?x ?y) binary"
            ],
            "assumptions": [
                "All actions are deterministic and have only the listed add and delete effects.",
                "All objects are of type thing."
            ]
        },
        "public_information": [
            "You can perform the actions: paltry x y z; sip x y z; clip x y z; wretched x y z w; memory x y z; tightfisted x y z.",
            "Action preconditions and effects are exactly those given in the use-case.",
            "Two scenarios are provided: Scenario A with a given plan, and Scenario B without one.",
            "Final deliverable must be PDDL compatible with the Fast Downward solver."
        ],
        "actions": {
            "operators": {
                "paltry": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand(?x)",
                        "cats(?y)",
                        "texture(?z)",
                        "vase(?x ?y)",
                        "next(?y ?z)"
                    ],
                    "add_effects": [
                        "next(?x ?z)"
                    ],
                    "del_effects": [
                        "vase(?x ?y)"
                    ]
                },
                "sip": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand(?x)",
                        "cats(?y)",
                        "texture(?z)",
                        "next(?x ?z)",
                        "next(?y ?z)"
                    ],
                    "add_effects": [
                        "vase(?x ?y)"
                    ],
                    "del_effects": [
                        "next(?x ?z)"
                    ]
                },
                "clip": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand(?x)",
                        "sneeze(?y)",
                        "texture(?z)",
                        "next(?y ?z)",
                        "next(?x ?z)"
                    ],
                    "add_effects": [
                        "vase(?x ?y)"
                    ],
                    "del_effects": [
                        "next(?x ?z)"
                    ]
                },
                "wretched": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z",
                        "?w"
                    ],
                    "preconditions": [
                        "sneeze(?x)",
                        "texture(?y)",
                        "texture(?z)",
                        "stupendous(?w)",
                        "next(?x ?y)",
                        "collect(?y ?w)",
                        "collect(?z ?w)"
                    ],
                    "add_effects": [
                        "next(?x ?z)"
                    ],
                    "del_effects": [
                        "next(?x ?y)"
                    ]
                },
                "memory": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "cats(?x)",
                        "spring(?y)",
                        "spring(?z)",
                        "next(?x ?y)"
                    ],
                    "add_effects": [
                        "next(?x ?z)"
                    ],
                    "del_effects": [
                        "next(?x ?y)"
                    ]
                },
                "tightfisted": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand(?x)",
                        "sneeze(?y)",
                        "texture(?z)",
                        "next(?y ?z)",
                        "vase(?x ?y)"
                    ],
                    "add_effects": [
                        "next(?x ?z)"
                    ],
                    "del_effects": [
                        "vase(?x ?y)"
                    ]
                }
            }
        },
        "scenarios": [
            {
                "name": "Scenario A",
                "initial_facts": [
                    "cats object_0",
                    "cats object_1",
                    "collect object_6 object_2",
                    "collect object_7 object_3",
                    "hand object_8",
                    "next object_0 object_7",
                    "next object_1 object_7",
                    "next object_4 object_6",
                    "next object_5 object_7",
                    "next object_8 object_7",
                    "sneeze object_4",
                    "sneeze object_5",
                    "spring object_6",
                    "spring object_7",
                    "stupendous object_2",
                    "stupendous object_3",
                    "texture object_6",
                    "texture object_7"
                ],
                "goal": [
                    "next object_8 object_6"
                ],
                "given_plan": [
                    "sip object_8 object_1 object_7",
                    "memory object_1 object_7 object_6",
                    "paltry object_8 object_1 object_6"
                ]
            },
            {
                "name": "Scenario B",
                "initial_facts": [
                    "cats object_0",
                    "collect object_5 object_1",
                    "collect object_6 object_2",
                    "hand object_7",
                    "hand object_8",
                    "next object_0 object_6",
                    "next object_3 object_5",
                    "next object_4 object_6",
                    "next object_7 object_6",
                    "next object_8 object_5",
                    "sneeze object_3",
                    "sneeze object_4",
                    "spring object_5",
                    "spring object_6",
                    "stupendous object_1",
                    "stupendous object_2",
                    "texture object_5",
                    "texture object_6"
                ],
                "goal": [
                    "next object_7 object_6",
                    "next object_8 object_6"
                ],
                "given_plan": []
            }
        ]
    },
    "workflow": {
        "knowledge_engineer": {
            "extract_action_model": {
                "input": [],
                "output": "action_model",
                "system_prompt": "You are a knowledge engineer. Read the environment actions and distill a formal action model (predicates, operators with preconditions and effects, object universe, and invariants). Do not produce PDDL; produce a concise, unambiguous JSON-like structure capturing the model.",
                "prompt": "Inputs: {environment->actions->operators}. Objects: {environment->init->objects}. Predicates: {environment->init->predicates}. Task: Normalize names, check arities, and output a machine-readable action model with explicit add and delete lists. Avoid solver-specific syntax."
            }
        },
        "analyst": {
            "compile_scenarios": {
                "input": [
                    "action_model"
                ],
                "output": "scenarios_pack",
                "system_prompt": "You are a scenario analyst. Merge the human-provided scenarios with the action model to produce validated scenario bundles.",
                "prompt": "Use the scenarios in {environment->scenarios}. For each scenario, emit: objects in scope, initial facts, goal, and any given plan steps aligned to the normalized operator names. Do not produce PDDL."
            }
        },
        "auditor": {
            "audit_temporal_causal": {
                "input": [
                    "action_model",
                    "scenarios_pack"
                ],
                "output": "audit_report",
                "system_prompt": "You are a temporal/causal auditor. Your role is to verify precondition satisfaction, simulate effects over time, check for frame and interference issues, and remove bookkeeping shortcuts or post-hoc penalties. Prefer constructive corrections over rejection.",
                "prompt": "Audit all scenarios in {scenarios_pack} against {action_model}. Flag or fix any inconsistencies, and confirm whether given plans are valid step-by-step. Provide corrected plans if needed. Do not produce PDDL."
            }
        },
        "planner": {
            "synthesize_and_validate_plans": {
                "input": [
                    "action_model",
                    "scenarios_pack",
                    "audit_report"
                ],
                "output": "candidate_plans",
                "system_prompt": "You are a planner. Propose minimal valid plans for each scenario and justify them. You must not emit PDDL.",
                "prompt": "For Scenario A, verify the given plan achieves the goal. For Scenario B, propose a valid plan that achieves both goals. Plans should be sequences of grounded operator instances that satisfy preconditions at each step under the audited model."
            }
        },
        "orchestrator": {
            "pddl_synthesis": {
                "input": [
                    "action_model",
                    "scenarios_pack",
                    "audit_report",
                    "candidate_plans"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert in compiling multi-scenario models into PDDL for the Fast Downward solver. Produce a single PDDL domain and two PDDL problem files (one per scenario). Enclose the domain between <domain></domain> tags and each problem between separate <problem></problem> tags. The domain must be STRIPS-compatible with :negative-preconditions avoided and using only add and delete effects. Use a single type thing for all objects. Ensure action and predicate names match the normalized action model. The problems must enumerate all objects, list the initial predicates, and set the goal conjunction exactly. Do not include any natural language outside the tags.",
                "prompt": "Integrate: model {action_model}, scenarios {scenarios_pack}, audits {audit_report}, plans {candidate_plans}. Output the final PDDL domain and two PDDL problems ready for Fast Downward."
            }
        },
        "constraints": [
            "knowledge_engineer.extract_action_model->analyst.compile_scenarios",
            "knowledge_engineer.extract_action_model->auditor.audit_temporal_causal",
            "analyst.compile_scenarios->auditor.audit_temporal_causal",
            "auditor.audit_temporal_causal->planner.synthesize_and_validate_plans",
            "planner.synthesize_and_validate_plans->orchestrator.pddl_synthesis"
        ]
    }
}