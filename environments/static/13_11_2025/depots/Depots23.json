{
    "name": "Depots23",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "modeler",
            "instance_a_maker",
            "instance_b_maker",
            "auditor",
            "orchestrator"
        ],
        "modeler": {
            "private_information": [
                "Expert at normalizing action schemas and predicates",
                "Ensures predicates and parameters are consistent across actions"
            ],
            "goal": "Extract a clean, normalized action and predicate schema from the public information without emitting PDDL."
        },
        "instance_a_maker": {
            "private_information": [
                "Builds a grounded instance for Scenario A (initial state, goal, and plan if any)"
            ],
            "goal": "Produce a structured instance description for Scenario A containing objects, initial facts, goal facts, and the provided plan (for auditing), without emitting PDDL."
        },
        "instance_b_maker": {
            "private_information": [
                "Builds a grounded instance for Scenario B (initial state and goal)"
            ],
            "goal": "Produce a structured instance description for Scenario B containing objects, initial facts, and goal facts, without emitting PDDL."
        },
        "auditor": {
            "private_information": [
                "Audits temporal and causal consistency of plans",
                "Verifies preconditions, add/delete effects, and derived state after each step",
                "Removes bookkeeping shortcuts such as quota tokens or post-hoc penalties; relies only on explicit preconditions/effects"
            ],
            "goal": "Validate Scenario A's plan against the schema and instance facts; provide a transparent, step-by-step trace and point out any violations or unsupported shortcuts."
        },
        "orchestrator": {
            "private_information": [
                "Coordinates all agents and produces the final PDDL artifacts",
                "Targets FastDownward-compatible STRIPS PDDL"
            ],
            "goal": "Integrate the normalized schema and Scenario B instance to emit a final PDDL domain and a PDDL problem for the FastDownward solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 4,
            "visibility": 1
        },
        "public_information": [
            "Domain actions and signatures: Paltry object_0 object_1 object_2. Sip object_0 object_1 object_2. Clip object_0 object_1 object_2. Wretched object_0 object_1 object_2 object_3. Memory object_0 object_1 object_2. Tightfisted object_0 object_1 object_2.",
            "Action Paltry: Preconditions: hand object_0, cats object_1, texture object_2, vase object_0 object_1, next object_1 object_2. Add effects: next object_0 object_2. Delete effects: vase object_0 object_1.",
            "Action Sip: Preconditions: hand object_0, cats object_1, texture object_2, next object_0 object_2, next object_1 object_2. Add effects: vase object_0 object_1. Delete effects: next object_0 object_2.",
            "Action Clip: Preconditions: hand object_0, sneeze object_1, texture object_2, next object_1 object_2, next object_0 object_2. Add effects: vase object_0 object_1. Delete effects: next object_0 object_2.",
            "Action Wretched: Preconditions: sneeze object_0, texture object_1, texture object_2, stupendous object_3, next object_0 object_1, collect object_1 object_3, collect object_2 object_3. Add effects: next object_0 object_2. Delete effects: next object_0 object_1.",
            "Action Memory: Preconditions: cats object_0, spring object_1, spring object_2, next object_0 object_1. Add effects: next object_0 object_2. Delete effects: next object_0 object_1.",
            "Action Tightfisted: Preconditions: hand object_0, sneeze object_1, texture object_2, next object_1 object_2, vase object_0 object_1. Add effects: next object_0 object_2. Delete effects: vase object_0 object_1.",
            "Scenario A initial facts: cats object_0; collect object_10 object_2; collect object_5 object_1; collect object_6 object_1; collect object_7 object_1; collect object_8 object_2; collect object_9 object_2; hand object_11; hand object_12; next object_0 object_8; next object_11 object_6; next object_12 object_10; next object_3 object_7; next object_4 object_10; sneeze object_3; sneeze object_4; spring object_5; spring object_8; stupendous object_1; stupendous object_2; texture object_10; texture object_5; texture object_6; texture object_7; texture object_8; texture object_9.",
            "Scenario A goal: next object_11 object_7 and next object_12 object_8.",
            "Scenario A plan: clip object_12 object_4 object_10; wretched object_4 object_10 object_8 object_2; tightfisted object_12 object_4 object_8; wretched object_3 object_7 object_6 object_1; clip object_11 object_3 object_6; wretched object_3 object_6 object_7 object_1; tightfisted object_11 object_3 object_7.",
            "Scenario B initial facts: cats object_0; cats object_1; collect object_10 object_3; collect object_11 object_3; collect object_6 object_2; collect object_7 object_2; collect object_8 object_2; collect object_9 object_3; hand object_12; hand object_13; next object_0 object_9; next object_1 object_9; next object_12 object_11; next object_13 object_7; next object_4 object_8; next object_5 object_11; sneeze object_4; sneeze object_5; spring object_6; spring object_9; stupendous object_2; stupendous object_3; texture object_10; texture object_11; texture object_6; texture object_7; texture object_8; texture object_9.",
            "Scenario B goal: next object_12 object_10 and next object_13 object_9.",
            "Scenario B plan: not provided."
        ]
    },
    "workflow": {
        "modeler": {
            "extract": {
                "input": [],
                "output": "schema_summary",
                "system_prompt": "You are a knowledge engineer who normalizes action schemas. Read the public information, list the predicate templates and for each action provide its parameter list and sets of preconditions, add effects, and delete effects. Output a concise JSON object with keys: predicates (array of predicate signatures), actions (map from action name to an object with parameters, preconditions, add_effects, del_effects). Do not emit PDDL.",
                "prompt": "Your name is modeler. Use the action descriptions in {environment->public_information}. Normalize parameter roles consistently across actions (e.g., paltry(x,y,z)). Ensure every referenced predicate appears in the predicates list. Return only the specified JSON structure."
            }
        },
        "instance_a_maker": {
            "instance": {
                "input": [
                    "schema_summary"
                ],
                "output": "facts_a",
                "system_prompt": "You build grounded instances. Produce a JSON object with keys: objects (array of all object symbols needed), init (array of true facts), goal (array of goal facts), plan (array of grounded action strings in order). Do not emit PDDL.",
                "prompt": "Your name is instance_a_maker. From {environment->public_information}, extract Scenario A initial facts, goal, and the provided plan. Deduplicate objects and facts; keep ordering of the plan as given. Return the specified JSON only."
            }
        },
        "instance_b_maker": {
            "instance": {
                "input": [
                    "schema_summary"
                ],
                "output": "facts_b",
                "system_prompt": "You build grounded instances. Produce a JSON object with keys: objects (array of all object symbols needed), init (array of true facts), goal (array of goal facts). Do not emit PDDL.",
                "prompt": "Your name is instance_b_maker. From {environment->public_information}, extract Scenario B initial facts and goal. Deduplicate objects and facts. Return the specified JSON only."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "schema_summary",
                    "facts_a"
                ],
                "output": "audit_report",
                "system_prompt": "You audit temporal and causal consistency. Using the schema and Scenario A instance, verify each step of the plan: check that all preconditions hold before the step, then apply add and delete effects to produce the next state. For any missing fact or mismatch, flag the step, explain the issue, and continue auditing. Avoid any bookkeeping shortcuts (e.g., quotas, post-hoc penalties); rely only on explicit preconditions/effects. Output a JSON report with keys: valid (boolean), issues (array of strings), trace (array with per-step state deltas). Do not emit PDDL.",
                "prompt": "Your name is auditor. Consume {schema_summary} and {facts_a}. Provide a faithful, step-by-step audit of Scenario A's plan and summarize any violations."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "schema_summary",
                    "facts_b",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL orchestrator. Integrate the normalized schema and Scenario B instance to produce a FastDownward-compatible STRIPS PDDL domain and a single PDDL problem. Use only predicates and actions from the schema. Do not include comments or explanations. Enclose the domain between <domain></domain> and the problem between <problem></problem> tags. Ensure correct arities, consistent parameter ordering, and that the problem uses the exact objects and facts from Scenario B.",
                "prompt": "Produce the final PDDL domain and problem for Scenario B based on {schema_summary} and {facts_b}. Respect FastDownward conventions and include only one domain and one problem wrapped in the required tags."
            }
        },
        "constraints": [
            "modeler.extract->instance_a_maker.instance",
            "modeler.extract->instance_b_maker.instance",
            "modeler.extract->auditor.audit",
            "instance_a_maker.instance->auditor.audit",
            "instance_b_maker.instance->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl",
            "modeler.extract->orchestrator.pddl"
        ]
    }
}