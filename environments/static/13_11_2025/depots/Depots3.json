{
    "name": "Depots3",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "domain_modeler",
            "instance_builder",
            "causal_auditor",
            "orchestrator"
        ],
        "domain_modeler": {
            "private_information": [
                "I formalize action schemas (preconditions and effects) and normalize predicate signatures.",
                "I avoid producing PDDL; I return a JSON domain schema only."
            ],
            "goal": "Extract a clean, normalized STRIPS-like domain (predicates and action schemas) from the provided use-case so it can be compiled into PDDL later."
        },
        "instance_builder": {
            "private_information": [
                "I transform natural-language statements into machine-readable instances with objects, initial facts, goals, and any candidate plan traces if available.",
                "I avoid producing PDDL; I return a JSON instances payload only."
            ],
            "goal": "Produce consistent problem instances (objects, init, goal) and include the given plan trace for the first statement without inventing steps."
        },
        "causal_auditor": {
            "private_information": [
                "I audit temporal and causal consistency across domain and instances.",
                "I validate candidate plans against preconditions and effects, identify flaws, and propose minimally invasive corrections.",
                "I remove bookkeeping shortcuts such as quota tokens or post-hoc penalties; I rely only on the stated STRIPS facts.",
                "I avoid producing PDDL; I return an audit report and actionable recommendations."
            ],
            "goal": "Ensure that the candidate plan for the first instance is causally valid or clearly report the step where it fails, and provide ordering or support constraints for the orchestrator."
        },
        "orchestrator": {
            "private_information": [
                "I integrate the structured domain, instances, and audit feedback.",
                "I compile the final PDDL domain and a single problem file suitable for the FastDownward solver.",
                "Unless otherwise specified, I target the first instance as the default problem to emit."
            ],
            "goal": "Produce the final PDDL domain and a PDDL problem file for the default instance, ensuring compatibility with FastDownward."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8",
                "object_9"
            ],
            "predicates": [
                {
                    "name": "hand",
                    "arity": 1
                },
                {
                    "name": "cats",
                    "arity": 1
                },
                {
                    "name": "texture",
                    "arity": 1
                },
                {
                    "name": "vase",
                    "arity": 2
                },
                {
                    "name": "next",
                    "arity": 2
                },
                {
                    "name": "sneeze",
                    "arity": 1
                },
                {
                    "name": "spring",
                    "arity": 1
                },
                {
                    "name": "stupendous",
                    "arity": 1
                },
                {
                    "name": "collect",
                    "arity": 2
                }
            ],
            "actions": {
                "paltry": {
                    "parameters": [
                        "?a",
                        "?b",
                        "?c"
                    ],
                    "preconditions": [
                        [
                            "hand",
                            "?a"
                        ],
                        [
                            "cats",
                            "?b"
                        ],
                        [
                            "texture",
                            "?c"
                        ],
                        [
                            "vase",
                            "?a",
                            "?b"
                        ],
                        [
                            "next",
                            "?b",
                            "?c"
                        ]
                    ],
                    "add_effects": [
                        [
                            "next",
                            "?a",
                            "?c"
                        ]
                    ],
                    "del_effects": [
                        [
                            "vase",
                            "?a",
                            "?b"
                        ]
                    ]
                },
                "sip": {
                    "parameters": [
                        "?a",
                        "?b",
                        "?c"
                    ],
                    "preconditions": [
                        [
                            "hand",
                            "?a"
                        ],
                        [
                            "cats",
                            "?b"
                        ],
                        [
                            "texture",
                            "?c"
                        ],
                        [
                            "next",
                            "?a",
                            "?c"
                        ],
                        [
                            "next",
                            "?b",
                            "?c"
                        ]
                    ],
                    "add_effects": [
                        [
                            "vase",
                            "?a",
                            "?b"
                        ]
                    ],
                    "del_effects": [
                        [
                            "next",
                            "?a",
                            "?c"
                        ]
                    ]
                },
                "clip": {
                    "parameters": [
                        "?a",
                        "?b",
                        "?c"
                    ],
                    "preconditions": [
                        [
                            "hand",
                            "?a"
                        ],
                        [
                            "sneeze",
                            "?b"
                        ],
                        [
                            "texture",
                            "?c"
                        ],
                        [
                            "next",
                            "?b",
                            "?c"
                        ],
                        [
                            "next",
                            "?a",
                            "?c"
                        ]
                    ],
                    "add_effects": [
                        [
                            "vase",
                            "?a",
                            "?b"
                        ]
                    ],
                    "del_effects": [
                        [
                            "next",
                            "?a",
                            "?c"
                        ]
                    ]
                },
                "wretched": {
                    "parameters": [
                        "?a",
                        "?b",
                        "?c",
                        "?d"
                    ],
                    "preconditions": [
                        [
                            "sneeze",
                            "?a"
                        ],
                        [
                            "texture",
                            "?b"
                        ],
                        [
                            "texture",
                            "?c"
                        ],
                        [
                            "stupendous",
                            "?d"
                        ],
                        [
                            "next",
                            "?a",
                            "?b"
                        ],
                        [
                            "collect",
                            "?b",
                            "?d"
                        ],
                        [
                            "collect",
                            "?c",
                            "?d"
                        ]
                    ],
                    "add_effects": [
                        [
                            "next",
                            "?a",
                            "?c"
                        ]
                    ],
                    "del_effects": [
                        [
                            "next",
                            "?a",
                            "?b"
                        ]
                    ]
                },
                "memory": {
                    "parameters": [
                        "?a",
                        "?b",
                        "?c"
                    ],
                    "preconditions": [
                        [
                            "cats",
                            "?a"
                        ],
                        [
                            "spring",
                            "?b"
                        ],
                        [
                            "spring",
                            "?c"
                        ],
                        [
                            "next",
                            "?a",
                            "?b"
                        ]
                    ],
                    "add_effects": [
                        [
                            "next",
                            "?a",
                            "?c"
                        ]
                    ],
                    "del_effects": [
                        [
                            "next",
                            "?a",
                            "?b"
                        ]
                    ]
                },
                "tightfisted": {
                    "parameters": [
                        "?a",
                        "?b",
                        "?c"
                    ],
                    "preconditions": [
                        [
                            "hand",
                            "?a"
                        ],
                        [
                            "sneeze",
                            "?b"
                        ],
                        [
                            "texture",
                            "?c"
                        ],
                        [
                            "next",
                            "?b",
                            "?c"
                        ],
                        [
                            "vase",
                            "?a",
                            "?b"
                        ]
                    ],
                    "add_effects": [
                        [
                            "next",
                            "?a",
                            "?c"
                        ]
                    ],
                    "del_effects": [
                        [
                            "vase",
                            "?a",
                            "?b"
                        ]
                    ]
                }
            },
            "instances": {
                "instance_1": {
                    "description": "First statement with a provided plan trace.",
                    "objects": [
                        "object_0",
                        "object_1",
                        "object_2",
                        "object_3",
                        "object_4",
                        "object_5",
                        "object_6",
                        "object_7",
                        "object_8"
                    ],
                    "init": [
                        [
                            "cats",
                            "object_0"
                        ],
                        [
                            "collect",
                            "object_5",
                            "object_1"
                        ],
                        [
                            "collect",
                            "object_6",
                            "object_2"
                        ],
                        [
                            "hand",
                            "object_7"
                        ],
                        [
                            "hand",
                            "object_8"
                        ],
                        [
                            "next",
                            "object_0",
                            "object_6"
                        ],
                        [
                            "next",
                            "object_3",
                            "object_5"
                        ],
                        [
                            "next",
                            "object_4",
                            "object_6"
                        ],
                        [
                            "next",
                            "object_7",
                            "object_6"
                        ],
                        [
                            "next",
                            "object_8",
                            "object_6"
                        ],
                        [
                            "sneeze",
                            "object_3"
                        ],
                        [
                            "sneeze",
                            "object_4"
                        ],
                        [
                            "spring",
                            "object_5"
                        ],
                        [
                            "spring",
                            "object_6"
                        ],
                        [
                            "stupendous",
                            "object_1"
                        ],
                        [
                            "stupendous",
                            "object_2"
                        ],
                        [
                            "texture",
                            "object_5"
                        ],
                        [
                            "texture",
                            "object_6"
                        ]
                    ],
                    "goal": [
                        [
                            "next",
                            "object_7",
                            "object_5"
                        ],
                        [
                            "next",
                            "object_8",
                            "object_5"
                        ]
                    ],
                    "plan": [
                        [
                            "sip",
                            "object_8",
                            "object_0",
                            "object_6"
                        ],
                        [
                            "sip",
                            "object_7",
                            "object_0",
                            "object_6"
                        ],
                        [
                            "memory",
                            "object_0",
                            "object_6",
                            "object_5"
                        ],
                        [
                            "paltry",
                            "object_8",
                            "object_0",
                            "object_5"
                        ],
                        [
                            "paltry",
                            "object_7",
                            "object_0",
                            "object_5"
                        ]
                    ]
                },
                "instance_2": {
                    "description": "Second statement without a provided plan trace.",
                    "objects": [
                        "object_0",
                        "object_1",
                        "object_2",
                        "object_3",
                        "object_4",
                        "object_5",
                        "object_6",
                        "object_7",
                        "object_8",
                        "object_9"
                    ],
                    "init": [
                        [
                            "cats",
                            "object_0"
                        ],
                        [
                            "cats",
                            "object_1"
                        ],
                        [
                            "collect",
                            "object_6",
                            "object_2"
                        ],
                        [
                            "collect",
                            "object_7",
                            "object_3"
                        ],
                        [
                            "hand",
                            "object_8"
                        ],
                        [
                            "hand",
                            "object_9"
                        ],
                        [
                            "next",
                            "object_0",
                            "object_6"
                        ],
                        [
                            "next",
                            "object_1",
                            "object_6"
                        ],
                        [
                            "next",
                            "object_4",
                            "object_6"
                        ],
                        [
                            "next",
                            "object_5",
                            "object_7"
                        ],
                        [
                            "next",
                            "object_8",
                            "object_7"
                        ],
                        [
                            "next",
                            "object_9",
                            "object_7"
                        ],
                        [
                            "sneeze",
                            "object_4"
                        ],
                        [
                            "sneeze",
                            "object_5"
                        ],
                        [
                            "spring",
                            "object_6"
                        ],
                        [
                            "spring",
                            "object_7"
                        ],
                        [
                            "stupendous",
                            "object_2"
                        ],
                        [
                            "stupendous",
                            "object_3"
                        ],
                        [
                            "texture",
                            "object_6"
                        ],
                        [
                            "texture",
                            "object_7"
                        ]
                    ],
                    "goal": [
                        [
                            "next",
                            "object_8",
                            "object_7"
                        ],
                        [
                            "next",
                            "object_9",
                            "object_6"
                        ]
                    ],
                    "plan": []
                }
            },
            "defaults": {
                "target_instance": "instance_1",
                "solver": "fast-downward",
                "requirements": [
                    ":strips"
                ]
            }
        },
        "public_information": [
            "You can manipulate objects using six action schemas: paltry(a,b,c), sip(a,b,c), clip(a,b,c), wretched(a,b,c,d), memory(a,b,c), tightfisted(a,b,c).",
            "paltry requires hand(a), cats(b), texture(c), vase(a,b), and next(b,c) then adds next(a,c) and deletes vase(a,b).",
            "sip requires hand(a), cats(b), texture(c), next(a,c), and next(b,c) then adds vase(a,b) and deletes next(a,c).",
            "clip requires hand(a), sneeze(b), texture(c), next(b,c), and next(a,c) then adds vase(a,b) and deletes next(a,c).",
            "wretched requires sneeze(a), texture(b), texture(c), stupendous(d), next(a,b), collect(b,d), and collect(c,d) then adds next(a,c) and deletes next(a,b).",
            "memory requires cats(a), spring(b), spring(c), and next(a,b) then adds next(a,c) and deletes next(a,b).",
            "tightfisted requires hand(a), sneeze(b), texture(c), next(b,c), and vase(a,b) then adds next(a,c) and deletes vase(a,b).",
            "Two problem statements are provided: instance_1 with a candidate plan to achieve next(object_7,object_5) and next(object_8,object_5), and instance_2 aiming for next(object_8,object_7) and next(object_9,object_6) without a given plan.",
            "Unless specified otherwise, the default target instance for compilation is instance_1."
        ]
    },
    "workflow": {
        "domain_modeler": {
            "structure": {
                "input": [],
                "output": "domain_struct",
                "system_prompt": "You are a planning domain engineer. From the public information and the structured action descriptions, produce a normalized JSON domain with keys predicates and actions where actions contain parameters, preconditions, add_effects, and del_effects. Do not emit PDDL; return concise JSON only.",
                "prompt": "Your name is domain_modeler. Use the following public information and structured action templates to produce a normalized STRIPS-like domain schema that preserves all facts and effects faithfully. Public info: {environment->public_information}. Structured actions: {environment->init->actions}. Predicates: {environment->init->predicates}. Ensure parameter names are consistent across actions and reflect arities."
            }
        },
        "instance_builder": {
            "instances": {
                "input": [],
                "output": "instances_data",
                "system_prompt": "You are a planning instance engineer. Transform the provided statements into structured instances with keys instances, each containing objects, init, goal, and plan if provided. Do not emit PDDL; produce clean JSON.",
                "prompt": "Your name is instance_builder. Use the structured instances and objects to output a JSON object containing an instances dictionary with instance_1 and instance_2. Preserve all initial facts and goals exactly; include the given plan for instance_1 and leave the plan empty for instance_2. Instances source: {environment->init->instances}. Object universe: {environment->init->objects}. Do not invent symbols."
            }
        },
        "causal_auditor": {
            "audit": {
                "input": [
                    "domain_struct",
                    "instances_data"
                ],
                "output": "audit_report",
                "system_prompt": "You are a causal auditor. Validate temporal and causal consistency without introducing bookkeeping shortcuts like quota tokens or post-hoc penalties. Operate only on the stated preconditions and effects. Identify any step in the candidate plan that is unsupported and provide minimal fixes or ordering constraints. Do not emit PDDL; produce a structured audit report.",
                "prompt": "Your name is causal_auditor. Audit the candidate plan of instance_1 against the domain and initial state. If a step is invalid, specify the earliest failure point, the missing preconditions, and minimally sufficient supporting steps using only existing actions. Provide recommended ordering constraints and any invariants you detect. Inputs: domain = {domain_struct}; instances = {instances_data}."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "domain_struct",
                    "instances_data",
                    "audit_report"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert PDDL integrator targeting the FastDownward solver. Compile the final PDDL domain and a single PDDL problem file for the default instance. Use only :strips requirements unless another requirement is strictly necessary. Ensure predicate names and action schemas match the structured domain, and include all relevant objects, initial facts, and goal facts from the chosen instance. Enclose the domain in <domain></domain> and the problem in <problem></problem> tags.",
                "prompt": "Integrate the structured domain, instances, and the audit report. Choose the default target instance indicated by {environment->init->defaults->target_instance} unless the audit report explicitly advises otherwise. Produce a valid PDDL domain and one PDDL problem for FastDownward; preserve symbol names exactly as in the inputs. If the audit proposes ordering constraints or minor fixes, reflect only those that do not change the semantics of the actions. Inputs follow. Domain JSON: {domain_struct}. Instances JSON: {instances_data}. Audit report: {audit_report}. Output the final PDDL with the domain between <domain></domain> and the problem between <problem></problem>."
            }
        },
        "constraints": [
            "domain_modeler.structure->causal_auditor.audit",
            "instance_builder.instances->causal_auditor.audit",
            "domain_modeler.structure->orchestrator.pddl",
            "instance_builder.instances->orchestrator.pddl",
            "causal_auditor.audit->orchestrator.pddl"
        ]
    }
}