{
    "name": "Depots7",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "domain_analyst",
            "kb_mapper",
            "plan_validator",
            "orchestrator"
        ],
        "domain_analyst": {
            "private_information": [
                "You specialize in extracting lifted STRIPS models: predicate signatures, action parameters, preconditions, add and delete effects.",
                "Do not emit PDDL; instead, output a concise neutral schema and clearly list assumptions if any."
            ],
            "goal": "Derive a lifted action and predicate model from the public description that is consistent and sufficient to ground scenario instances."
        },
        "kb_mapper": {
            "private_information": [
                "You harmonize names, ground lifted operators to scenario objects, and normalize facts.",
                "You map scenario-specific initial states and goals and report any ambiguous or missing symbols.",
                "Do not emit PDDL; provide structured ground facts and object lists per scenario."
            ],
            "goal": "Produce grounded object sets, normalized initial facts, and goal facts for each scenario using the lifted model."
        },
        "plan_validator": {
            "private_information": [
                "You audit temporal and causal consistency across steps, checking that each precondition is supported and that deletes are respected.",
                "Remove bookkeeping shortcuts; do not rely on quota tokens, post-hoc penalties, or hidden state updates.",
                "Report threats, open preconditions, and propose minimal fixes when possible.",
                "Do not emit PDDL; provide plan and constraint analysis."
            ],
            "goal": "Audit the provided plan for Scenario S1 and assess feasibility for Scenario S2, reporting any inconsistencies and suggested corrections."
        },
        "orchestrator": {
            "private_information": [
                "You integrate the lifted model, groundings, and audit to produce the final PDDL domain and problem files.",
                "Target the FastDownward solver with a STRIPS-compatible domain; no conditional effects, no numeric fluents, and effects expressed via add and delete lists.",
                "Keep operator names as given (paltry, sip, clip, wretched, memory, tightfisted) and preserve predicate names and arities."
            ],
            "goal": "Produce the final PDDL domain and problem files for the scenarios described so they can be solved by FastDownward."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8",
                "object_9",
                "object_10"
            ],
            "predicates": [
                "cats ?x",
                "collect ?x ?y",
                "hand ?x",
                "next ?x ?y",
                "sneeze ?x",
                "spring ?x",
                "stupendous ?x",
                "texture ?x",
                "vase ?x ?y"
            ],
            "requirements": [
                ":strips"
            ],
            "solver_target": "FastDownward"
        },
        "public_information": [
            "Action schema Paltry(x, y, z): preconditions {hand x, cats y, texture z, vase x y, next y z}; add effects {next x z}; delete effects {vase x y}.",
            "Action schema Sip(x, y, z): preconditions {hand x, cats y, texture z, next x z, next y z}; add effects {vase x y}; delete effects {next x z}.",
            "Action schema Clip(x, y, z): preconditions {hand x, sneeze y, texture z, next y z, next x z}; add effects {vase x y}; delete effects {next x z}.",
            "Action schema Wretched(x, y, z, w): preconditions {sneeze x, texture y, texture z, stupendous w, next x y, collect y w, collect z w}; add effects {next x z}; delete effects {next x y}.",
            "Action schema Memory(x, y, z): preconditions {cats x, spring y, spring z, next x y}; add effects {next x z}; delete effects {next x y}.",
            "Action schema Tightfisted(x, y, z): preconditions {hand x, sneeze y, texture z, next y z, vase x y}; add effects {next x z}; delete effects {vase x y}.",
            "Scenario S1 initial facts and goal are provided; includes a proposed plan to be audited.",
            "Scenario S2 initial facts and goals are provided; no plan is provided."
        ],
        "scenarios": {
            "S1": {
                "init_facts": [
                    "cats object_0",
                    "cats object_1",
                    "collect object_6 object_2",
                    "collect object_7 object_2",
                    "collect object_8 object_3",
                    "collect object_9 object_3",
                    "hand object_10",
                    "next object_0 object_8",
                    "next object_1 object_6",
                    "next object_10 object_9",
                    "next object_4 object_6",
                    "next object_5 object_9",
                    "sneeze object_4",
                    "sneeze object_5",
                    "spring object_6",
                    "spring object_8",
                    "stupendous object_2",
                    "stupendous object_3",
                    "texture object_6",
                    "texture object_7",
                    "texture object_8",
                    "texture object_9"
                ],
                "goal_facts": [
                    "next object_10 object_6"
                ],
                "proposed_plan": [
                    "clip object_10 object_5 object_9",
                    "wretched object_5 object_9 object_8 object_3",
                    "tightfisted object_10 object_5 object_8",
                    "sip object_10 object_0 object_8",
                    "memory object_0 object_8 object_6",
                    "paltry object_10 object_0 object_6"
                ]
            },
            "S2": {
                "init_facts": [
                    "cats object_0",
                    "collect object_5 object_1",
                    "collect object_6 object_1",
                    "collect object_7 object_2",
                    "collect object_8 object_2",
                    "hand object_10",
                    "hand object_9",
                    "next object_0 object_7",
                    "next object_10 object_5",
                    "next object_3 object_5",
                    "next object_4 object_8",
                    "next object_9 object_8",
                    "sneeze object_3",
                    "sneeze object_4",
                    "spring object_5",
                    "spring object_7",
                    "stupendous object_1",
                    "stupendous object_2",
                    "texture object_5",
                    "texture object_6",
                    "texture object_7",
                    "texture object_8"
                ],
                "goal_facts": [
                    "next object_10 object_5",
                    "next object_9 object_7"
                ],
                "proposed_plan": []
            }
        }
    },
    "workflow": {
        "domain_analyst": {
            "lift_model": {
                "input": [],
                "output": "lifted_model",
                "system_prompt": "You are a lifted planning model specialist. Extract a clean STRIPS-like model: list all predicate signatures with arities and all action schemas with parameters, preconditions, add and delete effects. Do not emit PDDL; produce a concise neutral schema and clearly state any assumptions or ambiguities.",
                "prompt": "Your name is domain_analyst. Use the public information and scenarios to derive the lifted model. Keep operator names paltry, sip, clip, wretched, memory, tightfisted and preserve predicate names and arities. Input context: {environment->public_information}. Scenarios for reference: {environment->scenarios}. Output a neutral schema suitable for grounding, not PDDL."
            }
        },
        "kb_mapper": {
            "grounding": {
                "input": [
                    "lifted_model"
                ],
                "output": "scenario_groundings",
                "system_prompt": "You are a knowledge base mapper. Harmonize symbols and ground the lifted model to each scenario. Do not emit PDDL; instead, provide per-scenario object lists, initial facts, goal facts, and any name normalization you applied.",
                "prompt": "Your name is kb_mapper. Based on the lifted model and the provided scenarios, produce grounded data for S1 and S2. Ensure objects match {environment->init->objects}, respect predicate arities, and report unresolved symbols. Scenarios: {environment->scenarios}."
            }
        },
        "plan_validator": {
            "audit": {
                "input": [
                    "lifted_model",
                    "scenario_groundings"
                ],
                "output": "audited_plans",
                "system_prompt": "You audit temporal and causal consistency. Do not emit PDDL. Verify that each action application has its preconditions satisfied in the evolving state, that add and delete effects update the state correctly, and that threats are resolved. Remove bookkeeping shortcuts and flag unsupported steps.",
                "prompt": "Your name is plan_validator. Audit Scenario S1's proposed plan against the grounded S1 initial state and the lifted model; provide a stepwise check, identify any flaws, and suggest minimal fixes if needed. For Scenario S2, assess feasibility of reaching its goals from the initial state, listing key enabling conditions and any apparent conflicts. Inputs: lifted model {lifted_model} and grounded scenarios {scenario_groundings}."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "lifted_model",
                    "scenario_groundings",
                    "audited_plans"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-instance PDDL planning tasks targeting the FastDownward solver. Produce one domain and multiple problem files as needed. Use STRIPS only (no conditional effects, no negative preconditions), preserve the operator names (paltry, sip, clip, wretched, memory, tightfisted) and predicate names, and ensure object sets cover all referenced symbols. Enclose the PDDL domain between <domain> and </domain> tags and each PDDL problem between <problem> and </problem> tags.",
                "prompt": "Integrate the lifted model, grounded scenarios, and the audit to produce a final PDDL domain and two problem files, one for S1 and one for S2. The domain must include all predicates and the six actions with preconditions and add/delete effects as specified in the public information. For each problem, include all objects from {environment->init->objects} that are referenced by the scenario, set the provided initial facts and goal facts, and ensure compatibility with FastDownward. Inputs: lifted model {lifted_model}, grounded scenarios {scenario_groundings}, and audit notes {audited_plans}. Output the domain once and then a problem for S1 and a problem for S2."
            }
        },
        "constraints": [
            "domain_analyst.lift_model->kb_mapper.grounding",
            "domain_analyst.lift_model->plan_validator.audit",
            "kb_mapper.grounding->plan_validator.audit",
            "domain_analyst.lift_model->orchestrator.pddl",
            "kb_mapper.grounding->orchestrator.pddl",
            "plan_validator.audit->orchestrator.pddl"
        ]
    }
}