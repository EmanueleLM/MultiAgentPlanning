{
    "name": "Hanoi2Agents10DisksInstance3",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "orchestrator",
            "consistency_auditor"
        ],
        "agent_1": {
            "private_information": [
                "I can move disks A, B, C, D, E",
                "I cannot move disks F, G, H, I, J",
                "I must obey Tower of Hanoi rules: move only the top disk of any peg; a larger disk cannot be placed on a smaller disk"
            ],
            "goal": "Propose safe, legal moves using only disks A, B, C, D, E that help achieve the specified goal configuration."
        },
        "agent_2": {
            "private_information": [
                "I can move disks F, G, H, I, J",
                "I cannot move disks A, B, C, D, E",
                "I must obey Tower of Hanoi rules: move only the top disk of any peg; a larger disk cannot be placed on a smaller disk"
            ],
            "goal": "Propose safe, legal moves using only disks F, G, H, I, J that help achieve the specified goal configuration; acknowledge when no moves are needed."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents, integrate proposals, and produce the final plan",
                "I will compile the final PDDL domain and problem compatible with the FastDownward solver"
            ],
            "goal": "Integrate vetted proposals into a single consistent plan and produce a PDDL domain and problem for FastDownward that encodes the two-agent move-permission constraints and the specified initial and goal configurations."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency of proposed moves",
                "I remove bookkeeping shortcuts such as quota tokens, post-hoc penalties, or any non-causal artifacts",
                "I ensure every move is legal under Tower of Hanoi rules and agent-disk permissions"
            ],
            "goal": "Validate that all proposed moves are temporally ordered, causally sound, respect agent restrictions, and lead from the initial state to the goal state without illegal intermediate states."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "size_order_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E"
                ],
                "agent_2": [
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ]
            },
            "initial_configuration": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [],
                "right": []
            },
            "goal_configuration": {
                "left": [
                    "A",
                    "B",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [],
                "right": [
                    "C",
                    "D"
                ]
            }
        },
        "public_information": [
            "Two-agent Tower of Hanoi with 10 disks labelled A (smallest) to J (largest).",
            "Agent abilities: agent_1 can move disks A, B, C, D, E; agent_2 can move disks F, G, H, I, J.",
            "Tower of Hanoi rules: only the top disk of a peg can be moved; a larger disk cannot be placed on a smaller disk.",
            "Initial configuration: left peg has top->bottom A, B, C, D, E, F, G, H, I, J; middle empty; right empty.",
            "Goal configuration: left peg has top->bottom A, B, E, F, G, H, I, J; middle empty; right peg has top->bottom C, D.",
            "The objective is to provide an ordered list of primitive moves in the format 'agent_i: move disk X from peg1 to peg2'."
        ],
        "reference_plan": [
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk C from left to middle",
            "agent_1: move disk A from right to left",
            "agent_1: move disk B from right to middle",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk D from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk B from middle to left",
            "agent_1: move disk A from right to left",
            "agent_1: move disk C from middle to right"
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_safe_moves": {
                "input": [],
                "output": "agent1_moves_proposal",
                "system_prompt": "You are a careful planner restricted to moving disks A, B, C, D, E. Generate candidate primitive moves that respect Tower of Hanoi rules and the stated agent-disk permissions. Do not emit PDDL. Prefer minimal interventions that avoid moving disks F..J.",
                "prompt": "Your name is agent_1. Public info: {environment->public_information}. Your private knowledge: {agents->agent_1->private_information}. Your goal: {agents->agent_1->goal}. Propose a strictly ordered list of primitive moves using only disks A, B, C, D, E and pegs left, middle, right that achieves the goal without illegal intermediate states. Use the format 'agent_1: move disk X from peg1 to peg2'."
            }
        },
        "agent_2": {
            "propose_safe_moves": {
                "input": [],
                "output": "agent2_moves_proposal",
                "system_prompt": "You are a careful planner restricted to moving disks F, G, H, I, J. Generate candidate primitive moves that respect Tower of Hanoi rules and the stated agent-disk permissions. Do not emit PDDL. If no moves are necessary, explicitly state that no moves are required by agent_2.",
                "prompt": "Your name is agent_2. Public info: {environment->public_information}. Your private knowledge: {agents->agent_2->private_information}. Your goal: {agents->agent_2->goal}. Propose a strictly ordered list of primitive moves using only disks F, G, H, I, J and pegs left, middle, right if needed; otherwise clearly return an empty move list justification."
            }
        },
        "consistency_auditor": {
            "audit_and_normalize": {
                "input": [
                    "agent1_moves_proposal",
                    "agent2_moves_proposal"
                ],
                "output": "audited_moves",
                "system_prompt": "You audit temporal and causal consistency, eliminate bookkeeping shortcuts, and ensure strict legality of each move with respect to Tower of Hanoi rules and disk-permission constraints. Do not emit PDDL. Return a single, linear, executable move list with justification for any edits.",
                "prompt": "Your name is consistency_auditor. Public info: {environment->public_information}. Your private knowledge: {agents->consistency_auditor->private_information}. Given agent proposals, verify that each move is legal, no larger disk is placed on a smaller disk, only top disks move, and agent permissions are respected. Ensure the sequence reaches the goal from the stated initial configuration. If proposals are already valid, return them unchanged; otherwise correct them. Output the final normalized move list using the exact format 'agent_i: move disk X from peg1 to peg2'."
            }
        },
        "orchestrator": {
            "integrate_and_generate_fd": {
                "input": [
                    "audited_moves"
                ],
                "output": "fd_pddl_and_plan",
                "system_prompt": "You are an expert in planning and PDDL for the FastDownward solver. Integrate the audited move sequence and produce a final PDDL domain and problem that encode the Tower of Hanoi with typed objects (pegs, disks, agents), a strict size ordering, legal move preconditions, and agent-disk permission constraints. Target FastDownward using classical STRIPS with typing; avoid ADL features not supported by default. Return: (1) a PDDL domain enclosed in <domain></domain>, (2) a PDDL problem enclosed in <problem></problem> that matches the specific instance, and (3) the final ordered primitive move list enclosed in <plan></plan> using the format 'agent_i: move disk X from peg1 to peg2'. Keep agent actions distinct by including the agent as a parameter with permission preconditions.",
                "prompt": "Task goal: {agents->orchestrator->goal}. Public info: {environment->public_information}. Use the audited sequence: {audited_moves}. Produce the PDDL domain and problem for this exact instance with objects: pegs {environment->init->pegs}, disks {environment->init->disks}, agents {agents->names}, and predicates for on-peg, clear, smaller, and permitted(agent,disk). Ensure the initial and goal states match the instance precisely. Then include the final ordered move list in <plan></plan>."
            }
        },
        "constraints": [
            "agent_1.propose_safe_moves->consistency_auditor.audit_and_normalize",
            "agent_2.propose_safe_moves->consistency_auditor.audit_and_normalize",
            "consistency_auditor.audit_and_normalize->orchestrator.integrate_and_generate_fd"
        ]
    }
}