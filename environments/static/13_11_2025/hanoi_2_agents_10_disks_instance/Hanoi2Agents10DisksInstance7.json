{
    "name": "Hanoi2Agents10DisksInstance7",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "orchestrator",
            "auditor"
        ],
        "agent_1": {
            "private_information": [
                "You can only move disks: A, B, C, D, E.",
                "You must obey Tower of Hanoi rules: move one disk at a time, only the top disk can be moved, never place a larger disk on a smaller one."
            ],
            "goal": "Collaborate to reach the specified goal configuration while only moving the disks you are permitted to handle."
        },
        "agent_2": {
            "private_information": [
                "You can only move disks: F, G, H, I, J.",
                "You must obey Tower of Hanoi rules: move one disk at a time, only the top disk can be moved, never place a larger disk on a smaller one."
            ],
            "goal": "Collaborate to reach the specified goal configuration while only moving the disks you are permitted to handle."
        },
        "orchestrator": {
            "private_information": [
                "You do not move disks yourself.",
                "You coordinate agents, consolidate their plans, and produce the final PDDL domain and problem suitable for FastDownward."
            ],
            "goal": "Coordinate the agents to achieve the goal configuration and produce a final, solver-ready PDDL domain and problem."
        },
        "auditor": {
            "private_information": [
                "You enforce temporal and causal consistency across the multi-agent move sequence.",
                "You remove and reject any bookkeeping shortcuts such as quota tokens or post-hoc penalties and require step-by-step legality."
            ],
            "goal": "Audit the combined move list for compliance with Tower of Hanoi rules, agent restrictions, and correctness from the initial to the goal configuration."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ]
        },
        "public_information": [
            "This is a 3-peg Tower of Hanoi instance with 10 disks labeled A (smallest) through J (largest).",
            "Agents have restricted permissions: agent_1 can move A, B, C, D, E; agent_2 can move F, G, H, I, J.",
            "Rules: move exactly one disk at a time; only the top disk on any peg or disk may be moved; never place a larger disk on top of a smaller disk.",
            "Initial configuration: left peg has (top\u2192bottom) A, B, C, D, E, F, G, H, I, J; middle peg is empty; right peg is empty.",
            "Goal configuration: left peg has (top\u2192bottom) A, B, D, E, F, G, H, I, J; middle peg has (top\u2192bottom) C; right peg is empty."
        ],
        "solution": {
            "moves": [
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk B from right to left",
                "agent_1: move disk A from middle to left"
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "plan": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. You can move disks A, B, C, D, E. Respect Tower of Hanoi rules: move one disk at a time, only the top disk can be moved, never place a larger disk on a smaller one. Propose a concrete ordered list of primitive moves in the format 'agent_1: move disk X from peg1 to peg2' to achieve the goal without using any bookkeeping shortcuts or meta tokens.",
                "prompt": "Your role is to propose only the moves involving disks you are allowed to move to help reach the goal. Use the environment context and avoid moving larger disks managed by agent_2 unless strictly necessary. Public information: {environment->public_information}. Your allowed disks: {agents->agent_1->private_information}. Target: {agents->agent_1->goal}. Provide a minimal, correct sequence in the requested format."
            }
        },
        "agent_2": {
            "plan": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2. You can move disks F, G, H, I, J. Respect Tower of Hanoi rules. If no moves are required for your disks, return an empty list and confirm readiness. Do not emit PDDL.",
                "prompt": "Public information: {environment->public_information}. Your allowed disks: {agents->agent_2->private_information}. Target: {agents->agent_2->goal}. Propose an ordered list of primitive moves in the format 'agent_2: move disk X from peg1 to peg2' for your disks only, or an empty list if unnecessary."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor. Check temporal and causal consistency of the combined move list from both agents against the Tower of Hanoi rules and the given initial and goal configurations. Remove and reject any bookkeeping shortcuts, quotas, or post-hoc adjustments. Validate each step is legal, ensure the final state matches the goal, and produce either a pass with the consolidated ordered list or a fail with precise reasons.",
                "prompt": "Initial and goal context: {environment->public_information}. Candidate moves from agent_1: {moves_agent_1}. Candidate moves from agent_2: {moves_agent_2}. Verify legality step-by-step, ensure agent restrictions are respected, and return a JSON object with fields status (PASS or FAIL), message, and ordered_moves."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for the FastDownward solver. Produce a single classical PDDL domain and problem that encode the 3-peg Tower of Hanoi with agent move permissions. Always enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. Use typed objects (agent, disk, peg, place) and two action schemas move-to-peg and move-to-disk with preconditions: top disk only, destination clear, and size constraint smaller(d, x). Encode agent permissions via predicate allowed(agent, disk). The problem must instantiate 10 disks A B C D E F G H I J, three pegs left middle right, two agents agent_1 agent_2, the full smaller relation, the initial configuration as specified, and the goal configuration with C on middle and A on B on D on E on F on G on H on I on J on left with A clear and C clear and right clear. Do not include extraneous features beyond what FastDownward supports.",
                "prompt": "Use the public environment information and the auditor-approved ordered moves to produce the final PDDL suitable for FastDownward. Public information: {environment->public_information}. Approved audit: {audit_report}. Also include comments indicating how to run FastDownward, for example: fast-downward.py domain.pddl problem.pddl --search 'astar(lmcut)'."
            }
        },
        "constraints": [
            "agent_1.plan->auditor.audit",
            "agent_2.plan->auditor.audit",
            "auditor.audit->orchestrator.compile_pddl",
            "agent_1.plan->orchestrator.compile_pddl",
            "agent_2.plan->orchestrator.compile_pddl"
        ]
    }
}