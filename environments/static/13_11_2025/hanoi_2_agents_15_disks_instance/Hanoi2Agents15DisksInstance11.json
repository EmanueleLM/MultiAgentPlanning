{
    "name": "Hanoi2Agents15DisksInstance11",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only the disks A, B, C, D, E, F, G, H",
                "I must respect the Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk"
            ],
            "goal": "Propose a legal sequence of primitive moves to realize the specified goal configuration using only disks A-H when needed, preferring to leave F-O in place if possible"
        },
        "agent_2": {
            "private_information": [
                "I can move only the disks I, J, K, L, M, N, O",
                "I must respect the Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk"
            ],
            "goal": "Coordinate with agent_1 and confirm no moves are required for disks I-O unless strictly necessary"
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the plan",
                "I reject bookkeeping shortcuts such as quota tokens or post-hoc penalties and require an explicit step-by-step legal plan",
                "I check preconditions and postconditions for each move and verify that the terminal state matches the goal configuration"
            ],
            "goal": "Validate that the ordered move sequence obeys Tower of Hanoi constraints at each step and achieves the exact goal configuration; if valid, pass through the plan; otherwise, identify the first point of failure and propose a correction"
        },
        "orchestrator": {
            "private_information": [
                "I integrate the validated plan and compile a final PDDL domain and problem solvable by FastDownward",
                "I keep agent action sets distinct and documented"
            ],
            "goal": "Produce the final PDDL domain and problem for the validated task using a classical STRIPS-compatible encoding for FastDownward, including types for disks and pegs, an ordering relation for disks, and goal conditions matching the specified configuration"
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "ordering_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "initial_configuration_top_to_bottom": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": []
            },
            "goal_configuration_top_to_bottom": {
                "left": [
                    "B",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [
                    "A",
                    "D"
                ],
                "right": [
                    "C",
                    "E"
                ]
            }
        },
        "public_information": [
            "Two agents must cooperatively solve a Tower of Hanoi variant with 15 disks labeled A (smallest) through O (largest) and three pegs: left, middle, right",
            "Agent movement restrictions: agent_1 can move A, B, C, D, E, F, G, H; agent_2 can move I, J, K, L, M, N, O",
            "Initial configuration (top\u2192bottom): left has A, B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle is empty; right is empty",
            "Goal configuration (top\u2192bottom): left has B, F, G, H, I, J, K, L, M, N, O; middle has A, D; right has C, E",
            "All moves must obey Tower of Hanoi rules: move exactly one disk at a time and never place a larger disk on top of a smaller disk"
        ],
        "reference_plan": [
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk C from left to right",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk B from middle to right",
            "agent_1: move disk A from left to right",
            "agent_1: move disk D from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk B from right to left",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk C from right to middle",
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk E from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk B from middle to left",
            "agent_1: move disk A from right to left",
            "agent_1: move disk C from middle to right",
            "agent_1: move disk A from left to middle"
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. You propose a concrete ordered list of primitive moves that adheres to the Tower of Hanoi rules and your disk-movement restriction (you may only move disks A-H). Do not emit PDDL; output only the move sequence and brief justifications if needed.",
                "prompt": "Public context: {environment->public_information}. Your private knowledge: {agents->agent_1->private_information}. Global goal: {agents->agent_1->goal}. Produce the exact move sequence in the format 'agent_1: move disk X from peg1 to peg2'. If the provided environment includes a reference plan, ensure your proposal matches it unless you can prove a correction is required."
            }
        },
        "agent_2": {
            "capabilities": {
                "input": [],
                "output": "capabilities_agent_2",
                "system_prompt": "You are agent_2. Summarize your capabilities and confirm whether any moves are needed for disks I-O given the public goal. Do not emit PDDL.",
                "prompt": "Public context: {environment->public_information}. Your private knowledge: {agents->agent_2->private_information}. Global goal: {agents->agent_2->goal}. If no moves for I-O are necessary to achieve the goal, state that clearly; otherwise, enumerate required moves using 'agent_2: move disk X from peg1 to peg2'."
            }
        },
        "auditor": {
            "audit_plan": {
                "input": [
                    "moves_agent_1",
                    "capabilities_agent_2"
                ],
                "output": "audited_plan",
                "system_prompt": "You are the auditor. Check temporal and causal consistency of the plan, ensure no move violates Hanoi rules, and verify the terminal state equals the exact goal configuration. Remove bookkeeping shortcuts; require explicit per-move legality. Do not emit PDDL.",
                "prompt": "Public context: {environment->public_information}. Cross-check the sequence from agent_1 and the capabilities from agent_2. Simulate each move step-by-step from the initial configuration and ensure the final state matches the goal. Output a JSON object with fields: valid (boolean), issues (array of strings), and plan (ordered list of strings in the format 'agent_i: move disk X from peg1 to peg2'). If the environment includes a reference plan {environment->reference_plan}, verify it and prefer it if valid."
            }
        },
        "orchestrator": {
            "integrate_and_compile_pddl": {
                "input": [
                    "audited_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in compiling multi-agent Tower of Hanoi tasks to PDDL for the FastDownward planner. You must output a valid PDDL domain and PDDL problem that encode: three pegs, typed disks with a strict smaller-than relation, a standard move action with preconditions preventing larger-on-smaller, and goal conditions matching the specified final configuration. Keep agent roles distinct in comments or optional predicates but use a single classical domain compatible with FastDownward (STRIPS with types; no numeric fluents). Always enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags.",
                "prompt": "Use the validated plan: {audited_plan}. Public environment details: {environment->public_information}. Reconstruct a classical PDDL domain with types {disk, peg}, predicates such as on(x, p), clear(x or p), top(x), smaller(x, y), and possibly can-move(agent, disk) to document agent restrictions. Provide an initial state matching the initial configuration and a goal matching the exact target configuration. Ensure compatibility with FastDownward (adl-free if possible). Include comments summarizing the validated move sequence; the solver should not require them but they document the cooperative execution."
            }
        },
        "constraints": [
            "agent_1.propose_moves->auditor.audit_plan",
            "agent_2.capabilities->auditor.audit_plan",
            "auditor.audit_plan->orchestrator.integrate_and_compile_pddl"
        ]
    }
}