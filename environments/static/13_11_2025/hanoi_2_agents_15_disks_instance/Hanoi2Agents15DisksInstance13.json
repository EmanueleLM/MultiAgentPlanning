{
    "name": "Hanoi2Agents15DisksInstance13",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You can move only disks A, B, C, D, E, F, G, H.",
                "You must always respect Tower of Hanoi rules: move one disk at a time, and never place a larger disk on top of a smaller disk.",
                "You can use any peg as a temporary buffer as long as the rules are respected."
            ],
            "goal": "Contribute legal primitive moves for the shared ordered plan to reach the goal configuration while only moving your assigned disks."
        },
        "agent_2": {
            "private_information": [
                "You can move only disks I, J, K, L, M, N, O.",
                "You must always respect Tower of Hanoi rules: move one disk at a time, and never place a larger disk on top of a smaller disk.",
                "You can use any peg as a temporary buffer as long as the rules are respected."
            ],
            "goal": "Contribute legal primitive moves for the shared ordered plan to reach the goal configuration while only moving your assigned disks."
        },
        "auditor": {
            "private_information": [
                "You audit temporal and causal consistency of the proposed move sequence.",
                "You verify that no illegal shortcuts, quota tokens, post-hoc penalties, or other bookkeeping artifacts are used.",
                "You ensure each move is applicable given the current configuration and that the final configuration matches the stated goal."
            ],
            "goal": "Validate the combined sequence of primitive moves for legality, agent constraints, and goal attainment. Produce a clean, canonical audited move list and a verdict."
        },
        "orchestrator": {
            "private_information": [
                "You coordinate the other agents, integrate the audited move list, and produce the final PDDL domain and problem for FastDownward.",
                "Preserve agent-specific action schemas to keep agent capabilities distinct."
            ],
            "goal": "Integrate the audited plan and produce the final multi-agent Tower of Hanoi PDDL domain and problem targeting the FastDownward solver."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "agent_1_disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H"
            ],
            "agent_2_disks": [
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "initial_stacks": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": []
            },
            "goal_stacks": {
                "left": [
                    "A",
                    "C",
                    "D",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [
                    "E"
                ],
                "right": [
                    "B"
                ]
            }
        },
        "public_information": [
            "This is a cooperative 2-agent Tower of Hanoi with 15 disks labelled A (smallest) through O (largest).",
            "Agent limits: agent_1 can move disks A, B, C, D, E, F, G, H; agent_2 can move disks I, J, K, L, M, N, O.",
            "Initial configuration: left peg has (top\u2192bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle peg empty; right peg empty.",
            "Goal configuration: left peg has (top\u2192bottom) A, C, D, F, G, H, I, J, K, L, M, N, O; middle peg has (top\u2192bottom) E; right peg has (top\u2192bottom) B.",
            "Tower of Hanoi rules: move one disk at a time; only the top disk of any stack can be moved; no disk may be placed on top of a smaller disk.",
            "The ordered primitive move list is provided in environment.ordered_moves and must be respected."
        ],
        "ordered_moves": [
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk C from left to middle",
            "agent_1: move disk A from right to left",
            "agent_1: move disk B from right to middle",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk D from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk B from middle to left",
            "agent_1: move disk A from right to left",
            "agent_1: move disk C from middle to right",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk E from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk B from right to left",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk C from right to middle",
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk D from right to left",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk B from middle to right",
            "agent_1: move disk A from left to right",
            "agent_1: move disk C from middle to left",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk B from right to left",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to left"
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1, responsible only for disks A through H. Read the environment context and return the ordered primitive moves you are responsible for, exactly as strings in the format 'agent_1: move disk X from peg1 to peg2'. Do not include any other formatting.",
                "prompt": "Context: {environment->public_information}. Use the canonical ordered move list in {environment->ordered_moves}. Extract and return only the lines that start with 'agent_1:' in the given order."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2, responsible only for disks I through O. Read the environment context and return the ordered primitive moves you are responsible for, exactly as strings in the format 'agent_2: move disk X from peg1 to peg2'. If there are no such moves, return an empty list.",
                "prompt": "Context: {environment->public_information}. Use the canonical ordered move list in {environment->ordered_moves}. Extract and return only the lines that start with 'agent_2:' in the given order. If none exist, return an empty list."
            }
        },
        "auditor": {
            "audit_moves": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor. Verify temporal and causal consistency of the combined move list. Enforce Tower of Hanoi rules strictly and agent capabilities. Remove any bookkeeping shortcuts such as quota tokens or post-hoc penalties. Provide a verdict 'valid' or 'invalid', a list of identified issues if any, and a clean, canonical ordered move list that starts from the stated initial configuration and achieves the stated goal configuration.",
                "prompt": "Use the initial and goal stacks from {environment->init} and the combined candidate moves from agent_1 and agent_2. Check that every move is applicable given the current state, that no move places a larger disk on a smaller disk, and that no agent moves disks outside its authorized set. If valid, return an object with fields 'verdict':'valid', 'audited_moves': the complete ordered list. Otherwise, return 'verdict':'invalid' and list 'issues'."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL and the FastDownward planner. Produce a final multi-agent Tower of Hanoi PDDL domain and problem. Keep agent actions distinct (e.g., move-agent_1-to-peg, move-agent_1-to-disk, move-agent_2-to-peg, move-agent_2-to-disk) and enforce agent-specific disk permissions via static predicates. Use typed STRIPS with static 'smaller' relations, 'on' and 'clear' predicates, and pegs as places. Enclose the domain in <domain></domain> and the problem in <problem></problem>. Ensure the initial and goal match the environment and that the action schemas are compatible with FastDownward.",
                "prompt": "Integrate the audited move list from {audit_report}. Build a PDDL domain with types agent, disk, peg, place (with disk and peg as subtypes of place). Predicates: on(?d - disk ?s - place), clear(?s - place), smaller(?x - disk ?y - disk), can-move(?a - agent ?d - disk). Actions: move-to-peg and move-to-disk variants per agent with preconditions requiring can-move, clear on source disk and destination support, on(d source), and when moving to a disk require smaller(d dest). Effects update on and clear accordingly. The problem must declare objects for agents agent_1 and agent_2, all 15 disks A..O, and pegs left, middle, right. Initialize 'on' for the exact initial stacks and 'clear' for the appropriate tops. Include all static 'smaller' relations between pairs A<B<...<O. Set the goal to the exact goal stacks. Output only the PDDL domain and problem wrapped in the required tags."
            }
        },
        "constraints": [
            "agent_1.propose_moves->auditor.audit_moves",
            "agent_2.propose_moves->auditor.audit_moves",
            "auditor.audit_moves->orchestrator.pddl"
        ]
    }
}