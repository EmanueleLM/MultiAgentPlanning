{
    "name": "Hanoi2Agents15DisksInstance4",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You can move only disks A, B, C, D, E, F, G, H.",
                "You can move a disk only if it is the top disk on its peg.",
                "You must never place a larger disk on top of a smaller disk."
            ],
            "goal": "Cooperate to achieve the target configuration while respecting Tower of Hanoi rules and agent disk-permissions."
        },
        "agent_2": {
            "private_information": [
                "You can move only disks I, J, K, L, M, N, O.",
                "You can move a disk only if it is the top disk on its peg.",
                "You must never place a larger disk on top of a smaller disk."
            ],
            "goal": "Cooperate to achieve the target configuration while respecting Tower of Hanoi rules and agent disk-permissions."
        },
        "auditor": {
            "private_information": [
                "You are responsible for temporal and causal audit of plans.",
                "You must forbid bookkeeping shortcuts such as phantom tokens, post-hoc penalties, or rule-bending.",
                "You verify agent permissions and Tower of Hanoi legality for every move."
            ],
            "goal": "Audit temporal/causal consistency of the proposed multi-agent plan, enforce legality, and return a validated primitive move list."
        },
        "orchestrator": {
            "private_information": [
                "You integrate agents' proposals and the auditor's report.",
                "You compile the final PDDL domain and problem targeting the Fast Downward solver.",
                "You publish the final primitive move list for execution."
            ],
            "goal": "Coordinate agents, produce a Fast Downward-compatible PDDL domain and problem, and emit the final ordered primitive move sequence."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "ordering_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H"
                ],
                "agent_2": [
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ]
            },
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "C",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [
                    "B"
                ],
                "right": [
                    "A",
                    "D"
                ]
            }
        },
        "public_information": [
            "Cooperative 2-agent Tower of Hanoi with 15 disks labelled A (smallest) to O (largest).",
            "Initial configuration: left has A..O top to bottom; middle empty; right empty.",
            "Goal configuration: left has C,E,F,G,H,I,J,K,L,M,N,O; middle has B; right has A,D.",
            "Agent capabilities: agent_1 may move A..H; agent_2 may move I..O.",
            "Primitive move format: 'agent_i: move disk X from peg1 to peg2'."
        ],
        "reference_solution": {
            "primitive_moves": [
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to middle",
                "agent_1: move disk D from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk B from middle to left",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from middle to left",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to right"
            ],
            "notes": "This 17-step plan moves only disks A, B, C, and D; disks E..O never move. It achieves the required final configuration while obeying the Tower of Hanoi constraints and agent permissions."
        }
    },
    "workflow": {
        "agent_1": {
            "decompose": {
                "input": [],
                "output": "proposal_agent_1",
                "system_prompt": "You are agent_1, specialized in handling disks A to H. Propose legal, detailed move sequences that manipulate only your disks, minimize disturbance to larger disks, and support the specified goal configuration.",
                "prompt": "Use the public information {environment->public_information} and your private information {agents->agent_1->private_information} to outline how to clear and place the smallest disks so that agent_2 never needs to move. Provide reasoning and a sequence of primitive moves in the required format without producing PDDL."
            }
        },
        "agent_2": {
            "decompose": {
                "input": [],
                "output": "proposal_agent_2",
                "system_prompt": "You are agent_2, responsible for disks I to O. Assess whether any moves of your disks are necessary to achieve the goal, and, if needed, propose legal moves that preserve the larger stack's integrity.",
                "prompt": "Rely on the public information {environment->public_information} and your private information {agents->agent_2->private_information}. If no moves are required for I..O to reach the goal, explain why and return an empty sequence; do not generate PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "proposal_agent_1",
                    "proposal_agent_2"
                ],
                "output": "audited_plan",
                "system_prompt": "You audit temporal and causal consistency. Verify preconditions and effects of each move, enforce agent permissions, forbid bookkeeping shortcuts (e.g., phantom tokens, post-hoc penalties), and ensure the sequence reaches the stated goal from the initial state.",
                "prompt": "Given the initial and goal states {environment->init} and the agents' proposals {proposal_agent_1} {proposal_agent_2}, validate and, if necessary, minimally repair the plan. Output the final ordered primitive move list only, in the required format, with no additional commentary."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "audited_plan"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert planner orchestrator. Produce a PDDL domain and problem compatible with the Fast Downward solver (STRIPS with types or ADL), modeling a two-agent Tower of Hanoi with disk-permission constraints, three pegs, and 15 disks. Enclose the domain in <domain></domain> and the problem in <problem></problem> tags.",
                "prompt": "Synthesize a single coherent PDDL domain and problem that can generate the audited move sequence {audited_plan}. The domain should include predicates for on, clear, top, smaller, and held-by permissions, and an action move(agent,disk,from,to) constrained so an agent may move only permitted disks and only when the disk is the top of its peg. The problem should declare objects for agents, disks A..O, and pegs left,middle,right; initialize the initial configuration and permissions from {environment->init}; and set the goal to match {environment->init->goal_state}. Target Fast Downward defaults; avoid unsupported constructs."
            },
            "produce_plan": {
                "input": [
                    "audited_plan",
                    "pddl_final"
                ],
                "output": "primitive_moves",
                "system_prompt": "You coordinate execution artifacts. Emit the final, ordered primitive move list for execution and logging.",
                "prompt": "Return the ordered primitive move list exactly as validated by the auditor and shown in {environment->reference_solution->primitive_moves}. Do not add commentary or PDDL."
            }
        },
        "constraints": [
            "agent_1.decompose->auditor.audit",
            "agent_2.decompose->auditor.audit",
            "auditor.audit->orchestrator.compile_pddl",
            "orchestrator.compile_pddl->orchestrator.produce_plan",
            "auditor.audit->orchestrator.produce_plan"
        ]
    }
}