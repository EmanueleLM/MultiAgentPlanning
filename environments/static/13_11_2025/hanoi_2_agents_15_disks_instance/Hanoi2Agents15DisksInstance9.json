{
    "name": "Hanoi2Agents15DisksInstance9",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks A, B, C, D, E, F, G, H.",
                "I must obey Tower of Hanoi rules: move one disk at a time; only the top disk of a peg can be moved; a larger disk can never be placed on top of a smaller disk."
            ],
            "goal": "Contribute valid moves with disks A\u2013H to reach the target peg configuration cooperatively."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks I, J, K, L, M, N, O.",
                "I must obey Tower of Hanoi rules: move one disk at a time; only the top disk of a peg can be moved; a larger disk can never be placed on top of a smaller disk."
            ],
            "goal": "Contribute valid moves with disks I\u2013O to reach the target peg configuration cooperatively."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency; I reject bookkeeping shortcuts such as quota tokens or post-hoc penalties.",
                "I enforce legality: one disk per move; disk must be top; no larger-on-smaller; agent restrictions must be respected; pegs and stacks must be updated consistently."
            ],
            "goal": "Validate and, if necessary, minimally repair the ordered list of primitive moves to ensure it is legal, temporally/causally consistent, duplicates-free, and exactly achieves the target configuration."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and integrate their constraints to produce a single coherent plan and a final PDDL domain and problem compatible with the FastDownward solver."
            ],
            "goal": "Produce the final ordered list of primitive moves assigning each move to the correct agent, and then output a final PDDL domain and problem (with agent-specific move schemas) that encode this instance for FastDownward."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "agent_1_disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H"
            ],
            "agent_2_disks": [
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ]
        },
        "public_information": [
            "There are three pegs: left, middle, right.",
            "There are 15 disks labeled A (smallest), B, C, D, E, F, G, H, I, J, K, L, M, N, O (largest).",
            "Initial configuration: left has (top\u2192bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle is empty; right is empty.",
            "Goal configuration: left has (top\u2192bottom) E, F, G, H, I, J, K, L, M, N, O; middle has (top\u2192bottom) C; right has (top\u2192bottom) A, B, D.",
            "Agent move restrictions: agent_1 can move only disks A\u2013H; agent_2 can move only disks I\u2013O.",
            "Tower of Hanoi rules: move exactly one disk per move; only the top disk of a peg can be moved; a larger disk can never be placed on top of a smaller disk; a disk can be placed on an empty peg.",
            "Primitive move format: 'agent_i: move disk X from peg1 to peg2' where i \u2208 {1,2}, X \u2208 {A..O}, and peg1, peg2 \u2208 {left, middle, right}.",
            "Objective: produce an ordered list of primitive moves in the specified format that transforms the initial configuration into the goal configuration while respecting agent restrictions and Hanoi rules."
        ]
    },
    "workflow": {
        "agent_1": {
            "context": {
                "input": [],
                "output": "ctx_agent_1",
                "system_prompt": "You are agent_1. You control disks A\u2013H only. Do not output PDDL or a final move list. Provide concise constraints, decomposition hints, and safe-move principles for handling disks A\u2013H under Tower of Hanoi rules and the provided initial/goal configurations.",
                "prompt": "Summarize: (1) the disks you can move; (2) how to safely free and place A\u2013H without violating larger-on-smaller; (3) any subgoal structure that helps achieve the final stacks (E..O on left; C on middle; A,B,D on right). Keep it short and actionable."
            }
        },
        "agent_2": {
            "context": {
                "input": [],
                "output": "ctx_agent_2",
                "system_prompt": "You are agent_2. You control disks I\u2013O only. Do not output PDDL or a final move list. Provide concise constraints, decomposition hints, and safe-move principles for handling disks I\u2013O under Tower of Hanoi rules and the provided initial/goal configurations.",
                "prompt": "Summarize: (1) the disks you can move; (2) how to sequence I\u2013O to end as E..O on left with E on top; (3) coordination expectations with agent_1 to avoid deadlocks while forming the final stacks. Keep it short and actionable."
            }
        },
        "orchestrator": {
            "plan_moves": {
                "input": [
                    "ctx_agent_1",
                    "ctx_agent_2"
                ],
                "output": "draft_moves",
                "system_prompt": "You are the orchestrator. Integrate constraints from agent_1 and agent_2 to produce the full ordered list of primitive moves for this specific instance. Respect agent disk permissions and Tower of Hanoi rules.",
                "prompt": "Using the public information and the two agent contexts, produce the complete ordered list of primitive moves that transforms the initial configuration into the goal configuration. Output only lines in the exact format: agent_i: move disk X from peg1 to peg2. Ensure each move is legal, assigns agent_1 for disks A\u2013H and agent_2 for disks I\u2013O, and results in the final stacks: left has E,F,G,H,I,J,K,L,M,N,O (top\u2192bottom), middle has C, right has A,B,D (top\u2192bottom). Do not include explanations or headers."
            },
            "pddl": {
                "input": [
                    "validated_moves"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert with PDDL for the FastDownward solver. You must output a PDDL domain and a PDDL problem that encode this exact 2-agent Tower of Hanoi instance. Keep actions distinct for the two agents by constraining which disks each action can move. Use only constructs compatible with FastDownward (typed STRIPS/ADL without quantifiers in effects). Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "Produce the final PDDL domain and problem for this instance. Requirements: (1) Types: disk, peg, and a supertype loc; (2) Predicates: on(disk, loc), clear(loc), smaller(disk, disk), controlled-by-agent1(disk), controlled-by-agent2(disk); (3) Separate actions for agent_1 and agent_2: move-a1-to-peg, move-a1-to-disk, move-a2-to-peg, move-a2-to-disk. Each action must include preconditions ensuring the disk is controlled by the corresponding agent, that the moved disk is clear, the source relation holds, the destination is clear, and for moves onto a disk that the moved disk is smaller than the destination disk. Effects: update on, clear(source), and not clear(destination). (4) Problem objects: pegs {left, middle, right} and disks {A..O} with typing; (5) Initial state: all smaller relations consistent with A smallest and O largest; controlled-by-agent1 for A..H and controlled-by-agent2 for I..O; on-relations that encode the initial tower on left; clear(left), clear(middle), and clear(right) set appropriately; (6) Goal: on-relations that encode the exact goal configuration: left has (top\u2192bottom) E,F,G,H,I,J,K,L,M,N,O; middle has C; right has A,B,D. Also include clear(E), clear(C), clear(A) to ensure tops are explicit. For clarity, include the validated move list inside <moves></moves> tags before the domain. Use exactly these tag blocks in this order: <moves></moves>, <domain></domain>, <problem></problem>. Here is the validated ordered move list to include inside <moves></moves>: {validated_moves}"
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "draft_moves"
                ],
                "output": "validated_moves",
                "system_prompt": "You are the auditor for temporal and causal consistency. You must validate the move list and remove any bookkeeping shortcuts. Enforce strict Tower of Hanoi legality and agent permissions.",
                "prompt": "Given the drafted ordered list of primitive moves, validate that each move is legal: only the top disk moves; no larger disk is placed on a smaller disk; the correct agent is assigned (agent_1 for A\u2013H, agent_2 for I\u2013O); and the final configuration matches exactly: left has E..O (top\u2192bottom), middle has C, right has A,B,D (top\u2192bottom). If any issues are found, minimally repair by removing, reordering, or correcting moves, but never introduce illegal shortcuts or off-model bookkeeping. Output only the validated and repaired ordered list in the exact format 'agent_i: move disk X from peg1 to peg2', one move per line, with no commentary."
            }
        },
        "constraints": [
            "agent_1.context->orchestrator.plan_moves",
            "agent_2.context->orchestrator.plan_moves",
            "orchestrator.plan_moves->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}