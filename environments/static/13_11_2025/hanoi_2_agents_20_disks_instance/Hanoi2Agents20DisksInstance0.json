{
    "name": "Hanoi2Agents20DisksInstance0",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "consistency_auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only these disks: A, B, C, D, E, F, G, H, I, J",
                "I cannot move disks: K, L, M, N, O, P, Q, R, S, T",
                "I must always obey Tower of Hanoi rules: move only the top disk of any peg and never place a larger disk on top of a smaller disk"
            ],
            "goal": "Contribute legal primitive moves for disks A through J to achieve the specified goal configuration while coordinating with the other agents."
        },
        "agent_2": {
            "private_information": [
                "I can move only these disks: K, L, M, N, O, P, Q, R, S, T",
                "I cannot move disks: A, B, C, D, E, F, G, H, I, J",
                "I must always obey Tower of Hanoi rules: move only the top disk of any peg and never place a larger disk on top of a smaller disk"
            ],
            "goal": "Contribute legal primitive moves for disks K through T if and only if necessary to achieve the specified goal configuration without violating rules or interfering with smaller-disk subplans."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the proposed move sequences",
                "I remove or flag any shortcuts such as quota tokens, post-hoc penalties, or other bookkeeping artifacts that do not correspond to executable moves",
                "I verify agent-disk permission boundaries and Tower of Hanoi legality for each step",
                "I ensure the final ordered plan achieves the exact goal configuration"
            ],
            "goal": "Validate and, if necessary, minimally repair the combined move list from agent_1 and agent_2 so it is temporally and causally sound and matches the exact goal."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and compile the final PDDL domain and problem for the Fast Downward solver",
                "I keep agent actions distinct where relevant and ensure the PDDL reflects agent-disk permissions and Hanoi rules"
            ],
            "goal": "Integrate the agents' plans and the auditor's report into a final correct plan, and produce a PDDL domain and problem suitable for Fast Downward that encodes the initial and goal configurations and the legality constraints."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "agent_2": [
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "A",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "D"
                ],
                "right": [
                    "B",
                    "C"
                ]
            },
            "rules": [
                "Only the top disk of a peg may be moved",
                "No larger disk may be placed on top of a smaller disk"
            ]
        },
        "public_information": [
            "Task: Two-agent Tower of Hanoi with 20 disks labeled A (smallest) to T (largest).",
            "Initial: left has A..T (top to bottom), middle empty, right empty.",
            "Goal: left has A on top of E..T; middle has D alone; right has B on top of C.",
            "Agent permissions: agent_1 may move A..J; agent_2 may move K..T.",
            "All moves must obey Tower of Hanoi rules."
        ],
        "ordered_moves": [
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk C from left to right",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk B from middle to right",
            "agent_1: move disk A from left to right",
            "agent_1: move disk D from left to middle",
            "agent_1: move disk A from right to left"
        ]
    },
    "workflow": {
        "agent_1": {
            "move_planner": {
                "input": [],
                "output": "plan_agent_1",
                "system_prompt": "You are agent_1. Propose only legal primitive moves for disks A through J, respecting the Tower of Hanoi rules and agent-disk permissions. Prefer minimal disturbance to larger disks K..T.",
                "prompt": "Context: {environment->public_information}. Initial and goal are in {environment->init}. Provide an ordered list of primitive moves you can execute in the exact format 'agent_1: move disk X from peg1 to peg2'. Do not include PDDL. Avoid any bookkeeping artifacts. If no moves are needed for your disks, return an empty list."
            }
        },
        "agent_2": {
            "move_planner": {
                "input": [],
                "output": "plan_agent_2",
                "system_prompt": "You are agent_2. Propose only legal primitive moves for disks K through T if needed, respecting the Tower of Hanoi rules and agent-disk permissions. Do not propose moves for disks A..J.",
                "prompt": "Context: {environment->public_information}. Initial and goal are in {environment->init}. Provide an ordered list of primitive moves you can execute in the exact format 'agent_2: move disk X from peg1 to peg2'. Do not include PDDL. If no moves are required from you to reach the goal, return an empty list."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "plan_agent_1",
                    "plan_agent_2",
                    "environment->init"
                ],
                "output": "audit_report",
                "system_prompt": "You are the consistency_auditor. You audit the combined move list for legality (Hanoi rules), permission boundaries, temporal/causal consistency, and exact goal satisfaction. Remove any bookkeeping shortcuts or non-executable tokens.",
                "prompt": "Given the initial and goal states in {environment->init} and the proposed plans: {plan_agent_1} and {plan_agent_2}, produce an audit report with either 'valid' and the merged ordered plan or 'repaired' and a corrected ordered plan. Ensure no move violates agent permissions or Hanoi rules and that the plan achieves the goal configuration exactly. Do not include PDDL."
            }
        },
        "orchestrator": {
            "assemble_pddl": {
                "input": [
                    "plan_agent_1",
                    "plan_agent_2",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator. Integrate agents' plans and the auditor's report. Produce a final PDDL domain and problem for the Fast Downward planner that encodes a two-agent Tower of Hanoi with 3 pegs and 20 disks, including agent action constraints (agent_1 can act only on A..J, agent_2 only on K..T), standard Hanoi legality (move only top disk, cannot place larger on smaller), and the provided initial and goal states. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>.",
                "prompt": "Task: compile the final planning model targeting Fast Downward. Use the environment description {environment->init}, the public information {environment->public_information}, the agents' proposed plans {plan_agent_1} and {plan_agent_2}, and the auditor's decision {audit_report}. Output only a valid PDDL domain and a PDDL problem enclosed in the required tags. Keep agent actions distinct via an agent parameter or separate action schemas, and ensure the problem reflects the exact initial and goal configurations."
            }
        },
        "constraints": [
            "agent_1.move_planner->consistency_auditor.audit",
            "agent_2.move_planner->consistency_auditor.audit",
            "agent_1.move_planner->orchestrator.assemble_pddl",
            "agent_2.move_planner->orchestrator.assemble_pddl",
            "consistency_auditor.audit->orchestrator.assemble_pddl"
        ]
    }
}