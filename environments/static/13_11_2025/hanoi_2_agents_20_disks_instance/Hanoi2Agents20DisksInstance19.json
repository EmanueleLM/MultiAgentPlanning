{
    "name": "Hanoi2Agents20DisksInstance19",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You can manipulate only disks A, B, C, D, E, F, G, H, I, J.",
                "You cannot touch disks K, L, M, N, O, P, Q, R, S, T.",
                "You can move one disk at a time between pegs: left, middle, right.",
                "You must never place a larger disk onto a smaller disk.",
                "You should try to achieve the global goal while moving only your allowed disks."
            ],
            "goal": "Help achieve the final configuration where right peg holds B on top of C, left peg holds A above D through T in descending order, and middle peg is empty."
        },
        "agent_2": {
            "private_information": [
                "You can manipulate only disks K, L, M, N, O, P, Q, R, S, T.",
                "You cannot touch disks A, B, C, D, E, F, G, H, I, J.",
                "You can move one disk at a time between pegs: left, middle, right.",
                "You must never place a larger disk onto a smaller disk.",
                "You should remain idle if no legal move with your disks is necessary to achieve the goal."
            ],
            "goal": "Support the final configuration where right peg holds B on C, left peg holds A above D through T, middle peg is empty, while respecting agent restrictions."
        },
        "auditor": {
            "private_information": [
                "You audit temporal and causal consistency across all proposed moves.",
                "You reject and remove any bookkeeping shortcuts (quota tokens, post-hoc penalty adjustments, hypothetical fast-forwards, or compressed macro-steps).",
                "You ensure that every step respects Tower of Hanoi legality and agent-disk permissions, and that the sequence achieves the exact goal."
            ],
            "goal": "Produce a single, globally ordered sequence of primitive moves that is legal, respects agent capabilities, and attains the target configuration with no shortcuts or inconsistencies."
        },
        "orchestrator": {
            "private_information": [
                "You coordinate the other agents and compile the final model.",
                "You must produce the final PDDL domain and problem targeting the FastDownward solver.",
                "Actions for multiple agents must be kept distinct in the domain (e.g., separate operator schemas or agent-parameterized actions constrained by agent-disk permissions).",
                "Model should use STRIPS-compatible constructs suitable for FastDownward; include clear, on, on-peg, smaller, peg, disk typing as needed and enforce legality and agent permissions.",
                "Ensure the problem encodes 3 pegs and 20 disks (A is smallest, T largest), initial state as specified, and the goal state with B on C on the right peg and all other disks on the left peg with A on top of D through T; middle peg empty."
            ],
            "goal": "Integrate the audited plan and produce a solvable multi-agent PDDL domain and problem for FastDownward that encodes the exact instance and constraints, and include the final ordered primitive move list."
        }
    },
    "environment": {
        "init": {
            "peg_names": [
                "left",
                "middle",
                "right"
            ],
            "disk_labels_small_to_large": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "initial_configuration": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_configuration": {
                "left": [
                    "A",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": [
                    "B",
                    "C"
                ]
            }
        },
        "public_information": [
            "This is a 3-peg Tower of Hanoi instance with 20 disks labeled A (smallest) through T (largest).",
            "Agent capabilities: agent_1 may move disks A, B, C, D, E, F, G, H, I, J; agent_2 may move disks K, L, M, N, O, P, Q, R, S, T.",
            "Legality rules: move one disk at a time; only the top disk of a peg may be moved; no disk may be placed on top of a smaller disk.",
            "Initial configuration: left peg has (top to bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg is empty; right peg is empty.",
            "Goal configuration: left peg has (top to bottom) A, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg is empty; right peg has (top to bottom) B, C.",
            "Only disks A, B, C need to move to achieve the goal; disks D through T should remain on the left peg throughout."
        ],
        "reference_solution_moves": [
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk C from left to right",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk B from middle to right"
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_subplan": {
                "input": [],
                "output": "subplan_agent_1",
                "system_prompt": "You are agent_1, focused on concrete, primitive Tower of Hanoi moves using only disks A through J; do not emit PDDL; propose a legal sequence that helps achieve the goal while respecting agent restrictions and not moving disks K through T.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your private knowledge: {agents->agent_1->private_information}. Global goal: {agents->agent_1->goal}. Provide an ordered list of primitive moves in the exact format 'agent_1: move disk X from peg1 to peg2'. Ensure every move is legal and uses only disks A through J. If a minimal valid plan is already implied (only A, B, C need manipulation), provide that minimal plan."
            }
        },
        "agent_2": {
            "propose_subplan": {
                "input": [],
                "output": "subplan_agent_2",
                "system_prompt": "You are agent_2, focused on concrete, primitive Tower of Hanoi moves using only disks K through T; do not emit PDDL; if no legal move with your disks is required for the goal, explicitly state that you remain idle; otherwise, propose legal moves limited to your disks.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your private knowledge: {agents->agent_2->private_information}. Global goal: {agents->agent_2->goal}. Provide an ordered list of primitive moves in the exact format 'agent_2: move disk X from peg1 to peg2', or the single line 'agent_2: idle' if no move is needed; never include disks outside K through T."
            }
        },
        "auditor": {
            "audit_sequence": {
                "input": [
                    "subplan_agent_1",
                    "subplan_agent_2"
                ],
                "output": "audited_coop_plan",
                "system_prompt": "You are the temporal and causal consistency auditor; merge and order the proposed primitive moves into a single legal sequence that reaches the exact goal; eliminate any shortcuts or compressed macros; verify each step respects Tower of Hanoi rules and agent-disk permissions; if any move is illegal, replace it with a corrected minimal alternative; output only the final ordered primitive move list.",
                "prompt": "You receive agent subplans: {subplan_agent_1} and {subplan_agent_2}. Public information: {environment->public_information}. Enforce that only disks A, B, C should move and disks D through T remain on the left peg; verify legality at each step and that the final configuration matches the goal; output the final list using the exact primitive move format."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "audited_coop_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning; produce a final PDDL domain and problem suitable for the FastDownward solver; keep agent actions distinct (e.g., separate operators move_agent_1 and move_agent_2 or an agent parameter constrained by permissions); encode 20 disks and 3 pegs; include predicates such as on, on-peg, clear, smaller, and any needed typing; ensure initial and goal states reflect the instance precisely; do not rely on derived predicates or numeric fluents; STRIPS-compatible preferred; enclose the domain between <domain></domain> and the problem between <problem></problem>; after the PDDL, include the validated move list you used enclosed in <plan></plan>.",
                "prompt": "Your name is orchestrator. Public information: {environment->public_information}. Audited plan: {audited_coop_plan}. Goals: {agents->orchestrator->goal}. Integrate the audited plan and produce a robust multi-agent PDDL domain and problem for FastDownward. Requirements: two distinct action schemas that reflect agent-specific permissions; object set contains all 20 disks (A..T) and pegs (left, middle, right); initial state exactly as specified; goal state exactly as specified; ensure that operators preserve Tower of Hanoi legality via preconditions (top-of-peg, clear, smaller) and that agent_2 cannot move disks A..J and agent_1 cannot move disks K..T. Output: <domain>...</domain> followed by <problem>...</problem> followed by <plan>...</plan> containing the ordered primitive moves."
            }
        },
        "constraints": [
            "agent_1.propose_subplan->auditor.audit_sequence",
            "agent_2.propose_subplan->auditor.audit_sequence",
            "auditor.audit_sequence->orchestrator.synthesize_pddl"
        ]
    }
}