{
    "name": "Hanoi2Agents20DisksInstance2",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "orchestrator",
            "consistency_auditor"
        ],
        "agent_1": {
            "private_information": [
                "You can move only disks A through J.",
                "You must obey Tower of Hanoi rules: move one disk at a time, only the top disk of any peg can be moved, and a larger disk cannot be placed on top of a smaller disk."
            ],
            "goal": "Cooperatively produce a legal sequence of primitive moves that achieves the global goal configuration while moving only disks A through J as needed."
        },
        "agent_2": {
            "private_information": [
                "You can move only disks K through T.",
                "You must obey Tower of Hanoi rules: move one disk at a time, only the top disk of any peg can be moved, and a larger disk cannot be placed on top of a smaller disk."
            ],
            "goal": "Cooperatively produce a legal sequence of primitive moves that achieves the global goal configuration while moving only disks K through T if necessary."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate agent proposals and the auditor's feedback to produce the final consistent plan and synthesize a PDDL domain and problem suitable for the FastDownwards solver."
        },
        "consistency_auditor": {
            "private_information": [
                "Your role is to audit temporal and causal consistency of the proposed move sequence.",
                "Remove bookkeeping shortcuts such as quota tokens or post-hoc penalties and ensure only valid primitive moves remain.",
                "Enforce Tower of Hanoi invariants across the entire sequence and across agents."
            ],
            "goal": "Verify that move sequences are legal, consistent, respect agent disk permissions, and achieve the target configuration without unnecessary artifacts."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                {
                    "name": "A",
                    "size_rank": 1
                },
                {
                    "name": "B",
                    "size_rank": 2
                },
                {
                    "name": "C",
                    "size_rank": 3
                },
                {
                    "name": "D",
                    "size_rank": 4
                },
                {
                    "name": "E",
                    "size_rank": 5
                },
                {
                    "name": "F",
                    "size_rank": 6
                },
                {
                    "name": "G",
                    "size_rank": 7
                },
                {
                    "name": "H",
                    "size_rank": 8
                },
                {
                    "name": "I",
                    "size_rank": 9
                },
                {
                    "name": "J",
                    "size_rank": 10
                },
                {
                    "name": "K",
                    "size_rank": 11
                },
                {
                    "name": "L",
                    "size_rank": 12
                },
                {
                    "name": "M",
                    "size_rank": 13
                },
                {
                    "name": "N",
                    "size_rank": 14
                },
                {
                    "name": "O",
                    "size_rank": 15
                },
                {
                    "name": "P",
                    "size_rank": 16
                },
                {
                    "name": "Q",
                    "size_rank": 17
                },
                {
                    "name": "R",
                    "size_rank": 18
                },
                {
                    "name": "S",
                    "size_rank": 19
                },
                {
                    "name": "T",
                    "size_rank": 20
                }
            ],
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "agent_2": [
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "visibility": "global"
        },
        "public_information": [
            "Task: Cooperative 2-agent Tower of Hanoi with 20 disks labelled A (smallest) to T (largest).",
            "Agent move permissions: agent_1 can move A..J; agent_2 can move K..T.",
            "Rules: move one disk at a time; only the top disk may be moved; never place a larger disk on a smaller disk.",
            "Initial configuration: left peg has (top\u2192bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg empty; right peg empty.",
            "Goal configuration: left peg has (top\u2192bottom) E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg has (top\u2192bottom) B, C; right peg has (top\u2192bottom) A, D.",
            "Note: Disks E..T should remain on the left peg in the final state, unchanged in order."
        ],
        "solution_plan": {
            "description": "An ordered list of primitive moves that achieves the goal while respecting agent restrictions and Tower of Hanoi rules.",
            "ordered_moves": [
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to middle",
                "agent_1: move disk D from left to right",
                "agent_1: move disk A from middle to right"
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. Propose a legal, step-by-step sequence of primitive moves for disks A..J only that helps achieve the stated goal while respecting Tower of Hanoi rules. Do not output PDDL; output only plain text moves in the format 'agent_1: move disk X from peg1 to peg2'.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your private knowledge: {agents->agent_1->private_information}. Global goal: {agents->agent_1->goal}. Propose only the moves you will perform, formatted exactly as 'agent_1: move disk X from peg1 to peg2'."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2. Propose only the moves for disks K..T if and when they are necessary to achieve the goal, respecting Tower of Hanoi rules. If no moves are necessary, explicitly state that no moves are required. Do not output PDDL; output only plain text moves in the format 'agent_2: move disk X from peg1 to peg2'.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your private knowledge: {agents->agent_2->private_information}. Global goal: {agents->agent_2->goal}. Provide only the moves you will perform, formatted as 'agent_2: move disk X from peg1 to peg2', or state 'agent_2: no moves required' if none are needed."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2"
                ],
                "output": "audited_moves",
                "system_prompt": "You are the consistency auditor. Merge and audit the proposed moves for temporal and causal correctness, ensuring compliance with Tower of Hanoi constraints and agent disk permissions. Remove any bookkeeping shortcuts or artifacts and output a single, clean, ordered list of primitive moves only.",
                "prompt": "Audit the following inputs: agent_1 moves: {moves_agent_1}; agent_2 moves: {moves_agent_2}. Verify that only top disks are moved, no larger disk is placed on a smaller disk, agent_1 moves only A..J, agent_2 moves only K..T, and the sequence achieves the goal configuration. Output a single ordered list of primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2'."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for multi-agent planning targeting the FastDownwards solver. Produce a final PDDL domain and problem for this Tower of Hanoi instance. Enclose the domain in <domain></domain> and the problem in <problem></problem>. Keep agent actions distinct (e.g., parameterize moves by agent or separate action schemas), use typed objects for pegs and disks, encode size ordering and legality constraints, and include the exact initial and goal configurations.",
                "prompt": "Synthesize final PDDL for the described environment and goal. Public information: {environment->public_information}. Use the audited ordered list of moves as reference: {audited_moves}. The domain should include predicates for on-peg, clear, smaller-than, and agent permissions, with actions that move a single disk while preserving legality. The problem should declare all 20 disks A..T, three pegs {left, middle, right}, initial state with all disks stacked on left in order A (top) to T (bottom), and the goal state with left peg having E..T (top to bottom), middle peg having B on C, and right peg having A on D. Ensure the encoding is compatible with FastDownwards STRIPS and typing."
            }
        },
        "constraints": [
            "agent_1.propose_moves->consistency_auditor.audit",
            "agent_2.propose_moves->consistency_auditor.audit",
            "consistency_auditor.audit->orchestrator.pddl"
        ]
    }
}