{
    "name": "Hanoi2Agents20DisksInstance4",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "consistency_auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You may move only disks: A, B, C, D, E, F, G, H, I, J.",
                "Avoid proposing moves involving disks K to T; those are restricted to agent_2.",
                "Prioritize legal Tower of Hanoi moves and avoid assumptions about hidden state."
            ],
            "goal": "Devise a legal sequence of moves for the subset of disks you control that contributes to the overall goal configuration while respecting the Tower of Hanoi rules and the agent restrictions."
        },
        "agent_2": {
            "private_information": [
                "You may move only disks: K, L, M, N, O, P, Q, R, S, T.",
                "Avoid proposing moves involving disks A to J; those are restricted to agent_1.",
                "Prioritize legal Tower of Hanoi moves and avoid assumptions about hidden state."
            ],
            "goal": "Devise a legal sequence of moves for the subset of disks you control that contributes to the overall goal configuration while respecting the Tower of Hanoi rules and the agent restrictions."
        },
        "consistency_auditor": {
            "private_information": [
                "You audit temporal and causal consistency, verifying that each proposed move sequence obeys Tower of Hanoi constraints and agent-disk permissions.",
                "Do not allow bookkeeping shortcuts such as quotas, tokens, post-hoc penalties, or abstract macro-steps; only primitive moves are acceptable.",
                "Ensure that each step has a valid predecessor state and that preconditions are met before each move."
            ],
            "goal": "Validate that the composed plan is a strictly legal sequence of primitive moves, compliant with the agent restrictions and Tower of Hanoi rules, and flag any inconsistency."
        },
        "orchestrator": {
            "private_information": [
                "You coordinate agent_1 and agent_2, incorporate the audit, and produce the final formal specification.",
                "Your final artifact must include a PDDL domain and problem compatible with the FastDownward solver, with explicit agent-disk permissions and the exact initial and goal configurations.",
                "You also provide the final ordered primitive move sequence in the requested textual format."
            ],
            "goal": "Integrate the agents' partial plans and the auditor's checks to produce a final consistent solution: a PDDL domain and problem for FastDownward and an ordered list of primitive moves achieving the specified goal."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agents": [
                "agent_1",
                "agent_2"
            ],
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "agent_2": [
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_stacks": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_stacks": {
                "left": [
                    "A",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": [
                    "B",
                    "C",
                    "D"
                ]
            }
        },
        "public_information": [
            "This is a 2-agent Tower of Hanoi with 20 disks labelled A (smallest) through T (largest).",
            "Agent permissions: agent_1 can move A..J; agent_2 can move K..T.",
            "Initial configuration: left peg has top->bottom A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T; middle peg empty; right peg empty.",
            "Goal configuration: left peg has top->bottom A,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T; middle peg empty; right peg has top->bottom B,C,D.",
            "All moves must follow Tower of Hanoi rules: move exactly one disk at a time, only the top disk from a peg or stack, and never place a larger disk on top of a smaller one."
        ],
        "reference_move_sequence": [
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk C from left to middle",
            "agent_1: move disk A from right to left",
            "agent_1: move disk B from right to middle",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk D from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk B from middle to left",
            "agent_1: move disk A from right to left",
            "agent_1: move disk C from middle to right",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk A from right to left"
        ]
    },
    "workflow": {
        "agent_1": {
            "analysis": {
                "input": [],
                "output": "analysis_agent_1",
                "system_prompt": "You analyze the subset of disks you are permitted to move and reason about legal Tower of Hanoi transitions without emitting PDDL.",
                "prompt": "Your name is agent_1. Use the public information {environment->public_information} and your private knowledge {agents->agent_1->private_information}. Describe constraints and a high-level approach for moving the smallest disks to achieve the goal while never moving restricted disks (K..T)."
            },
            "partial_plan": {
                "input": [
                    "analysis_agent_1"
                ],
                "output": "plan_agent_1",
                "system_prompt": "You produce a concrete, stepwise partial plan for your permitted disks only, using primitive moves, without emitting PDDL.",
                "prompt": "Your name is agent_1. Considering {environment->init} and the goal in {environment->init->goal_stacks}, propose a precise primitive move sequence for disks A..J that helps realize the target configuration. Use the format 'agent_1: move disk X from peg1 to peg2' and ensure every move is legal."
            }
        },
        "agent_2": {
            "analysis": {
                "input": [],
                "output": "analysis_agent_2",
                "system_prompt": "You analyze the subset of disks you are permitted to move and reason about potential involvement without emitting PDDL.",
                "prompt": "Your name is agent_2. Use the public information {environment->public_information} and your private knowledge {agents->agent_2->private_information}. Identify whether disks K..T need to move to achieve the goal and justify your conclusion in a concise manner."
            },
            "partial_plan": {
                "input": [
                    "analysis_agent_2"
                ],
                "output": "plan_agent_2",
                "system_prompt": "You provide a concrete partial plan for your permitted disks only, using primitive moves if needed, without emitting PDDL.",
                "prompt": "Your name is agent_2. Considering {environment->init} and the goal in {environment->init->goal_stacks}, provide either an empty plan (with justification) or legal primitive moves for disks K..T if strictly necessary. Use the format 'agent_2: move disk X from peg1 to peg2'."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "plan_agent_1",
                    "plan_agent_2"
                ],
                "output": "audit_report",
                "system_prompt": "You audit temporal and causal consistency of the combined move sequence; you do not write PDDL.",
                "prompt": "You are the consistency_auditor. Review the partial plans {plan_agent_1} and {plan_agent_2}. Verify each move obeys Tower of Hanoi rules, that agent permissions are respected, and that the sequence leads toward the target configuration described in {environment->init->goal_stacks}. Remove any bookkeeping shortcuts and ensure only primitive moves are used. Provide a concise verdict and a cleaned, strictly legal sequence if corrections are needed."
            }
        },
        "orchestrator": {
            "integrate_and_generate_pddl": {
                "input": [
                    "plan_agent_1",
                    "plan_agent_2",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert at formal planning encodings. Produce a final PDDL domain and PDDL problem for the FastDownward solver. Keep the encoding classical, with :typing and :adl if needed, and include all disks, pegs, agents, permissions, initial state, and exact goal. Enclose the domain in <domain></domain> and the problem in <problem></problem> tags. Do not omit predicates such as on, clear, larger, and allowed(agent,disk). Model actions so that a move requires the disk to be clear and placed either on a clear peg or on a clear larger disk. Provide two action schemas: move_to_peg and move_to_disk, each parameterized by the acting agent and enforcing allowed(agent,disk).",
                "prompt": "Integrate the validated plans and audit {audit_report} with the environment specification {environment->init}. Produce a single coherent PDDL domain and problem for the two-agent Tower of Hanoi instance so that FastDownward can search from the initial configuration to the goal configuration. Ensure the problem contains all objects: pegs left,middle,right; agents agent_1,agent_2; and disks A..T. The initial state must encode the full stack A on B on ... on T on left, clear predicates for A, middle, right, and all allowed(agent,disk) facts. The goal must encode left peg with A on E on F on ... on T on left, middle empty (clear middle), and right peg with B on C on D on right, with clear(A) and clear(B) appropriately."
            },
            "final_move_sequence": {
                "input": [
                    "audit_report",
                    "pddl_orchestrator"
                ],
                "output": "move_sequence",
                "system_prompt": "You produce the final ordered list of primitive moves in the requested textual format, consistent with the audited plan and the formal model.",
                "prompt": "Return the final ordered primitive move list achieving the specified goal using the exact format 'agent_i: move disk X from peg1 to peg2'. Use the validated sequence implied by the auditor and environment. For convenience, mirror the following reference, which is already compliant: {environment->reference_move_sequence}."
            }
        },
        "constraints": [
            "agent_1.analysis->agent_1.partial_plan",
            "agent_2.analysis->agent_2.partial_plan",
            "agent_1.partial_plan->consistency_auditor.audit",
            "agent_2.partial_plan->consistency_auditor.audit",
            "consistency_auditor.audit->orchestrator.integrate_and_generate_pddl",
            "orchestrator.integrate_and_generate_pddl->orchestrator.final_move_sequence"
        ]
    }
}