{
    "name": "Hanoi2Agents20DisksInstance8",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "orchestrator",
            "consistency_auditor"
        ],
        "agent_1": {
            "private_information": [
                "I am allowed to move only these disks: A, B, C, D, E, F, G, H, I, J.",
                "I should avoid touching disks K to T.",
                "I must respect Tower of Hanoi rules: move one disk at a time; never place a larger disk on a smaller one."
            ],
            "goal": "Generate a correct, minimal-touch sequence for the small disks to achieve the global goal while avoiding unnecessary moves of larger disks."
        },
        "agent_2": {
            "private_information": [
                "I am allowed to move only these disks: K, L, M, N, O, P, Q, R, S, T.",
                "I should avoid touching disks A to J.",
                "If the global goal can be achieved without moving my disks, I should produce no moves."
            ],
            "goal": "Confirm whether large-disk moves are necessary. If not, return an empty move list while monitoring that smaller-disk actions do not force large-disk motion."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and integrate their plans.",
                "I must output a final, globally consistent ordered list of primitive moves and also the final PDDL domain and problem suitable for the FastDownward solver."
            ],
            "goal": "Integrate agent_1 and agent_2 proposals, use auditor feedback to ensure legality and consistency, then output the final ordered move list and a PDDL domain/problem for FastDownward."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the proposed moves.",
                "I remove and disallow bookkeeping shortcuts, quota tokens, post-hoc penalties, and any non-causal hacks.",
                "I enforce Tower of Hanoi legality: one disk per move; no larger-on-smaller; only top disk can be moved."
            ],
            "goal": "Verify that the merged move sequence is legal, causally correct, and achieves the specified goal from the initial state without introducing prohibited shortcuts."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "order_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_disk_capabilities": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "agent_2": [
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_stacks": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_stacks": {
                "left": [
                    "A",
                    "C",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "D"
                ],
                "right": [
                    "B"
                ]
            }
        },
        "public_information": [
            "This is a 2-agent Tower of Hanoi with 20 disks labeled A (smallest) through T (largest) and three pegs: left, middle, right.",
            "Agent action constraints: agent_1 may move only disks A through J; agent_2 may move only disks K through T.",
            "Initial configuration: left has (top\u2192bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle empty; right empty.",
            "Goal configuration: left has (top\u2192bottom) A, C, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle has (top\u2192bottom) D; right has (top\u2192bottom) B.",
            "Rules: move a single top disk per step; never place a larger disk on a smaller one; pegs can hold any number of disks."
        ],
        "solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk C from left to right",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right",
                "agent_1: move disk A from left to right",
                "agent_1: move disk D from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to middle",
                "agent_1: move disk C from right to left",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right"
            ],
            "notes": [
                "Only disks A\u2013D are moved; disks E\u2013T remain on the left peg throughout.",
                "All moves respect the Tower of Hanoi rules and agent movement constraints.",
                "Final configuration matches the goal exactly."
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "propose_moves_small": {
                "input": [],
                "output": "moves_small",
                "system_prompt": "You are a cooperative Tower of Hanoi planner for small disks. You produce only primitive moves for disks A through J, obeying Hanoi legality, and you do not output PDDL.",
                "prompt": "Context: Three pegs: left, middle, right. You may move only disks A\u2013J. Initial stacks and goal stacks are provided: initial {environment->init->initial_stacks}, goal {environment->init->goal_stacks}. Generate an ordered list of primitive moves in the exact format 'agent_1: move disk X from peg1 to peg2'. Only propose moves for disks you are allowed to move and only if necessary to reach the goal."
            }
        },
        "agent_2": {
            "plan_large_moves": {
                "input": [],
                "output": "moves_large",
                "system_prompt": "You are a cooperative Tower of Hanoi assistant for large disks K\u2013T. You evaluate whether any large-disk moves are needed; if not, you return an empty ordered list and do not output PDDL.",
                "prompt": "Context: Three pegs: left, middle, right. You may move only disks K\u2013T. Initial stacks and goal stacks are provided: initial {environment->init->initial_stacks}, goal {environment->init->goal_stacks}. If the goal can be achieved by moving only smaller disks, output an empty list []; otherwise, output an ordered list of primitive moves in the exact format 'agent_2: move disk X from peg1 to peg2' for your disks only."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "moves_small",
                    "moves_large"
                ],
                "output": "audited_moves",
                "system_prompt": "You audit temporal and causal consistency for multi-agent Tower of Hanoi plans. You remove prohibited shortcuts (quota tokens, post-hoc penalties, bookkeeping hacks) and enforce legality: only top disk moves, and never place a larger disk on a smaller one.",
                "prompt": "Given: initial {environment->init->initial_stacks}, goal {environment->init->goal_stacks}, allowed moves per agent {environment->init->agent_disk_capabilities}, and candidate move lists moves_small={moves_small}, moves_large={moves_large}. Verify legality and causal correctness, ensure agent-disk compliance, and return a single ordered and cleaned list that achieves the goal. Use the exact primitive move format 'agent_i: move disk X from peg1 to peg2'."
            }
        },
        "orchestrator": {
            "merge_and_order_moves": {
                "input": [
                    "moves_small",
                    "moves_large",
                    "audited_moves"
                ],
                "output": "ordered_moves",
                "system_prompt": "You integrate multi-agent Tower of Hanoi move sequences, producing a final globally consistent ordered plan with agent-specific actions preserved. Do not output PDDL in this step.",
                "prompt": "Integrate the candidate lists from agent_1 and agent_2 with the auditor's cleaned list audited_moves={audited_moves}. Ensure the final sequence respects legality and agent-disk permissions and achieves the goal {environment->init->goal_stacks} from {environment->init->initial_stacks}. Output only the final ordered primitive moves in the format 'agent_i: move disk X from peg1 to peg2'."
            },
            "pddl": {
                "input": [
                    "ordered_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for FastDownward. You always provide a PDDL domain and a PDDL problem that encode the Tower of Hanoi with typing and a single move action. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. Ensure compatibility with FastDownward (classical STRIPS-like planning).",
                "prompt": "Produce a PDDL domain and problem for the 20-disk Tower of Hanoi with pegs left, middle, right. Disks: {environment->init->disks}. Pegs: {environment->init->pegs}. Initial stacks: {environment->init->initial_stacks}. Goal stacks: {environment->init->goal_stacks}. Include predicates such as on(d,p), clear(d), clear-peg(p), smaller(d1,d2), and top(d) or a suitable equivalent to ensure legality (only top disks move; never place larger on smaller). Use :typing with disk and peg types. The problem must list all objects, define the full smaller ordering, initial on-relations and clear facts, and goal as the target stacks. Enclose your outputs within <domain>...</domain> and <problem>...</problem> tags, ready for FastDownward."
            }
        },
        "constraints": [
            "agent_1.propose_moves_small->consistency_auditor.audit",
            "agent_2.plan_large_moves->consistency_auditor.audit",
            "agent_1.propose_moves_small->orchestrator.merge_and_order_moves",
            "agent_2.plan_large_moves->orchestrator.merge_and_order_moves",
            "consistency_auditor.audit->orchestrator.merge_and_order_moves",
            "orchestrator.merge_and_order_moves->orchestrator.pddl"
        ]
    }
}