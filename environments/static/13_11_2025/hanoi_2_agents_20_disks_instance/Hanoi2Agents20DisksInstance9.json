{
    "name": "Hanoi2Agents20DisksInstance9",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "agent_1",
            "agent_2",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only the following disks: A, B, C, D, E, F, G, H, I, J.",
                "I must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of any peg can be moved."
            ],
            "goal": "Cooperate to reach the goal configuration while only manipulating permitted disks and respecting Hanoi rules."
        },
        "agent_2": {
            "private_information": [
                "I can move only the following disks: K, L, M, N, O, P, Q, R, S, T.",
                "I must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of any peg can be moved."
            ],
            "goal": "Cooperate to reach the goal configuration while only manipulating permitted disks and respecting Hanoi rules."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the proposed move sequence.",
                "I ensure strict adherence to Tower of Hanoi constraints and agent disk-permission constraints.",
                "I remove and prevent any bookkeeping shortcuts (e.g., quota tokens, post-hoc penalties, imaginary steps).",
                "I validate that the sequence is executable from the given initial configuration and reaches the exact goal configuration."
            ],
            "goal": "Produce an audited, causally valid, fully ordered list of primitive moves that achieves the goal without violating any rules or agent constraints."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and compile the final plan.",
                "I produce the final PDDL domain and problem targeting the FastDownward/FastDownwards solver."
            ],
            "goal": "Integrate the audited plan and output a PDDL domain and problem compatible with FastDownward, encoding agents, pegs, disks, and initial/goal states."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disk_labels": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "disk_order_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "initial_configuration": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_configuration": {
                "left": [
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "B"
                ],
                "right": [
                    "A"
                ]
            },
            "rules": [
                "Only one disk can be moved at a time.",
                "Only the top disk of a peg may be moved.",
                "A larger disk may never be placed on a smaller disk."
            ],
            "grid_size": 3,
            "visibility": 1
        },
        "public_information": [
            "Problem: Two-agent Tower of Hanoi on three pegs with 20 disks labelled A (smallest) through T (largest).",
            "Agent permissions: agent_1 may move disks A\u2013J; agent_2 may move disks K\u2013T.",
            "Initial state: left peg contains from top to bottom A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle and right pegs are empty.",
            "Goal state: left peg contains from top to bottom C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg contains B; right peg contains A.",
            "Rules: move exactly one disk at a time; only move the top disk of any peg; never place a larger disk on a smaller one."
        ],
        "reference_plan": [
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle"
        ]
    },
    "workflow": {
        "agent_1": {
            "plan_local_moves": {
                "input": [],
                "output": "plan_agent_1",
                "system_prompt": "You are agent_1. You can move only disks A\u2013J. You must obey Tower of Hanoi rules (one disk at a time, only the top disk, never place a larger on a smaller). Do not output PDDL.",
                "prompt": "Your name is agent_1. You are in an environment with the following public information:\n{environment->public_information}\nYour private knowledge:\n{agents->agent_1->private_information}\nGlobal cooperative goal:\n{agents->agent_1->goal}\nTask: Propose the minimal sequence of primitive moves you (agent_1) need to perform, respecting your disk-permission constraints, to achieve the goal jointly with agent_2. Use exactly the format 'agent_1: move disk X from peg1 to peg2'. Output only the ordered list of moves (one per line), no explanations, and do not use PDDL."
            }
        },
        "agent_2": {
            "plan_local_moves": {
                "input": [],
                "output": "plan_agent_2",
                "system_prompt": "You are agent_2. You can move only disks K\u2013T. You must obey Tower of Hanoi rules (one disk at a time, only the top disk, never place a larger on a smaller). Do not output PDDL.",
                "prompt": "Your name is agent_2. You are in an environment with the following public information:\n{environment->public_information}\nYour private knowledge:\n{agents->agent_2->private_information}\nGlobal cooperative goal:\n{agents->agent_2->goal}\nTask: Propose the minimal sequence of primitive moves you (agent_2) need to perform, respecting your disk-permission constraints, to achieve the goal jointly with agent_1. Use exactly the format 'agent_2: move disk X from peg1 to peg2'. If no moves are necessary, output nothing. Do not use PDDL."
            }
        },
        "auditor": {
            "audit_plan": {
                "input": [
                    "plan_agent_1",
                    "plan_agent_2"
                ],
                "output": "audited_plan",
                "system_prompt": "You are the auditor. Your role is to ensure causal/temporal consistency and remove any bookkeeping shortcuts (quota tokens, post-hoc penalties, imaginary allowances). You must enforce Tower of Hanoi rules and agent move-permission constraints strictly. Do not output PDDL.",
                "prompt": "You will receive the local move lists from agent_1 and agent_2. Your tasks:\n1) Merge them into a single, totally ordered list of primitive moves that is executable from the initial configuration and achieves the exact goal.\n2) Verify at each step: only one disk moves, moved disk was the top of its peg, and no larger disk is placed on a smaller disk; also verify agent permissions (agent_1 only A\u2013J, agent_2 only K\u2013T).\n3) If any move violates constraints, correct the sequence minimally or remove invalid moves; if no moves from an agent are needed, keep the list empty for that agent.\n4) Output only the final ordered move list, one per line, in the exact format 'agent_i: move disk X from peg1 to peg2', with no commentary."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for the FastDownward (a.k.a. FastDownwards) solver. Produce a complete PDDL domain and problem encoding a 3-peg Tower of Hanoi with 20 disks (A smallest ... T largest) and two agents with disk-permission constraints. Keep agent actions distinct (e.g., via an allowed(agent,disk) predicate or typed actions).",
                "prompt": "You are the orchestrator. You will receive the audited, totally ordered move list:\n{audited_plan}\nYour tasks:\n- Provide a PDDL domain and a PDDL problem compatible with the FastDownward planner that model:\n  \u2022 Objects: pegs (left, middle, right), disks A\u2013T, agents agent_1 and agent_2.\n  \u2022 Predicates: at(disk, peg), clear(x), smaller(d1, d2), top(disk), allowed(agent, disk) or equivalent, and any minimal additional predicates needed.\n  \u2022 Actions: agent-specific move actions that respect allowed(agent, disk) and enforce Tower of Hanoi constraints (move one disk that is top and smaller than what it is placed on; or placing onto a clear peg).\n  \u2022 Initial state: all disks stacked on left peg A (top) ... T (bottom), middle and right empty, clear statuses, smaller relations, and allowed relations for agents.\n  \u2022 Goal state: left has C..T stacked from top to bottom; middle has B; right has A.\n- Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.\n- Do not output anything else besides the two tagged PDDL files."
            }
        },
        "constraints": [
            "agent_1.plan_local_moves->auditor.audit_plan",
            "agent_2.plan_local_moves->auditor.audit_plan",
            "auditor.audit_plan->orchestrator.pddl"
        ]
    }
}