{
    "name": "Hanoi3Agents10DisksInstance0",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks A, B, C, D",
                "I must obey Tower of Hanoi rules"
            ],
            "goal": "Contribute legal primitive moves for my disks so the team reaches the target peg configuration."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks E, F, G",
                "I must obey Tower of Hanoi rules"
            ],
            "goal": "Contribute legal primitive moves for my disks so the team reaches the target peg configuration."
        },
        "agent_3": {
            "private_information": [
                "I can move only disks H, I, J",
                "I must obey Tower of Hanoi rules"
            ],
            "goal": "Contribute legal primitive moves for my disks so the team reaches the target peg configuration."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the proposed move sequence",
                "I verify strict Tower of Hanoi legality at each step",
                "I remove bookkeeping shortcuts, quota tokens, and post-hoc penalties; only actual primitive moves remain"
            ],
            "goal": "Validate that the integrated move sequence is legal, minimal with respect to the specified goal, and free of meta or bookkeeping artifacts."
        },
        "orchestrator": {
            "private_information": [
                "I integrate all agents' proposed moves into a single coherent plan",
                "I coordinate validation and produce the final PDDL domain and problem for FastDownward"
            ],
            "goal": "Produce the final ordered list of primitive moves and an executable PDDL domain and problem that achieves the target peg configuration using FastDownward."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "ordering_note": "A is the smallest, J is the largest",
            "agents_disk_capabilities": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D"
                ],
                "agent_2": [
                    "E",
                    "F",
                    "G"
                ],
                "agent_3": [
                    "H",
                    "I",
                    "J"
                ]
            }
        },
        "public_information": [
            "Task: Cooperative 3-agent Tower of Hanoi with 10 disks labelled A (smallest) through J (largest).",
            "Initial configuration: left peg has top->bottom A, B, C, D, E, F, G, H, I, J; middle peg is empty; right peg is empty.",
            "Goal configuration: left peg has top->bottom B, D, E, F, G, H, I, J; middle peg is empty; right peg has top->bottom A, C.",
            "Agents are restricted to specific disks: agent_1 can move A, B, C, D; agent_2 can move E, F, G; agent_3 can move H, I, J.",
            "Tower of Hanoi rules: move exactly one disk at a time; only the top disk of any peg or stack may be moved; no disk may be placed on top of a smaller disk.",
            "Primitive move format: 'agent_i: move disk X from peg1 to peg2'."
        ],
        "reference_solution": {
            "description": "One valid minimal sequence to achieve the specified goal without moving disks E through J.",
            "moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk C from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk B from middle to left"
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1 and can move only disks A, B, C, D. You propose only legal Tower of Hanoi primitive moves for your disks toward the goal. Do not output PDDL.",
                "prompt": "Given the public information {environment->public_information} and your capabilities {agents->agent_1->private_information}, propose a correct and sufficient ordered list of primitive moves exclusively for disks A, B, C, D that achieves the goal. Use the exact format 'agent_1: move disk X from peg1 to peg2'. If a shorter valid sequence exists, prefer it. Do not include commentary or PDDL."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2 and can move only disks E, F, G. You propose only legal Tower of Hanoi primitive moves for your disks toward the goal if needed. Do not output PDDL.",
                "prompt": "Given the public information {environment->public_information} and your capabilities {agents->agent_2->private_information}, propose an ordered list of primitive moves for disks E, F, G only if required to achieve the goal; otherwise return an empty list. Use the exact format 'agent_2: move disk X from peg1 to peg2'. Do not include commentary or PDDL."
            }
        },
        "agent_3": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3 and can move only disks H, I, J. You propose only legal Tower of Hanoi primitive moves for your disks toward the goal if needed. Do not output PDDL.",
                "prompt": "Given the public information {environment->public_information} and your capabilities {agents->agent_3->private_information}, propose an ordered list of primitive moves for disks H, I, J only if required to achieve the goal; otherwise return an empty list. Use the exact format 'agent_3: move disk X from peg1 to peg2'. Do not include commentary or PDDL."
            }
        },
        "auditor": {
            "audit_plan": {
                "input": [
                    "ordered_moves"
                ],
                "output": "audited_moves",
                "system_prompt": "You are the auditing agent. You verify temporal and causal consistency, strict Tower of Hanoi legality, and remove any bookkeeping or meta artifacts so that only executable primitive moves remain. Do not output PDDL.",
                "prompt": "You receive an integrated ordered move sequence. Check that each move is legal (only top disk moves, no larger-on-smaller, respects agent disk restrictions), that the sequence achieves the exact goal configuration, and that no extraneous tokens or commentary is present. If corrections are needed, fix them; otherwise pass the sequence through unchanged. Output only the final ordered list of primitive moves, one per line, in the format 'agent_i: move disk X from peg1 to peg2'."
            }
        },
        "orchestrator": {
            "integrate_and_order_moves": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "ordered_moves",
                "system_prompt": "You are the orchestrator. Integrate proposed moves from all agents into a single coherent, legal, and minimal plan to reach the goal.",
                "prompt": "You receive the proposed move lists from agent_1, agent_2, and agent_3. Using the public information {environment->public_information}, integrate and order the primitive moves into a single sequence that achieves the goal. Ensure all Tower of Hanoi rules and agent disk restrictions are respected at every step. If some agents are not needed, do not fabricate moves. Output only the final ordered list of primitive moves, one per line, in the format 'agent_i: move disk X from peg1 to peg2'."
            },
            "pddl": {
                "input": [
                    "audited_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for FastDownward. Produce a final, solver-ready PDDL domain and problem that model multi-agent Tower of Hanoi with agent-specific disk permissions, using STRIPS and typing, no numeric fluents or durative actions. Enclose the domain between <domain></domain> and the problem between <problem></problem> tags.",
                "prompt": "Using the audited ordered move sequence and the public information {environment->public_information}, produce a PDDL domain and problem compatible with the FastDownward solver. The domain should include types (agent, disk, peg), predicates (on, on-peg, clear, smaller, controls), and a move action parameterized by an agent, a disk, a source (disk or peg), and a destination (disk or peg) with preconditions enforcing legality (top disk only, no larger on smaller, agent controls disk, source and destination are clear) and effects updating on/clear relations. The problem should instantiate pegs left, middle, right; disks A through J with a total order via smaller facts; initial state matching the specified initial configuration; and goal matching the specified target configuration. Ensure that the action schema and objects are named consistently, avoid conditional effects, and target FastDownward defaults."
            }
        },
        "constraints": [
            "agent_1.propose_moves->orchestrator.integrate_and_order_moves",
            "agent_2.propose_moves->orchestrator.integrate_and_order_moves",
            "agent_3.propose_moves->orchestrator.integrate_and_order_moves",
            "orchestrator.integrate_and_order_moves->auditor.audit_plan",
            "auditor.audit_plan->orchestrator.pddl"
        ]
    }
}