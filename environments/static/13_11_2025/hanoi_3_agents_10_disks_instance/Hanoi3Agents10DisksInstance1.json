{
    "name": "Hanoi3Agents10DisksInstance1",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "consistency_auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can only move disks: A, B, C, D",
                "I must obey Tower of Hanoi rules (only one disk at a time; never place a larger disk on top of a smaller disk)"
            ],
            "goal": "Contribute legal move subsequences that reposition the small disks so the team reaches the exact goal configuration."
        },
        "agent_2": {
            "private_information": [
                "I can only move disks: E, F, G",
                "I must obey Tower of Hanoi rules (only one disk at a time; never place a larger disk on top of a smaller disk)"
            ],
            "goal": "Contribute legal move subsequences for medium disks, especially placing E onto the middle peg at the correct time."
        },
        "agent_3": {
            "private_information": [
                "I can only move disks: H, I, J",
                "I must obey Tower of Hanoi rules (only one disk at a time; never place a larger disk on top of a smaller disk)"
            ],
            "goal": "Contribute constraints and confirmations for large disks; in this instance large disks should remain on the left peg in proper order."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency of multi-agent plans",
                "I verify Tower of Hanoi legality of each primitive move",
                "I ensure no bookkeeping shortcuts are used (no quota tokens, no post-hoc penalties, no retroactive edits); only legal single-disk moves are allowed"
            ],
            "goal": "Detect and correct any illegal move, ordering conflict, agent capability violation, or contradiction; produce a clean, verified, strictly legal ordered plan with explicit justifications for corrections."
        },
        "orchestrator": {
            "private_information": [
                "I integrate partial plans, resolve conflicts, and produce the final ordered move list",
                "I then produce the final PDDL domain and problem targeting the FastDownward solver"
            ],
            "goal": "Coordinate all agents to produce a single, legal, ordered list of primitive moves achieving the exact goal configuration, and provide a final PDDL domain and problem solvable by FastDownward."
        }
    },
    "environment": {
        "init": {
            "grid_size": 3,
            "visibility": 2,
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks_order_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "C",
                    "D",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [
                    "A",
                    "B",
                    "E"
                ],
                "right": []
            }
        },
        "public_information": [
            "Cooperative 3-agent Tower of Hanoi with 10 disks labelled A (smallest) through J (largest).",
            "Agents and disk permissions: agent_1 moves {A,B,C,D}; agent_2 moves {E,F,G}; agent_3 moves {H,I,J}.",
            "Rules: move exactly one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of any peg may be moved; each move must specify agent, disk, source peg, and destination peg.",
            "Initial configuration: left peg top->bottom is A,B,C,D,E,F,G,H,I,J; middle peg empty; right peg empty.",
            "Goal configuration: left peg top->bottom is C,D,F,G,H,I,J; middle peg top->bottom is A,B,E; right peg empty.",
            "Primitive move format: agent_i: move disk X from peg1 to peg2.",
            "The orchestrator must produce the final ordered move list and a PDDL domain and problem targeting the FastDownward solver."
        ]
    },
    "workflow": {
        "agent_1": {
            "local_plan_proposal": {
                "input": [],
                "output": "proposal_agent_1",
                "system_prompt": "You are agent_1. You move only disks A, B, C, D. You must obey Tower of Hanoi rules. Generate a logically consistent set of candidate primitive moves and constraints to help achieve the goal configuration without producing PDDL.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your capabilities: {agents->agent_1->private_information}. Your objective: {agents->agent_1->goal}. Provide a candidate subsequence of legal primitive moves for disks A, B, C, D only, plus any constraints and invariants you require from other agents. Do not emit PDDL. Use the move format: agent_1: move disk X from peg_src to peg_dst. Keep moves minimal and avoid assumptions beyond public information."
            }
        },
        "agent_2": {
            "local_plan_proposal": {
                "input": [],
                "output": "proposal_agent_2",
                "system_prompt": "You are agent_2. You move only disks E, F, G. You must obey Tower of Hanoi rules. Generate a logically consistent set of candidate primitive moves and constraints to help achieve the goal configuration without producing PDDL.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your capabilities: {agents->agent_2->private_information}. Your objective: {agents->agent_2->goal}. Provide a candidate subsequence of legal primitive moves for disks E, F, G only, with emphasis on placing disk E correctly on the middle peg. Include any constraints you need from other agents. Do not emit PDDL. Use the move format: agent_2: move disk X from peg_src to peg_dst."
            }
        },
        "agent_3": {
            "local_plan_proposal": {
                "input": [],
                "output": "proposal_agent_3",
                "system_prompt": "You are agent_3. You move only disks H, I, J. You must obey Tower of Hanoi rules. In this instance the large disks should remain on the left in order unless required otherwise. Generate confirmations and blocking constraints to ensure legality without producing PDDL.",
                "prompt": "Your name is agent_3. Public information: {environment->public_information}. Your capabilities: {agents->agent_3->private_information}. Your objective: {agents->agent_3->goal}. Provide constraints, invariants, and any necessary no-op confirmations for disks H, I, J ensuring they remain correctly ordered on the left peg throughout. Do not emit PDDL. If a temporary move is required by logic, specify it using format: agent_3: move disk X from peg_src to peg_dst, and justify it."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "proposal_agent_1",
                    "proposal_agent_2",
                    "proposal_agent_3"
                ],
                "output": "audit_report",
                "system_prompt": "You audit temporal and causal consistency, checking all Tower of Hanoi constraints and agent capability limits. Remove shortcuts and enforce one-disk moves only. Output a corrected, strictly legal plan skeleton and a list of detected issues.",
                "prompt": "Public information: {environment->public_information}. Review the three proposals: {proposal_agent_1}, {proposal_agent_2}, {proposal_agent_3}. Verify each primitive move is legal and assigned to an agent permitted to move that disk; ensure only top disks move; ensure no larger-on-smaller placements. Produce: 1) a merged, verified, conflict-free plan skeleton (possibly with placeholders where ordering choices remain), and 2) an issues-and-fixes report. Do not emit PDDL."
            }
        },
        "orchestrator": {
            "merge_and_order": {
                "input": [
                    "proposal_agent_1",
                    "proposal_agent_2",
                    "proposal_agent_3",
                    "audit_report"
                ],
                "output": "ordered_moves",
                "system_prompt": "You integrate partial plans and the audit to produce a single, legal, fully ordered list of primitive moves that achieves the exact goal.",
                "prompt": "Task: produce an ordered list of primitive moves achieving the exact goal configuration. Use only legal Tower of Hanoi moves and respect agent disk permissions. Use the required move format exactly: agent_i: move disk X from peg1 to peg2. Inputs: Proposals: {proposal_agent_1}, {proposal_agent_2}, {proposal_agent_3}. Audit: {audit_report}. Public information: {environment->public_information}. Output: the final ordered list of primitive moves, one per line, from the starting state to the goal state. Avoid any abstractions or shortcuts; list every primitive move explicitly."
            },
            "pddl": {
                "input": [
                    "ordered_moves"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert with PDDL and FastDownward. Produce a PDDL domain and a PDDL problem that model this 3-peg Tower of Hanoi instance with 10 typed disks and 3 pegs. Ensure compatibility with the FastDownward solver (STRIPS with typing is fine). Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags.",
                "prompt": "Goal: Provide a PDDL domain and problem for the specified Tower of Hanoi instance that are solvable by FastDownward. Include objects for pegs and disks A..J, predicates for on, clear, smaller, top, etc., and an action move with appropriate preconditions and effects enforcing the rules. Encode the exact initial and goal states from public information: {environment->public_information}. Incorporate the final ordered primitive move list as a commented plan hint inside the problem file for reference: {ordered_moves}. Keep agent constraints implicit in planning (domain encodes legality), while the move list demonstrates one valid solution. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "agent_1.local_plan_proposal->consistency_auditor.audit",
            "agent_2.local_plan_proposal->consistency_auditor.audit",
            "agent_3.local_plan_proposal->consistency_auditor.audit",
            "agent_1.local_plan_proposal->orchestrator.merge_and_order",
            "agent_2.local_plan_proposal->orchestrator.merge_and_order",
            "agent_3.local_plan_proposal->orchestrator.merge_and_order",
            "consistency_auditor.audit->orchestrator.merge_and_order",
            "orchestrator.merge_and_order->orchestrator.pddl"
        ]
    }
}