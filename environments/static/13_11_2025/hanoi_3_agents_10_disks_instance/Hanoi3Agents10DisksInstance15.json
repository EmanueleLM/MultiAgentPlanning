{
    "name": "Hanoi3Agents10DisksInstance15",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "consistency_auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You are allowed to move only disks A, B, C, D.",
                "You should avoid moving D unless strictly necessary since D is already in its goal position on the left peg under the smaller disks."
            ],
            "goal": "Contribute your allowed primitive moves to achieve the global goal: left peg ends with D, E, F, G, H, I, J (top to bottom), middle peg ends with A, B, C (top to bottom), right peg ends empty, while always respecting the Tower of Hanoi rules and agent restrictions."
        },
        "agent_2": {
            "private_information": [
                "You are allowed to move only disks E, F, G.",
                "In this specific instance, these disks are already in their goal locations and should not move unless necessary to unblock legal moves, which is not required here."
            ],
            "goal": "Contribute constraints and acknowledge that no moves are needed for disks E, F, G in this instance to achieve the global goal configuration."
        },
        "agent_3": {
            "private_information": [
                "You are allowed to move only disks H, I, J.",
                "In this specific instance, these disks are already in their goal locations and should not move unless necessary to unblock legal moves, which is not required here."
            ],
            "goal": "Contribute constraints and acknowledge that no moves are needed for disks H, I, J in this instance to achieve the global goal configuration."
        },
        "consistency_auditor": {
            "private_information": [
                "You audit temporal and causal consistency of the proposed move sequence.",
                "You must enforce Tower of Hanoi legality: move exactly one disk at a time; only the top disk on any peg may be moved; no disk may be placed on top of a smaller disk.",
                "You remove bookkeeping shortcuts or non-causal hacks such as quota tokens or post-hoc penalties, and you ensure that every move is justified by the prior state.",
                "You verify agent restrictions: agent_1 can move A, B, C, D; agent_2 can move E, F, G; agent_3 can move H, I, J."
            ],
            "goal": "Return an audited, strictly legal, temporally ordered sequence of primitive moves that reaches the stated goal, or report a violation if one exists."
        },
        "orchestrator": {
            "private_information": [
                "You coordinate agents and compile the final integrated plan.",
                "You also produce the final PDDL domain and problem that are compatible with the FastDownward solver."
            ],
            "goal": "Integrate agent proposals into a single, globally consistent move sequence that achieves the goal, obtain auditor approval, and finally generate a PDDL domain and problem targeting FastDownward that encode the multi-agent Tower of Hanoi with 10 disks and the stated initial and goal configurations."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "sizes": {
                "A": 1,
                "B": 2,
                "C": 3,
                "D": 4,
                "E": 5,
                "F": 6,
                "G": 7,
                "H": 8,
                "I": 9,
                "J": 10
            },
            "initial_stacks_top_to_bottom": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [],
                "right": []
            },
            "goal_stacks_top_to_bottom": {
                "left": [
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [
                    "A",
                    "B",
                    "C"
                ],
                "right": []
            },
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D"
                ],
                "agent_2": [
                    "E",
                    "F",
                    "G"
                ],
                "agent_3": [
                    "H",
                    "I",
                    "J"
                ]
            }
        },
        "public_information": [
            "There are three pegs: left, middle, right.",
            "There are 10 disks: A (smallest), B, C, D, E, F, G, H, I, J (largest).",
            "Initial configuration: left peg has (top to bottom) A, B, C, D, E, F, G, H, I, J; middle and right pegs are empty.",
            "Goal configuration: left peg has (top to bottom) D, E, F, G, H, I, J; middle peg has (top to bottom) A, B, C; right peg is empty.",
            "Agent move permissions: agent_1 can move disks A, B, C, D; agent_2 can move disks E, F, G; agent_3 can move disks H, I, J.",
            "Tower of Hanoi rules: move exactly one disk at a time; only the top disk on any peg may be moved; no disk may be placed on top of a smaller disk."
        ],
        "solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to middle"
            ],
            "number_of_moves": 7,
            "notes": "This is the minimal sequence to relocate only the top three disks A, B, C from the left peg to the middle peg while leaving D through J on the left peg, using the right peg as auxiliary. It respects both the Tower of Hanoi rules and the agent movement restrictions."
        }
    },
    "workflow": {
        "agent_1": {
            "moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are a cooperative planning agent responsible only for disks A, B, C, D. You must propose primitive Tower of Hanoi moves in the format 'agent_1: move disk X from peg1 to peg2'. Do not emit PDDL. Respect the rules and do not move disks outside your permission set.",
                "prompt": "Your name is agent_1. Use the public information {environment->public_information} and your permissions {agents->agent_1->private_information}. Propose a minimal, legal sequence of primitive moves using only disks A, B, C (avoid moving D unless strictly required) to achieve the goal configuration. Output only the ordered list of primitive moves in the specified format."
            }
        },
        "agent_2": {
            "moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are a cooperative planning agent responsible only for disks E, F, G. You must state primitive moves in the format 'agent_2: move disk X from peg1 to peg2' only if they are necessary. Do not emit PDDL. Respect the rules and do not move disks outside your permission set.",
                "prompt": "Your name is agent_2. Use the public information {environment->public_information} and your permissions {agents->agent_2->private_information}. For this instance, the optimal plan requires no moves of E, F, G. If you believe moves are necessary, explain briefly why and list them; otherwise, output an empty list."
            }
        },
        "agent_3": {
            "moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are a cooperative planning agent responsible only for disks H, I, J. You must state primitive moves in the format 'agent_3: move disk X from peg1 to peg2' only if they are necessary. Do not emit PDDL. Respect the rules and do not move disks outside your permission set.",
                "prompt": "Your name is agent_3. Use the public information {environment->public_information} and your permissions {agents->agent_3->private_information}. For this instance, the optimal plan requires no moves of H, I, J. If you believe moves are necessary, explain briefly why and list them; otherwise, output an empty list."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "global_moves"
                ],
                "output": "audited_moves",
                "system_prompt": "You audit temporal and causal consistency of the proposed move sequence. You must verify every step respects Tower of Hanoi rules and agent move permissions, detect and remove any bookkeeping shortcuts or non-causal constructs, and ensure the sequence leads from the given initial state to the goal state.",
                "prompt": "You are the consistency auditor. Check the integrated move sequence {global_moves} against the initial state {environment->init->initial_stacks_top_to_bottom}, the goal state {environment->init->goal_stacks_top_to_bottom}, the rules {environment->public_information}, and the agent permissions {environment->init->agent_disk_permissions}. If the sequence is legal and sufficient, return the identical ordered list as the approved audited_moves. If not, correct it minimally and return the corrected ordered list, along with a brief explanation of changes."
            }
        },
        "orchestrator": {
            "integrate_moves": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "global_moves",
                "system_prompt": "You integrate partial move proposals from multiple agents into a single, globally consistent plan. Do not emit PDDL in this step.",
                "prompt": "You are the orchestrator. Merge and linearize the agents' move proposals {moves_agent_1}, {moves_agent_2}, and {moves_agent_3} into a single ordered list of primitive moves that achieves the global goal in {environment->public_information}. Respect agent permissions and Tower of Hanoi rules. When in doubt, align with the canonical minimal solution {environment->solution->ordered_moves}. Output only the final ordered move list in the format 'agent_i: move disk X from peg1 to peg2'."
            },
            "pddl": {
                "input": [
                    "audited_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for classical planning targeting the FastDownward solver. You will generate a final PDDL domain and problem that encode a multi-agent Tower of Hanoi with 10 disks and 3 pegs, with agent capability constraints.",
                "prompt": "Produce a complete PDDL domain and problem for the FastDownward solver that encode this instance. Domain requirements: use typing; objects include 10 disks (A-J), 3 pegs (left, middle, right), and 3 agents (agent_1, agent_2, agent_3); predicates include on(?x ?y) where ?y is a disk or peg, clear(?z) for disk or peg, smaller(?d1 ?d2) over disks, can-move(?a ?d) to enforce agent permissions; actions should separate moving onto a peg vs onto a disk (e.g., move-to-peg and move-to-disk) with preconditions clear(?d), clear(destination), on(?d source), and for move-to-disk also smaller(?d destination), and must include can-move(?a ?d) to model agent restrictions; effects update on, clear, and remove previous on. Problem: include all objects, initialize the exact initial configuration {environment->init->initial_stacks_top_to_bottom} as a stack using on and clear, include all smaller relations consistent with A smallest to J largest, include can-move predicates for agent_1 on A-D, agent_2 on E-G, agent_3 on H-J, and set the goal configuration {environment->init->goal_stacks_top_to_bottom}. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Do not include the plan in the PDDL; the audited move list {audited_moves} may be appended as comments after the PDDL blocks."
            }
        },
        "constraints": [
            "agent_1.moves->orchestrator.integrate_moves",
            "agent_2.moves->orchestrator.integrate_moves",
            "agent_3.moves->orchestrator.integrate_moves",
            "orchestrator.integrate_moves->consistency_auditor.audit",
            "consistency_auditor.audit->orchestrator.pddl"
        ]
    }
}