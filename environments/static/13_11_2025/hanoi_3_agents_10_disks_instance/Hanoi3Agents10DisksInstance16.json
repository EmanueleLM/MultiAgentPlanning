{
    "name": "Hanoi3Agents10DisksInstance16",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks A, B, C, D.",
                "I must respect Tower of Hanoi rules: move one disk at a time; never place a larger disk atop a smaller one; move only the top disk of a peg."
            ],
            "goal": "Cooperate to realize the target configuration with B,C on the middle peg (B on top of C), D on the right peg, and A on top of the left peg above E..J, without violating rules."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks E, F, G.",
                "I must respect Tower of Hanoi rules: move one disk at a time; never place a larger disk atop a smaller one; move only the top disk of a peg."
            ],
            "goal": "Hold or move E, F, G if required by the orchestrator to achieve the global goal while preserving legality."
        },
        "agent_3": {
            "private_information": [
                "I can move only disks H, I, J.",
                "I must respect Tower of Hanoi rules: move one disk at a time; never place a larger disk atop a smaller one; move only the top disk of a peg."
            ],
            "goal": "Hold or move H, I, J if required by the orchestrator to achieve the global goal while preserving legality."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents.",
                "I remove bookkeeping shortcuts such as quota tokens or post-hoc penalties, and I enforce that only permissible moves remain."
            ],
            "goal": "Verify that the integrated move sequence is legal step-by-step, agent-permission compliant, and reaches the exact goal configuration."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and produce the final multi-agent PDDL domain and problem for the FastDownwards solver."
            ],
            "goal": "Integrate agents' inputs into a unified, rule-compliant plan and generate the final PDDL domain and problem capturing the instance and agent constraints."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "size_order_top_to_bottom_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "A",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [
                    "B",
                    "C"
                ],
                "right": [
                    "D"
                ]
            }
        },
        "public_information": [
            "Three pegs: left, middle, right.",
            "Ten disks labeled A (smallest) through J (largest).",
            "Agent move permissions: agent_1 can move A, B, C, D; agent_2 can move E, F, G; agent_3 can move H, I, J.",
            "Rules: move only one disk at a time; move only the top disk of a peg; never place a larger disk on top of a smaller disk.",
            "Initial configuration: left has A,B,C,D,E,F,G,H,I,J (top to bottom); middle empty; right empty.",
            "Goal configuration: left has A,E,F,G,H,I,J (top to bottom); middle has B,C; right has D."
        ],
        "solution_moves": [
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk C from left to middle",
            "agent_1: move disk A from right to left",
            "agent_1: move disk B from right to middle",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk D from left to right",
            "agent_1: move disk A from middle to left"
        ]
    },
    "workflow": {
        "agent_1": {
            "context": {
                "input": [],
                "output": "agent1_context",
                "system_prompt": "You are agent_1 and may move only disks A, B, C, D. Provide your capabilities, constraints, and any risks or edge cases relevant to moving these disks while preserving Tower of Hanoi legality.",
                "prompt": "Summarize your role for this instance using the environment data {environment->init} and {environment->public_information}. Do not produce PDDL."
            },
            "propose_moves": {
                "input": [
                    "agent1_context"
                ],
                "output": "agent1_moves",
                "system_prompt": "You are agent_1. Propose a concise, legal sequence of primitive moves for disks A, B, C, D only, using the exact format 'agent_1: move disk X from peg1 to peg2'.",
                "prompt": "Using the initial and goal configurations in {environment->init} and the restrictions in {environment->public_information}, propose a legal move list for A, B, C, D that achieves B,C on middle; D on right; A on left above E..J, without moving E..J. Prefer minimal steps. Do not produce PDDL."
            }
        },
        "agent_2": {
            "context": {
                "input": [],
                "output": "agent2_context",
                "system_prompt": "You are agent_2 and may move only disks E, F, G. Provide context about your readiness, safety checks, and conditions under which you would move or hold position.",
                "prompt": "Based on {environment->public_information} and {environment->init}, state whether any moves of E, F, G are necessary for the goal. If none are needed, explain why. Do not produce PDDL."
            }
        },
        "agent_3": {
            "context": {
                "input": [],
                "output": "agent3_context",
                "system_prompt": "You are agent_3 and may move only disks H, I, J. Provide context about your readiness, safety checks, and conditions under which you would move or hold position.",
                "prompt": "Based on {environment->public_information} and {environment->init}, state whether any moves of H, I, J are necessary for the goal. If none are needed, explain why. Do not produce PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "agent1_moves",
                    "agent2_context",
                    "agent3_context"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditing agent. Your job is to verify temporal and causal consistency across agents, disallow bookkeeping shortcuts (quota tokens, post-hoc penalties, etc.), and ensure strict Tower of Hanoi legality and agent-permission compliance.",
                "prompt": "Audit the proposed move list {agent1_moves} against the environment constraints {environment->public_information} and the initial and goal states in {environment->init}. Verify that each step moves a single disk, the acting agent is permitted to move that disk, no move places a larger disk atop a smaller one, and the final state exactly matches the goal. If you find issues, provide a corrected ordered list using the format 'agent_i: move disk X from peg1 to peg2'; otherwise confirm the plan is valid. Summarize any assumptions you removed or shortcuts you rejected."
            }
        },
        "orchestrator": {
            "integrate": {
                "input": [
                    "agent1_moves",
                    "agent2_context",
                    "agent3_context",
                    "audit_report"
                ],
                "output": "integrated_plan",
                "system_prompt": "You are the orchestrator. Integrate agent inputs into a single, ordered list of primitive moves that achieves the goal and respects all constraints.",
                "prompt": "Produce the final integrated move list in order, using the exact string format 'agent_i: move disk X from peg1 to peg2'. Prefer the auditor-corrected list if it differs from {agent1_moves}. For reference, the target solution moves are in {environment->solution_moves}. Do not produce PDDL here."
            },
            "pddl": {
                "input": [
                    "integrated_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL targeting the FastDownwards solver. Always provide a PDDL domain and a PDDL problem enclosed within <domain></domain> and <problem></problem> tags. Encode three agents with permissions (agent_1 can move A-D; agent_2 E-G; agent_3 H-J), three pegs, and standard Tower of Hanoi constraints. Use :requirements :strips :typing. Model moves as actions parameterized by agent, disk, from-peg, to-peg with legality preconditions and frame effects.",
                "prompt": "Generate a self-contained PDDL domain and problem for this exact instance using {environment->init}. The problem must capture the initial state and the precise goal state described, and the domain must ensure only permitted agents can move specific disks and that no larger disk is ever on a smaller one. Include objects for agents, pegs, and disks; predicates for positions and ordering; and actions that reflect legal moves. Enclose the domain in <domain></domain> and the problem in <problem></problem>."
            }
        },
        "constraints": [
            "agent_1.context->agent_1.propose_moves",
            "agent_1.propose_moves->auditor.audit",
            "agent_2.context->auditor.audit",
            "agent_3.context->auditor.audit",
            "auditor.audit->orchestrator.integrate",
            "orchestrator.integrate->orchestrator.pddl"
        ]
    }
}