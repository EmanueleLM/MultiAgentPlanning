{
    "name": "Hanoi3Agents10DisksInstance18",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks A, B, C, D."
            ],
            "goal": "Collaborate to achieve the exact goal configuration using only primitive legal Tower of Hanoi moves while never placing a larger disk atop a smaller one."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks E, F, G."
            ],
            "goal": "Collaborate to achieve the exact goal configuration using only primitive legal Tower of Hanoi moves while never placing a larger disk atop a smaller one."
        },
        "agent_3": {
            "private_information": [
                "I can move only disks H, I, J."
            ],
            "goal": "Collaborate to achieve the exact goal configuration using only primitive legal Tower of Hanoi moves while never placing a larger disk atop a smaller one."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the move list.",
                "I ensure no bookkeeping shortcuts appear (no stack moves, no quota tokens, no post-hoc penalties, no time warps).",
                "I ensure that each move changes the state legally under Tower of Hanoi rules and agent restrictions."
            ],
            "goal": "Verify and canonicalize the ordered list of primitive moves so that it is consistent, minimal with respect to the stated goal, and free of shortcuts."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate the agents and generate the final PDDL domain and problem for Fast Downward."
            ],
            "goal": "Integrate the audited primitive move sequence and produce a correct PDDL domain and problem that encode the instance for the Fast Downward planner."
        }
    },
    "environment": {
        "init": {
            "number_of_pegs": 3,
            "peg_names": [
                "left",
                "middle",
                "right"
            ],
            "disk_labels_increasing_size": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D"
                ],
                "agent_2": [
                    "E",
                    "F",
                    "G"
                ],
                "agent_3": [
                    "H",
                    "I",
                    "J"
                ]
            }
        },
        "public_information": [
            "Task: Devise a cooperative plan for a 3-agent Tower of Hanoi with 10 disks labelled A (smallest) through J (largest).",
            "Agents are limited to moving specific disks: agent_1 can move A, B, C, D; agent_2 can move E, F, G; agent_3 can move H, I, J.",
            "Initial configuration: left peg has top to bottom A, B, C, D, E, F, G, H, I, J; middle is empty; right is empty.",
            "Goal configuration: left peg has top to bottom A, C, E, F, G, H, I, J; middle peg has top to bottom B, D; right peg is empty.",
            "Rules: Move exactly one disk at a time, only the topmost disk of a peg or stack may be moved, and no larger disk may be placed on top of a smaller disk.",
            "Primitive move format to be used by all agents: 'agent_i: move disk X from peg1 to peg2' with peg1 and peg2 in {left, middle, right}."
        ],
        "solution": {
            "primitive_moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk C from left to right",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right",
                "agent_1: move disk A from left to right",
                "agent_1: move disk D from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to right",
                "agent_1: move disk C from right to left",
                "agent_1: move disk A from right to left"
            ],
            "notes": [
                "All moves respect agent restrictions and Tower of Hanoi legality constraints.",
                "No disks E through J are moved; they remain on the left peg below D throughout, except when D is moved to the middle as part of the goal.",
                "Final configuration after the sequence: left has A, C, E, F, G, H, I, J top to bottom; middle has B, D top to bottom; right is empty."
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "local_plan": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. You may move only disks A, B, C, D. Use only the primitive move format 'agent_i: move disk X from peg1 to peg2'. Obey Tower of Hanoi rules at all times. Do not emit PDDL. Provide only the moves you intend to execute to contribute toward the global goal.",
                "prompt": "Context: {environment->public_information} Your permissions: {environment->init->agent_disk_permissions->agent_1}. Objective: Contribute a legal sequence of primitive moves that helps achieve the goal configuration exactly. If you can complete the task without assistance from other agents, provide the full sequence. If no moves are required from you, output an empty list."
            }
        },
        "agent_2": {
            "local_plan": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2. You may move only disks E, F, G. Use only the primitive move format 'agent_i: move disk X from peg1 to peg2'. Obey Tower of Hanoi rules at all times. Do not emit PDDL. Provide only the moves you intend to execute to contribute toward the global goal.",
                "prompt": "Context: {environment->public_information} Your permissions: {environment->init->agent_disk_permissions->agent_2}. Objective: Contribute a legal sequence of primitive moves that helps achieve the goal configuration exactly. If no moves are required from you for this instance, output an empty list."
            }
        },
        "agent_3": {
            "local_plan": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3. You may move only disks H, I, J. Use only the primitive move format 'agent_i: move disk X from peg1 to peg2'. Obey Tower of Hanoi rules at all times. Do not emit PDDL. Provide only the moves you intend to execute to contribute toward the global goal.",
                "prompt": "Context: {environment->public_information} Your permissions: {environment->init->agent_disk_permissions->agent_3}. Objective: Contribute a legal sequence of primitive moves that helps achieve the goal configuration exactly. If no moves are required from you for this instance, output an empty list."
            }
        },
        "auditor": {
            "temporal_audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "primitive_moves",
                "system_prompt": "You are the auditor. Your job is to check temporal and causal consistency across all proposed moves, ensure strict Tower of Hanoi legality (one-disk moves only, top-only moves, no placing larger on smaller), enforce agent-wise disk permissions, and remove any bookkeeping shortcuts such as stack moves, aggregated actions, quota tokens, or post-hoc penalties. If multiple agents provide overlapping or redundant moves, reconcile them into a single canonical ordered list. If only a subset of agents needs to act, retain only the necessary moves. Your output must be the final ordered list of primitive moves in the format 'agent_i: move disk X from peg1 to peg2'.",
                "prompt": "Inputs: {moves_agent_1} {moves_agent_2} {moves_agent_3}. Public facts: {environment->public_information}. Verify the plan achieves the exact goal configuration from the stated initial configuration, ensure causality and feasibility at every step, and output the final canonical primitive move sequence only. Do not emit PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "primitive_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL engineer targeting the Fast Downward planner. Produce the final PDDL domain and problem enclosed respectively within <domain></domain> and <problem></problem> tags. Use typed PDDL that Fast Downward accepts. Model Tower of Hanoi with types agent, support, disk - support, peg - support. Predicates should include at least on ?d - disk ?s - support, clear-disk ?d - disk, clear-peg ?p - peg, smaller ?x - disk ?y - disk, and can-move ?a - agent ?d - disk. Provide four action schemas to avoid type-union tests: move-from-peg-to-peg, move-from-peg-to-disk, move-from-disk-to-peg, move-from-disk-to-disk. Each action must require the mover agent parameter and the appropriate can-move precondition; enforce legality with clear predicates and smaller when moving onto a disk; update clear predicates correctly. In the problem, declare three pegs left, middle, right; ten disks a, b, c, d, e, f, g, h, i, j (lowercase constants are fine); and agents agent_1, agent_2, agent_3. Initialize the full stack on the left peg with on a b, on b c, on c d, on d e, on e f, on f g, on g h, on h i, on i j, on j left; set clear-disk a, clear-peg middle, clear-peg right; and all can-move facts according to permissions (agent_1 moves a b c d; agent_2 moves e f g; agent_3 moves h i j). Define all smaller relations consistent with A < B < C < D < E < F < G < H < I < J. In the goal, encode exactly left having A on C on E on F on G on H on I on J resting on left, middle having B on D resting on middle, right empty; also ensure clear-disk a, clear-disk b, and clear-peg right. Do not print any explanation or plan, only the two PDDL blocks.",
                "prompt": "Context: {environment->public_information}. Audited primitive move sequence: {primitive_moves}. Generate the final PDDL domain and problem as specified so that Fast Downward can solve this instance. Ensure the problem objects and initial and goal facts exactly reflect the instance."
            }
        },
        "constraints": [
            "agent_1.local_plan->auditor.temporal_audit",
            "agent_2.local_plan->auditor.temporal_audit",
            "agent_3.local_plan->auditor.temporal_audit",
            "auditor.temporal_audit->orchestrator.pddl"
        ]
    }
}