{
    "name": "Hanoi3Agents10DisksInstance5",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move disks A, B, C, D only."
            ],
            "goal": "Contribute legal moves for disks A-D to reach the global goal configuration."
        },
        "agent_2": {
            "private_information": [
                "I can move disks E, F, G only."
            ],
            "goal": "Contribute legal moves for disks E-G to reach the global goal configuration."
        },
        "agent_3": {
            "private_information": [
                "I can move disks H, I, J only."
            ],
            "goal": "Contribute legal moves for disks H-J to reach the global goal configuration."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency.",
                "I enforce Tower of Hanoi legality and agent-permission constraints.",
                "I remove bookkeeping shortcuts like quota tokens and post-hoc penalties and ensure only primitive moves remain."
            ],
            "goal": "Audit the proposed moves for legality and consistency and output a single clean, ordered list of primitive moves."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and produce the final integrated plan and PDDL for FastDownwards."
            ],
            "goal": "Merge the audited move list into a final sequence and generate a correct PDDL domain and problem compatible with the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J"
            ],
            "initial_configuration": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [],
                "right": []
            },
            "goal_configuration": {
                "left": [
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "middle": [
                    "C"
                ],
                "right": [
                    "A",
                    "B"
                ]
            }
        },
        "public_information": [
            "This is a 3-peg Tower of Hanoi with 10 disks labelled A (smallest) through J (largest).",
            "Agent disk permissions: agent_1 controls {A,B,C,D}; agent_2 controls {E,F,G}; agent_3 controls {H,I,J}.",
            "Only one disk may move at a time; a larger disk may never be placed on a smaller disk; only the top disk of a peg is movable.",
            "Initial configuration: left has top-to-bottom A,B,C,D,E,F,G,H,I,J; middle is empty; right is empty.",
            "Goal configuration: left has top-to-bottom D,E,F,G,H,I,J; middle has top-to-bottom C; right has top-to-bottom A,B."
        ],
        "reference_solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle"
            ],
            "notes": [
                "By relocating only A, B, and C, the remaining stack on the left peg becomes D,E,F,G,H,I,J in order, matching the goal.",
                "All moves respect agent permissions and Tower of Hanoi rules."
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "propose": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1 and may move disks A, B, C, D. Propose a legal sequence of primitive moves, using only your controllable disks, to help achieve the goal. Do not emit PDDL.",
                "prompt": "Use the public rules and configurations {environment->public_information}. Focus on moving A, B, and C off the left peg so that the left peg remains with top-to-bottom D,E,F,G,H,I,J, placing C on the middle peg and A,B on the right peg with A above B. Return only primitive moves in the exact format 'agent_1: move disk X from peg1 to peg2'."
            }
        },
        "agent_2": {
            "propose": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2 and may move disks E, F, G. Propose only legal primitive moves with your disks that contribute toward the goal. Do not emit PDDL.",
                "prompt": "Use the public rules and configurations {environment->public_information}. If the goal can be achieved without moving E, F, or G, return an empty list. Otherwise, return primitive moves in the exact format 'agent_2: move disk X from peg1 to peg2'."
            }
        },
        "agent_3": {
            "propose": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3 and may move disks H, I, J. Propose only legal primitive moves with your disks that contribute toward the goal. Do not emit PDDL.",
                "prompt": "Use the public rules and configurations {environment->public_information}. If the goal can be achieved without moving H, I, or J, return an empty list. Otherwise, return primitive moves in the exact format 'agent_3: move disk X from peg1 to peg2'."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audited_moves",
                "system_prompt": "You are the audit agent for temporal and causal consistency. You validate that moves follow Tower of Hanoi rules and agent-permission constraints, and you remove bookkeeping shortcuts or non-primitive operations.",
                "prompt": "Given the proposals from the agents and the public rules {environment->public_information}, verify legality, causal soundness, and that the resulting sequence reaches the stated goal from the given initial state. If multiple valid sequences exist, prefer the canonical reference {environment->reference_solution->ordered_moves}. Return a single ordered list of primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2' and nothing else."
            }
        },
        "orchestrator": {
            "integrate": {
                "input": [
                    "audited_moves"
                ],
                "output": "ordered_moves",
                "system_prompt": "You are the orchestrator and must integrate audited plans into a single global sequence that achieves the goal.",
                "prompt": "Integrate the audited move list into the final sequence that achieves the goal exactly as specified in {environment->public_information}. If the audited list already matches the canonical reference {environment->reference_solution->ordered_moves}, return it as-is. Return only the ordered list of primitive moves in the required format."
            },
            "pddl": {
                "input": [
                    "ordered_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in PDDL for FastDownwards. Produce a PDDL domain and a PDDL problem for this exact instance, enclosed in <domain></domain> and <problem></problem> tags. The domain must model a 3-peg Tower of Hanoi with objects for pegs, disks, and agents; predicates like on(disk,peg), top(disk,peg), clear(peg), smaller(d1,d2), and controls(agent,disk); and an action move(a,d,from,to) that enforces: the agent controls the disk, the disk is top at from, to is clear or has a larger top-disk, and size legality. The problem must declare agents {agent_1, agent_2, agent_3}, pegs {left, middle, right}, disks {A,B,C,D,E,F,G,H,I,J}, initialize the exact initial state from config, and set the goal exactly to the target arrangement. Ensure compatibility with the FastDownwards solver.",
                "prompt": "Use {environment->public_information} and the final ordered move list {ordered_moves} to produce correct and solvable PDDL. Keep actions generic with an agent parameter and enforce permissions via controls(agent,disk) preconditions. Enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem> tags."
            }
        },
        "constraints": [
            "agent_1.propose->auditor.audit",
            "agent_2.propose->auditor.audit",
            "agent_3.propose->auditor.audit",
            "auditor.audit->orchestrator.integrate",
            "orchestrator.integrate->orchestrator.pddl"
        ]
    }
}