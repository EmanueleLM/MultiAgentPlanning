{
    "name": "Hanoi3Agents15DisksInstance1",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks A, B, C, D, E",
                "I may only move a disk if it is the top disk on its peg",
                "I must never place a larger disk on top of a smaller disk",
                "I move one disk at a time"
            ],
            "goal": "Propose legal moves for disks A, B, C, D, E that help achieve the specified goal configuration without violating Tower of Hanoi rules and agent restrictions."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks F, G, H, I, J",
                "I may only move a disk if it is the top disk on its peg",
                "I must never place a larger disk on top of a smaller disk",
                "I move one disk at a time"
            ],
            "goal": "Propose legal moves for disks F, G, H, I, J that help achieve the specified goal configuration without violating Tower of Hanoi rules and agent restrictions."
        },
        "agent_3": {
            "private_information": [
                "I can move only disks K, L, M, N, O",
                "I may only move a disk if it is the top disk on its peg",
                "I must never place a larger disk on top of a smaller disk",
                "I move one disk at a time"
            ],
            "goal": "Propose legal moves for disks K, L, M, N, O that help achieve the specified goal configuration without violating Tower of Hanoi rules and agent restrictions."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency over the entire multi-agent move sequence",
                "I ensure that every move is legal under Tower of Hanoi rules and respects agent-specific disk permissions",
                "I eliminate bookkeeping shortcuts and artifices such as quota tokens, post-hoc penalties, fictitious resources, or any non-causal adjustments",
                "I ensure no simultaneous moves and that each move operates on the current top disk only"
            ],
            "goal": "Validate and reconcile the agents' proposed moves into a coherent, temporally consistent, legal sequence that achieves the goal configuration or clearly identifies and corrects issues."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the audited move proposals into one globally consistent ordered list of primitive moves to achieve the goal configuration, and produce a PDDL domain and problem compatible with the Fast Downward solver that capture the initial and goal states for this 3-peg, 15-disk Tower of Hanoi instance."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "agent_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E"
                ],
                "agent_2": [
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "agent_3": [
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ]
            },
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "C",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [
                    "A",
                    "E"
                ],
                "right": [
                    "B",
                    "D"
                ]
            },
            "rules": {
                "move_one_disk_at_a_time": true,
                "only_move_top_disk": true,
                "no_larger_on_smaller": true
            }
        },
        "public_information": [
            "There are 3 pegs named left, middle, and right.",
            "There are 15 disks named A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, where A is the smallest and O is the largest.",
            "Initial configuration: left peg has (top to bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle is empty; right is empty.",
            "Goal configuration: left peg has (top to bottom) C, F, G, H, I, J, K, L, M, N, O; middle peg has (top to bottom) A, E; right peg has (top to bottom) B, D.",
            "Agent movement permissions are restricted as follows: agent_1 can move A, B, C, D, E; agent_2 can move F, G, H, I, J; agent_3 can move K, L, M, N, O.",
            "Tower of Hanoi rules apply: move exactly one disk at a time, only the top disk of any peg can be moved, and no larger disk may be placed on top of a smaller disk.",
            "The required move format is the exact string 'agent_i: move disk X from P to Q' where i \u2208 {1,2,3}, X \u2208 {A..O}, and P,Q \u2208 {left,middle,right} with P \u2260 Q."
        ]
    },
    "workflow": {
        "agent_1": {
            "moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are a cooperative Tower of Hanoi agent specialized in disks A, B, C, D, E. You must propose only legal moves for your allowed disks and you must respect the global initial and goal configurations.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your private knowledge: {agents->agent_1->private_information}. Global goal: {agents->agent_1->goal}. Produce a candidate plan focusing only on your allowed disks and respecting legality at each step. Return a JSON object with a key moves whose value is an ordered array of strings, each exactly in the format 'agent_1: move disk X from P to Q'. Do not include moves for disks outside your permission set. Do not emit PDDL."
            }
        },
        "agent_2": {
            "moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are a cooperative Tower of Hanoi agent specialized in disks F, G, H, I, J. You must propose only legal moves for your allowed disks and you must respect the global initial and goal configurations.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your private knowledge: {agents->agent_2->private_information}. Global goal: {agents->agent_2->goal}. Produce a candidate plan focusing only on your allowed disks and respecting legality at each step. Return a JSON object with a key moves whose value is an ordered array of strings, each exactly in the format 'agent_2: move disk X from P to Q'. Do not include moves for disks outside your permission set. Do not emit PDDL."
            }
        },
        "agent_3": {
            "moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are a cooperative Tower of Hanoi agent specialized in disks K, L, M, N, O. You must propose only legal moves for your allowed disks and you must respect the global initial and goal configurations.",
                "prompt": "Your name is agent_3. Public information: {environment->public_information}. Your private knowledge: {agents->agent_3->private_information}. Global goal: {agents->agent_3->goal}. Produce a candidate plan focusing only on your allowed disks and respecting legality at each step. Return a JSON object with a key moves whose value is an ordered array of strings, each exactly in the format 'agent_3: move disk X from P to Q'. Do not include moves for disks outside your permission set. Do not emit PDDL."
            }
        },
        "auditor": {
            "check": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audited_moves",
                "system_prompt": "You are a temporal and causal consistency auditor. Enforce Tower of Hanoi legality, agent-specific disk permissions, and single-move-at-a-time semantics. Remove bookkeeping shortcuts such as quota tokens, post-hoc penalties, fictitious resources, or any other non-causal devices. Ensure each move operates on the then-top disk and never places a larger disk on a smaller one. If agent outputs conflict, correct them and document corrections succinctly.",
                "prompt": "You receive three candidate move arrays. Public information: {environment->public_information}. Validate and reconcile them into a single coherent, legal, temporally consistent sequence that can achieve the goal. You may insert, remove, or reorder moves to maintain legality and respect agent permissions. Return a JSON object with keys moves and notes where moves is the ordered array of primitive moves as strings in the exact format 'agent_i: move disk X from P to Q' and notes is a brief list of any corrections you made."
            }
        },
        "orchestrator": {
            "integrate_moves": {
                "input": [
                    "audited_moves"
                ],
                "output": "final_moves",
                "system_prompt": "You are a multi-agent coordinator. Your job is to produce the final globally consistent move sequence that reaches the goal using only legal Tower of Hanoi moves and respecting each agent's permissions.",
                "prompt": "You receive audited moves and notes. Public information: {environment->public_information}. Ensure the sequence achieves the exact goal configuration and is temporally and causally sound. If needed, complete the sequence by adding or refining moves, maintaining legality and agent permissions. Return a JSON object with a key moves whose value is the final ordered array of primitive moves, each exactly formatted as 'agent_i: move disk X from P to Q'."
            },
            "pddl": {
                "input": [
                    "final_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for classical planning and target the Fast Downward solver. You always provide a PDDL domain and a PDDL problem file for the given Tower of Hanoi instance. You must enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Use standard STRIPS with typing compatible with Fast Downward (:requirements :strips :typing) and define objects for 3 pegs and 15 typed disks. Provide predicates such as (disk ?d - disk), (peg ?p - peg), (on ?x - disk ?y - object), (on-peg ?d - disk ?p - peg), (clear ?z - object), and a static ordering predicate (smaller ?d1 - disk ?d2 - disk). Provide a single move action that moves the top disk from one support to another, with preconditions enforcing top-of-stack constraints and smaller-than ordering, and with effects updating on/on-peg and clear facts. In the problem file, fully specify the initial state exactly as described and the goal state exactly as described. Do not include plans inside the PDDL; only domain and problem.",
                "prompt": "Public information: {environment->public_information}. You also receive the final ordered primitive moves: {final_moves}. Produce the PDDL domain and problem capturing the 3-peg, 15-disk Tower of Hanoi rules, the exact initial configuration, and the exact goal configuration. Ensure the PDDL is syntactically valid, typed, and suitable for Fast Downward. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>."
            }
        },
        "constraints": [
            "agent_1.moves->auditor.check",
            "agent_2.moves->auditor.check",
            "agent_3.moves->auditor.check",
            "auditor.check->orchestrator.integrate_moves",
            "orchestrator.integrate_moves->orchestrator.pddl"
        ]
    }
}