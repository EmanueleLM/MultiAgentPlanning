{
    "name": "Hanoi3Agents15DisksInstance13",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks A, B, C, D, E.",
                "I must obey Tower of Hanoi rules and move only the top disk."
            ],
            "goal": "Propose safe primitive moves for disks A..E to help achieve the global goal while respecting all rules."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks F, G, H, I, J.",
                "I must obey Tower of Hanoi rules and move only the top disk."
            ],
            "goal": "Propose safe primitive moves for disks F..J if needed, but avoid unnecessary moves."
        },
        "agent_3": {
            "private_information": [
                "I can move only disks K, L, M, N, O.",
                "I must obey Tower of Hanoi rules and move only the top disk."
            ],
            "goal": "Remain ready to move disks K..O if required, but avoid unnecessary moves."
        },
        "auditor": {
            "private_information": [
                "Your role is to audit temporal and causal consistency of the integrated move list.",
                "Remove or reject any bookkeeping shortcuts (quota tokens, post-hoc penalties, or any non-physical moves).",
                "Enforce that only the top disk moves, and no disk is placed on a smaller one."
            ],
            "goal": "Verify that the integrated plan is valid, causally consistent, and minimal with respect to unnecessary detours."
        },
        "orchestrator": {
            "private_information": [
                "You coordinate and consolidate agents' move proposals and produce the final PDDL domain and problem compatible with the Fast Downward solver."
            ],
            "goal": "Integrate the agents' proposals, obtain an audited plan, and output domain.pddl and problem.pddl that encode the initial state, the goal, and constraints that enforce agent-disk capabilities."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "disk_order_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "agent_disk_capabilities": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E"
                ],
                "agent_2": [
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "agent_3": [
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ]
            },
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "B",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [
                    "C"
                ],
                "right": [
                    "A"
                ]
            },
            "rules": [
                "Only one disk may be moved at a time.",
                "Only the top disk on any peg may be moved.",
                "No disk may be placed on top of a smaller disk."
            ]
        },
        "public_information": [
            "This is a cooperative 3-agent Tower of Hanoi with 15 disks labelled A (smallest) to O (largest).",
            "Agents are restricted to specific disks: agent_1 moves A..E, agent_2 moves F..J, agent_3 moves K..O.",
            "Initial state: left has A,B,C,D,E,F,G,H,I,J,K,L,M,N,O (top to bottom); middle empty; right empty.",
            "Goal state: left has B,D,E,F,G,H,I,J,K,L,M,N,O (top to bottom); middle has C; right has A.",
            "Follow the Tower of Hanoi rules: move only one disk at a time; move only the peg's top disk; never place a larger disk on a smaller one.",
            "Orchestrator will integrate agents' legal moves into a single plan and then produce a Fast Downward compatible PDDL domain and problem."
        ],
        "reference_solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk B from right to left",
                "agent_1: move disk A from middle to right"
            ],
            "length": 7
        }
    },
    "workflow": {
        "agent_1": {
            "moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. Propose only legal Tower of Hanoi moves for disks A, B, C, D, E. Move only the top disk and never place a larger disk on a smaller one.",
                "prompt": "Your name is agent_1. Public info: {environment->public_information}. Your capabilities: {environment->init->agent_disk_capabilities->agent_1}. Private info: {agents->agent_1->private_information}. Propose a sequence of primitive moves, using the format 'agent_1: move disk X from peg1 to peg2', that helps achieve the global goal: {agents->orchestrator->goal}. Do not emit PDDL; only list valid primitive moves you are authorized to perform."
            }
        },
        "agent_2": {
            "moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2. Propose only legal Tower of Hanoi moves for disks F, G, H, I, J and only when necessary to progress toward the goal.",
                "prompt": "Your name is agent_2. Public info: {environment->public_information}. Your capabilities: {environment->init->agent_disk_capabilities->agent_2}. Private info: {agents->agent_2->private_information}. If needed, propose primitive moves in the format 'agent_2: move disk X from peg1 to peg2' that respect all rules and your capabilities. Do not emit PDDL."
            }
        },
        "agent_3": {
            "moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3. Propose only legal Tower of Hanoi moves for disks K, L, M, N, O and only when necessary to progress toward the goal.",
                "prompt": "Your name is agent_3. Public info: {environment->public_information}. Your capabilities: {environment->init->agent_disk_capabilities->agent_3}. Private info: {agents->agent_3->private_information}. If needed, propose primitive moves in the format 'agent_3: move disk X from peg1 to peg2' that respect all rules and your capabilities. Do not emit PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "merged_moves"
                ],
                "output": "audited_moves",
                "system_prompt": "You are the consistency auditor. Validate the integrated ordered move list for temporal and causal consistency, enforce Tower of Hanoi legality, reject any bookkeeping shortcuts, and ensure each move is authorized by the correct agent.",
                "prompt": "You will receive an integrated move list: {merged_moves}. Verify that each step moves only the top disk, no disk is placed on a smaller one, the agent is authorized for the disk, and that the sequence achieves the specified goal: {environment->init->goal_state}. If issues exist, correct minimal errors; otherwise, pass through as 'audited_moves' in the same format."
            }
        },
        "orchestrator": {
            "integrate": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "merged_moves",
                "system_prompt": "You are the orchestrator. Merge multiple agents' move lists into a single, conflict-free plan that obeys all Tower of Hanoi rules and agent capability constraints.",
                "prompt": "Integrate {moves_agent_1}, {moves_agent_2}, and {moves_agent_3} into one ordered plan. Preserve the original move format 'agent_i: move disk X from peg1 to peg2', avoid inventing unauthorized moves, and produce the shortest correct sequence that achieves {environment->init->goal_state}."
            },
            "pddl": {
                "input": [
                    "audited_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL targeting the Fast Downward solver. You must output a complete PDDL domain and problem for this 3-peg, 15-disk Tower of Hanoi with agent capability constraints. Always enclose the domain between <domain></domain> and the problem between <problem></problem>.",
                "prompt": "Using the audited plan {audited_moves} and the public information {environment->public_information}, produce a PDDL domain and a PDDL problem suitable for Fast Downward. Model objects as types {agent, disk, peg}. Include predicates for adjacency of pegs if needed, clear/ontop relations to ensure only top disks can move, an ordering relation larger-than or smaller-than to prevent illegal placements, and a capability predicate can-move(agent,disk) to enforce agent-disk restrictions. The problem must encode the exact initial_state and goal_state from {environment->init}. Keep agents' actions distinct by parameterizing move with an agent argument or separate action schemas per agent. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>."
            }
        },
        "constraints": [
            "agent_1.moves->orchestrator.integrate",
            "agent_2.moves->orchestrator.integrate",
            "agent_3.moves->orchestrator.integrate",
            "orchestrator.integrate->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}