{
    "name": "Hanoi3Agents15DisksInstance3",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only these disks: A, B, C, D, E.",
                "I must obey Tower of Hanoi rules: move one disk at a time, only the topmost disk can be moved, and no larger disk may be placed on a smaller disk.",
                "I coordinate with agent_2 and agent_3, who move larger disks."
            ],
            "goal": "Contribute only the moves you can perform so that the final configuration is achieved: left peg has (top\u2192bottom) B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle peg is empty; right peg has (top\u2192bottom) A."
        },
        "agent_2": {
            "private_information": [
                "I can move only these disks: F, G, H, I, J.",
                "I must obey Tower of Hanoi rules: move one disk at a time, only the topmost disk can be moved, and no larger disk may be placed on a smaller disk.",
                "I coordinate with agent_1 and agent_3."
            ],
            "goal": "Contribute only the moves you can perform so that the final configuration is achieved: left peg has (top\u2192bottom) B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle peg is empty; right peg has (top\u2192bottom) A."
        },
        "agent_3": {
            "private_information": [
                "I can move only these disks: K, L, M, N, O.",
                "I must obey Tower of Hanoi rules: move one disk at a time, only the topmost disk can be moved, and no larger disk may be placed on a smaller disk.",
                "I coordinate with agent_1 and agent_2."
            ],
            "goal": "Contribute only the moves you can perform so that the final configuration is achieved: left peg has (top\u2192bottom) B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle peg is empty; right peg has (top\u2192bottom) A."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of proposed move lists across agents.",
                "I remove bookkeeping shortcuts and post-hoc penalties; only physically realizable moves consistent with the Tower of Hanoi rules and agent disk-control constraints are allowed.",
                "I ensure minimality when possible and reject moves that are redundant or violate constraints."
            ],
            "goal": "Validate and minimally rewrite the combined move proposals from agent_1, agent_2, and agent_3 into a legal, temporally consistent, and non-redundant sequence that reaches the goal."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and compile the final integrated plan.",
                "I also produce a FastDownward-compatible PDDL domain and problem that encode the 3-peg, 15-disk, 3-agent Tower of Hanoi with agent-specific disk control."
            ],
            "goal": "Merge the audited moves into the final ordered list of primitive moves and generate the final PDDL domain and problem for the FastDownward solver that achieves the specified goal."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks_small_to_large": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "initial_positions": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": []
            },
            "goal_positions": {
                "left": [
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": [
                    "A"
                ]
            }
        },
        "public_information": [
            "There are three pegs: left, middle, right.",
            "There are 15 disks labelled A (smallest) through O (largest).",
            "Initial configuration: left peg has (top\u2192bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle peg is empty; right peg is empty.",
            "Goal configuration: left peg has (top\u2192bottom) B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle peg is empty; right peg has (top\u2192bottom) A.",
            "Tower of Hanoi rules: move only one disk at a time; only the topmost disk is movable; never place a larger disk on a smaller disk.",
            "Agent capabilities: agent_1 can move A, B, C, D, E; agent_2 can move F, G, H, I, J; agent_3 can move K, L, M, N, O."
        ],
        "reference_solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to right"
            ],
            "notes": "A single legal move suffices because A is initially the topmost disk on the left peg and the right peg is empty."
        }
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. You propose only primitive Tower of Hanoi moves that you yourself can perform (disks A\u2013E), strictly following the rules and avoiding any PDDL. Keep proposals minimal and legal.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your knowledge: {agents->agent_1->private_information}. Global goal: {agents->agent_1->goal}. Provide a concise ordered list of primitive moves in the exact format 'agent_1: move disk X from peg1 to peg2'. If no move by you is required, output an empty list."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2. You propose only primitive Tower of Hanoi moves that you yourself can perform (disks F\u2013J), strictly following the rules and avoiding any PDDL. Keep proposals minimal and legal.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your knowledge: {agents->agent_2->private_information}. Global goal: {agents->agent_2->goal}. Provide a concise ordered list of primitive moves in the exact format 'agent_2: move disk X from peg1 to peg2'. If no move by you is required, output an empty list."
            }
        },
        "agent_3": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3. You propose only primitive Tower of Hanoi moves that you yourself can perform (disks K\u2013O), strictly following the rules and avoiding any PDDL. Keep proposals minimal and legal.",
                "prompt": "Your name is agent_3. Public information: {environment->public_information}. Your knowledge: {agents->agent_3->private_information}. Global goal: {agents->agent_3->goal}. Provide a concise ordered list of primitive moves in the exact format 'agent_3: move disk X from peg1 to peg2'. If no move by you is required, output an empty list."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audited_moves",
                "system_prompt": "You are the temporal/causal auditor. Merge and validate agent proposals, remove illegal or redundant moves, enforce agent-specific disk control, ensure Hanoi legality, and prefer minimal sequences that still reach the goal. Do not output PDDL.",
                "prompt": "You will receive the proposed moves of agent_1, agent_2, and agent_3. Your task is to cross-check them against the public rules and the global goal, remove bookkeeping shortcuts and redundant steps, and return a single, globally consistent, minimal ordered list of primitive moves. Here are the proposals: agent_1: {moves_agent_1} agent_2: {moves_agent_2} agent_3: {moves_agent_3}. Output only the final ordered list, one move per line, in the format 'agent_i: move disk X from peg1 to peg2'."
            }
        },
        "orchestrator": {
            "plan_and_merge_moves": {
                "input": [
                    "audited_moves"
                ],
                "output": "ordered_moves",
                "system_prompt": "You are the orchestrator. Produce the final ordered list of primitive moves from the auditor's result and ensure the sequence achieves the goal. Do not output PDDL in this step.",
                "prompt": "Global goal: {agents->orchestrator->goal}. Public information: {environment->public_information}. Audited move list: {audited_moves}. Return only the final ordered list of primitive moves, one per line, strictly in the format 'agent_i: move disk X from peg1 to peg2'."
            },
            "fd_pddl": {
                "input": [
                    "ordered_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for FastDownward. Produce a single-agent PDDL domain encoding Tower of Hanoi with agent-specific permissions via a 'controls' predicate and types (agent, disk, peg, support), and a PDDL problem instantiating 15 disks A\u2013O on the left peg, middle and right empty, with the goal that A is on the right peg and B\u2013O remain stacked on the left. Ensure FastDownward compatibility (:strips, :typing). Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags.",
                "prompt": "Use the public information {environment->public_information} and the agent capabilities implied by the 'controls' relation to generate the final PDDL domain and problem. Include objects for agents agent_1, agent_2, agent_3; pegs left, middle, right; and disks A\u2013O. In :init, define all 'controls' facts mapping agents to their allowed disks, 'on' facts encoding the initial stack A on B on C ... on O on left, 'clear' for A, middle, and right, and all 'smaller' relations for total order A < B < ... < O. In :goal, require A on right and the rest B on C, C on D, ..., O on left. Do not include plans in the PDDL; return only the domain and problem wrapped in the specified tags."
            }
        },
        "constraints": [
            "agent_1.propose_moves->auditor.audit",
            "agent_2.propose_moves->auditor.audit",
            "agent_3.propose_moves->auditor.audit",
            "auditor.audit->orchestrator.plan_and_merge_moves",
            "orchestrator.plan_and_merge_moves->orchestrator.fd_pddl"
        ]
    }
}