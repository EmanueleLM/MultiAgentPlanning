{
    "name": "Hanoi3Agents15DisksInstance7",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "Controlled disks: A, B, C, D, E",
                "May move only one disk at a time",
                "May never place a larger disk on top of a smaller disk",
                "Knows that only disks A and B need to move to achieve the goal"
            ],
            "goal": "Move disk B from the left peg to the middle peg, ensuring disk A ends on the left peg above disk C; all other disks remain stacked on the left peg; the right peg remains empty."
        },
        "agent_2": {
            "private_information": [
                "Controlled disks: F, G, H, I, J",
                "May move only one disk at a time",
                "May never place a larger disk on top of a smaller disk",
                "No motion is required for disks F\u2013J for the given goal"
            ],
            "goal": "Support the overall plan by avoiding conflicts and ensuring that disks F\u2013J remain untouched and legally placed at all times."
        },
        "agent_3": {
            "private_information": [
                "Controlled disks: K, L, M, N, O",
                "May move only one disk at a time",
                "May never place a larger disk on top of a smaller disk",
                "No motion is required for disks K\u2013O for the given goal"
            ],
            "goal": "Support the overall plan by avoiding conflicts and ensuring that disks K\u2013O remain untouched and legally placed at all times."
        },
        "auditor": {
            "private_information": [
                "Role: audit temporal and causal consistency of proposed moves",
                "Verify Tower of Hanoi legality (one disk per move; no larger-on-smaller; only top disk movable)",
                "Verify agent-disk authority mapping is respected",
                "Verify that intermediate states are valid and that the final state matches the goal",
                "Remove bookkeeping shortcuts or extraneous tokens; ensure the output is a clean ordered list of primitive moves in the required format"
            ],
            "goal": "Accept or minimally repair the combined move proposals so that they are temporally and causally sound, obey the Tower of Hanoi rules, respect agent restrictions, and achieve the goal."
        },
        "orchestrator": {
            "private_information": [
                "Role: coordinate agents, integrate audited moves into a final ordered plan, and compile the final PDDL domain and problem for Fast Downward"
            ],
            "goal": "Produce a final ordered list of primitive moves that achieves the goal and a PDDL domain and problem for the Fast Downward solver that model this 3-peg, 15-disk, 3-agent Tower of Hanoi instance."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disk_labels_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O"
            ],
            "agent_disk_authority": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E"
                ],
                "agent_2": [
                    "F",
                    "G",
                    "H",
                    "I",
                    "J"
                ],
                "agent_3": [
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ]
            },
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "A",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O"
                ],
                "middle": [
                    "B"
                ],
                "right": []
            },
            "move_format": "agent_i: move disk X from peg1 to peg2"
        },
        "public_information": [
            "Three pegs are available: left, middle, right.",
            "Disks are totally ordered by size: A smallest, O largest; a larger disk may never be placed on a smaller disk.",
            "Only the top disk of any peg can be moved at any time.",
            "Agent authority: agent_1 controls A\u2013E, agent_2 controls F\u2013J, agent_3 controls K\u2013O.",
            "Initial configuration: left has (top\u2192bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O; middle is empty; right is empty.",
            "Goal configuration: left has (top\u2192bottom) A, C, D, E, F, G, H, I, J, K, L, M, N, O; middle has (top\u2192bottom) B; right is empty.",
            "Minimal solution requires temporarily moving A to free B, then placing B on the middle peg, and finally restoring A to the left peg on top of C."
        ],
        "reference_solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to left"
            ],
            "notes": "This 3-move plan achieves the goal while respecting agent restrictions and Tower of Hanoi rules; no other disks are moved."
        }
    },
    "workflow": {
        "agent_1": {
            "decompose": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You plan legal Tower of Hanoi moves for disks A\u2013E only. Output a minimal set of primitive moves you can personally execute that progress toward the stated goal, formatted strictly as a JSON array of strings using the move format.",
                "prompt": "Your name is agent_1. Public info: {environment->public_information}. Your knowledge: {agents->agent_1->private_information}. Global goal: {agents->agent_1->goal}. Output only your own primitive moves as a JSON array of strings, each exactly like 'agent_1: move disk X from Y to Z'. If no move is needed, output an empty array."
            }
        },
        "agent_2": {
            "decompose": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You plan legal Tower of Hanoi moves for disks F\u2013J only. If your disks do not need to move, output an empty array.",
                "prompt": "Your name is agent_2. Public info: {environment->public_information}. Your knowledge: {agents->agent_2->private_information}. Global goal: {agents->agent_2->goal}. Output only your own primitive moves as a JSON array of strings using the move format. If no move is needed, output an empty array."
            }
        },
        "agent_3": {
            "decompose": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You plan legal Tower of Hanoi moves for disks K\u2013O only. If your disks do not need to move, output an empty array.",
                "prompt": "Your name is agent_3. Public info: {environment->public_information}. Your knowledge: {agents->agent_3->private_information}. Global goal: {agents->agent_3->goal}. Output only your own primitive moves as a JSON array of strings using the move format. If no move is needed, output an empty array."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audited_moves",
                "system_prompt": "You audit temporal and causal consistency, enforce Tower of Hanoi legality, and ensure agent-disk authority. Merge and minimally repair the proposed moves into a single legal ordered list.",
                "prompt": "You receive the three agents' proposed move lists. Validate that each step moves only the current top disk, never places a larger disk on a smaller one, and that each disk is moved only by an authorized agent. Ensure the sequence achieves the stated goal. Output a single JSON array of strings named ordered_moves containing the final legal ordered sequence; no extra commentary."
            }
        },
        "orchestrator": {
            "compile_moves": {
                "input": [
                    "audited_moves"
                ],
                "output": "final_moves",
                "system_prompt": "You coordinate agents and produce the final ordered move sequence achieving the goal.",
                "prompt": "You receive the audited ordered moves. Verify they achieve the goal state described in {environment->init->goal_state}. If needed, minimally adjust while preserving legality and agent restrictions. Output a JSON object with keys: ordered_moves (array of strings in the exact move format) and rationale (short string)."
            },
            "pddl": {
                "input": [
                    "final_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL for Fast Downward. Always provide a PDDL domain and a PDDL problem, enclosed in <domain></domain> and <problem></problem> tags. Use typing and predicates suitable for Fast Downward.",
                "prompt": "Build a PDDL model for a 3-peg, 15-disk Tower of Hanoi with agent-specific move authority. Keep agent actions distinct or enforce authority via predicates. Domain objects: pegs {environment->init->pegs}, disks {environment->init->disk_labels_smallest_to_largest}, agents {agents->names}. Initial and goal states come from {environment->init->initial_state} and {environment->init->goal_state}. Ensure legality (only top disks movable; no larger on smaller). Target compatibility with the Fast Downward solver. Enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem> tags. Optionally include comments indicating the final ordered plan from {final_moves}."
            }
        },
        "constraints": [
            "agent_1.decompose->auditor.audit",
            "agent_2.decompose->auditor.audit",
            "agent_3.decompose->auditor.audit",
            "auditor.audit->orchestrator.compile_moves",
            "orchestrator.compile_moves->orchestrator.pddl"
        ]
    }
}