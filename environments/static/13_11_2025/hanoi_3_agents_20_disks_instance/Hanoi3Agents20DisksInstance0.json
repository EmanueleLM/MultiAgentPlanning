{
    "name": "Hanoi3Agents20DisksInstance0",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You control disks: A, B, C, D, E, F, G (A is the smallest in your set).",
                "You can move exactly one disk at a time.",
                "You must never place a larger disk on top of a smaller disk.",
                "Use pegs named: left, middle, right.",
                "Your moves must respect the global initial and goal configurations."
            ],
            "goal": "Propose a legal, fully grounded, ordered list of primitive moves to achieve the specified target arrangement, strictly restricted to the disks you control."
        },
        "agent_2": {
            "private_information": [
                "You control disks: H, I, J, K, L, M, N.",
                "You do not move disks outside your set.",
                "You will not emit PDDL; provide capabilities/context only."
            ],
            "goal": "Describe capabilities, constraints, and any coordination assumptions for disks H..N to support multi-agent planning and auditing."
        },
        "agent_3": {
            "private_information": [
                "You control disks: O, P, Q, R, S, T.",
                "You do not move disks outside your set.",
                "You will not emit PDDL; provide capabilities/context only."
            ],
            "goal": "Describe capabilities, constraints, and any coordination assumptions for disks O..T to support multi-agent planning and auditing."
        },
        "auditor": {
            "private_information": [
                "Role: audit temporal/causal consistency of the proposed move list.",
                "Enforce Tower of Hanoi rules: (1) move exactly one disk at a time, (2) never place a larger disk on top of a smaller disk, (3) only the topmost disk of any peg may be moved.",
                "Enforce agent restrictions: agent_1 may move A..G; agent_2 may move H..N; agent_3 may move O..T.",
                "Remove any bookkeeping shortcuts (quota tokens, post-hoc penalties, macro-steps, batched actions). Only atomic moves are allowed.",
                "Verify the final configuration exactly matches the goal.",
                "If valid, return a sanitized move list; otherwise, return a corrected minimal set of changes."
            ],
            "goal": "Validate and sanitize the proposed primitive move list for legality, agent correctness, and goal satisfaction."
        },
        "orchestrator": {
            "private_information": [
                "Role: coordinate agents and compile the final, verified plan into PDDL.",
                "Target solver: FastDownwards (Fast Downward).",
                "Output must include a PDDL domain and a PDDL problem enclosed in <domain></domain> and <problem></problem> tags.",
                "Model as a STRIPS-compatible domain with typed objects (disks, pegs), predicates for on/clear/top, size ordering, and a move action respecting Hanoi constraints.",
                "Ensure the problem instance includes all 20 disks and the exact initial and goal configurations.",
                "Optionally include the verified plan as comments in the problem file; do not embed non-PDDL artifacts."
            ],
            "goal": "Produce the final PDDL domain and problem targeting the FastDownwards solver, driven by the audited primitive move list."
        }
    },
    "environment": {
        "init": {
            "peg_names": [
                "left",
                "middle",
                "right"
            ],
            "disk_labels_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_disk_map": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_state_top_to_bottom": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_state_top_to_bottom": {
                "left": [
                    "C",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "B"
                ],
                "right": [
                    "A",
                    "D"
                ]
            }
        },
        "public_information": [
            "Three pegs: left, middle, right.",
            "Twenty disks A..T with A smallest and T largest; initial stack on left is A (top) .. T (bottom).",
            "Goal: left has C, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T (top to bottom); middle has B; right has A on top of D.",
            "Agents are restricted to moving specified disks only: agent_1 \u21d2 A..G; agent_2 \u21d2 H..N; agent_3 \u21d2 O..T.",
            "Tower of Hanoi rules apply: move exactly one disk at a time; only the top disk of a peg can be moved; never place a larger disk on top of a smaller disk."
        ],
        "solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to middle",
                "agent_1: move disk D from left to right",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right",
                "agent_1: move disk A from left to right",
                "agent_1: move disk C from middle to left",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to right"
            ],
            "move_count": 15,
            "notes": "Only disks A..D need to move; disks E..T remain on left unchanged. All moves respect Hanoi rules and agent restrictions."
        }
    },
    "workflow": {
        "agent_1": {
            "plan_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are a careful Tower of Hanoi move planner. Produce an ordered list of primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2'. Do not emit PDDL. Respect these constraints: (1) one disk per move, (2) only move the top disk of a peg, (3) never place a larger disk on top of a smaller disk, (4) you may move only disks A..G. If the goal can be achieved by moving a subset of your disks, keep the plan minimal.",
                "prompt": "Your name is agent_1. Public information:\n{environment->public_information}\nInitial state (top->bottom):\nleft: {environment->init->initial_state_top_to_bottom->left}\nmiddle: {environment->init->initial_state_top_to_bottom->middle}\nright: {environment->init->initial_state_top_to_bottom->right}\nGoal state (top->bottom):\nleft: {environment->init->goal_state_top_to_bottom->left}\nmiddle: {environment->init->goal_state_top_to_bottom->middle}\nright: {environment->init->goal_state_top_to_bottom->right}\nOutput only the ordered list of primitive moves."
            }
        },
        "agent_2": {
            "capabilities": {
                "input": [],
                "output": "cap_agent_2",
                "system_prompt": "Describe your capabilities and constraints for moving disks H..N in this Tower of Hanoi setting. Do not emit PDDL and do not propose moves unless explicitly asked. Clarify how you would coordinate with other agents and which disks you refuse to move.",
                "prompt": "Your name is agent_2. Public information:\n{environment->public_information}\nYou control disks: {environment->init->agent_disk_map->agent_2}.\nSummarize constraints and coordination notes."
            }
        },
        "agent_3": {
            "capabilities": {
                "input": [],
                "output": "cap_agent_3",
                "system_prompt": "Describe your capabilities and constraints for moving disks O..T in this Tower of Hanoi setting. Do not emit PDDL and do not propose moves unless explicitly asked. Clarify how you would coordinate with other agents and which disks you refuse to move.",
                "prompt": "Your name is agent_3. Public information:\n{environment->public_information}\nYou control disks: {environment->init->agent_disk_map->agent_3}.\nSummarize constraints and coordination notes."
            }
        },
        "auditor": {
            "audit_moves": {
                "input": [
                    "moves_agent_1"
                ],
                "output": "audited_moves",
                "system_prompt": "You are the temporal/causal consistency auditor. You remove any bookkeeping shortcuts and ensure each step is a single legal move. Validate: (a) only the top disk is moved, (b) no larger disk is placed on a smaller disk, (c) agent respects disk-ownership constraints, (d) the final configuration equals the goal, and (e) no extraneous moves remain. If the input is valid, return the sanitized list verbatim; otherwise, return a corrected legal list. Do not emit PDDL.",
                "prompt": "You will receive a proposed move list:\n{moves_agent_1}\nCheck against the initial and goal states:\nInitial: {environment->init->initial_state_top_to_bottom}\nGoal: {environment->init->goal_state_top_to_bottom}\nAgent-to-disk map: {environment->init->agent_disk_map}\nReturn a sanitized, legal ordered list of primitive moves in the same 'agent_i: move disk X from peg1 to peg2' format."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "audited_moves",
                    "cap_agent_2",
                    "cap_agent_3"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent planning formalisms. Produce a FastDownwards-compatible PDDL domain and problem for this 3-peg, 20-disk Tower of Hanoi instance. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags. Requirements:\n- Use STRIPS-compatible constructs acceptable to FastDownwards.\n- Types: disk, peg.\n- Predicates: (on ?x ?y), (on-peg ?d ?p), (clear ?x), (top ?p ?d), (smaller ?x ?y), etc., sufficient to encode legality.\n- Action move: moving a disk from one peg to another with correct preconditions and effects.\n- Problem: include all 20 disks (A..T), all three pegs (left, middle, right), the exact initial and goal states as specified, and optionally include the verified plan as comments.\nKeep agents\u2019 move permissions as annotations/comments only; the domain should remain solver-agnostic.",
                "prompt": "Task goal: compile the audited primitive plan into a PDDL domain and problem for FastDownwards.\nAudited move list:\n{audited_moves}\nInitial state (top->bottom): {environment->init->initial_state_top_to_bottom}\nGoal state (top->bottom): {environment->init->goal_state_top_to_bottom}\nDisks by size (smallest->largest): {environment->init->disk_labels_smallest_to_largest}\nPeg names: {environment->init->peg_names}\nAgent-disk ownership (for comments): {environment->init->agent_disk_map}\nProvide:\n1) <domain>...</domain>\n2) <problem>...</problem>"
            }
        },
        "constraints": [
            "agent_1.plan_moves->auditor.audit_moves",
            "agent_2.capabilities->orchestrator.compile_pddl",
            "agent_3.capabilities->orchestrator.compile_pddl",
            "auditor.audit_moves->orchestrator.compile_pddl"
        ]
    }
}