{
    "name": "Hanoi3Agents20DisksInstance1",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You can move only these disks: A, B, C, D, E, F, G",
                "You must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of a peg can be moved"
            ],
            "goal": "Coordinate to achieve the global goal while only moving disks A through G when needed"
        },
        "agent_2": {
            "private_information": [
                "You can move only these disks: H, I, J, K, L, M, N",
                "You must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of a peg can be moved"
            ],
            "goal": "Coordinate to achieve the global goal while only moving disks H through N if required"
        },
        "agent_3": {
            "private_information": [
                "You can move only these disks: O, P, Q, R, S, T",
                "You must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of a peg can be moved"
            ],
            "goal": "Coordinate to achieve the global goal while only moving disks O through T if required"
        },
        "auditor": {
            "private_information": [
                "You audit temporal and causal consistency",
                "You do not allow bookkeeping shortcuts such as quota tokens or post-hoc penalties",
                "You verify that every primitive move is valid under Tower of Hanoi rules and agent disk-permission constraints",
                "You merge agent plans into a single consistent ordered sequence of moves"
            ],
            "goal": "Produce a single consistent ordered list of primitive moves that satisfies the global goal and respects all constraints"
        },
        "orchestrator": {
            "private_information": [
                "You coordinate all agents and compile the final PDDL domain and problem targeting the FastDownwards solver"
            ],
            "goal": "Use the audited move sequence and the environment description to produce a correct PDDL domain and problem for FastDownwards"
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disk_labels": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_control": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "A",
                    "B"
                ],
                "right": []
            },
            "visibility": "full"
        },
        "public_information": [
            "This is a 3-peg Tower of Hanoi with 20 disks labeled A (smallest) through T (largest)",
            "Initial configuration: left peg top-to-bottom A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg empty; right peg empty",
            "Goal configuration: left peg top-to-bottom C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg top-to-bottom A, B; right peg empty",
            "Agent movement permissions: agent_1 can move A to G; agent_2 can move H to N; agent_3 can move O to T",
            "All moves must respect Tower of Hanoi rules"
        ],
        "solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle"
            ],
            "justification": "Move A off the left peg to free B; move B to the middle peg; place A on top of B. This satisfies the goal while leaving disks C through T on the left peg unchanged. All moves respect the agent and Tower of Hanoi constraints."
        }
    },
    "workflow": {
        "agent_1": {
            "plan_segment": {
                "input": [],
                "output": "plan_agent_1",
                "system_prompt": "You are the local planner for disks A through G. You must produce only valid primitive moves for your controllable disks and you must not suggest moves for other disks.",
                "prompt": "Using the public environment description {environment->public_information} and your private control set {agents->agent_1->private_information}, provide the minimal primitive move sequence needed from your side to achieve the global goal {agents->orchestrator->goal} for this specific instance where only disks A and B must end on the middle peg and all other disks remain on the left peg. Only output moves in the exact format 'agent_1: move disk X from peg1 to peg2'. If no move is needed for a disk, do not mention it. Do not output PDDL."
            }
        },
        "agent_2": {
            "plan_segment": {
                "input": [],
                "output": "plan_agent_2",
                "system_prompt": "You are the local planner for disks H through N. You must ensure no unnecessary moves are proposed for your disks and that the global goal can be achieved without touching them when possible.",
                "prompt": "Given the environment description {environment->public_information} and your private control set {agents->agent_2->private_information}, determine whether any moves of disks H through N are required to reach the specified goal state. If no moves are required, output an empty JSON list []. If moves are required, output them as lines in the exact format 'agent_2: move disk X from peg1 to peg2'. Do not output PDDL."
            }
        },
        "agent_3": {
            "plan_segment": {
                "input": [],
                "output": "plan_agent_3",
                "system_prompt": "You are the local planner for disks O through T. You must ensure no unnecessary moves are proposed for your disks and that the global goal can be achieved without touching them when possible.",
                "prompt": "Given the environment description {environment->public_information} and your private control set {agents->agent_3->private_information}, determine whether any moves of disks O through T are required to reach the specified goal state. If no moves are required, output an empty JSON list []. If moves are required, output them as lines in the exact format 'agent_3: move disk X from peg1 to peg2'. Do not output PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "plan_agent_1",
                    "plan_agent_2",
                    "plan_agent_3"
                ],
                "output": "audited_plan",
                "system_prompt": "You are the temporal and causal consistency auditor. You must verify move legality, agent permissions, and goal satisfaction, and remove any bookkeeping shortcuts such as quota tokens or post-hoc penalties.",
                "prompt": "You will receive up to three plan fragments: {plan_agent_1}, {plan_agent_2}, {plan_agent_3}. Merge them into a single ordered list of primitive moves that achieves the goal state described in {environment->init->goal_state} from the initial state {environment->init->initial_state}. Enforce the Tower of Hanoi rules and ensure that only permitted agents move their respective disks according to {environment->init->agent_control}. If agent_2 and agent_3 plans are empty, retain only agent_1's necessary moves. Output the final ordered list of primitive moves, each line in the exact format 'agent_i: move disk X from peg1 to peg2'. Do not output PDDL."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "audited_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator for a multi-agent Tower of Hanoi planning task. You must produce the final PDDL domain and problem suitable for the FastDownwards planner. Always enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem>.",
                "prompt": "Using the environment facts {environment->init}, the public information {environment->public_information}, and the audited move sequence {audited_plan}, produce a PDDL domain and problem that model a 3-peg Tower of Hanoi with 20 disks labeled A through T, agent action permissions as in {environment->init->agent_control}, and standard Tower rules. The domain should include: types for agent, disk, peg; predicates for on(disk, peg), clear(peg), top(disk), smaller(d1, d2), controls(agent, disk); and an action move with an agent parameter constrained by controls and legality preconditions to ensure only the top disk moves and no larger-on-smaller violations occur. The problem should declare all objects, fully specify the initial state matching {environment->init->initial_state}, and the goal matching {environment->init->goal_state}. Also include the total-order plan hint in comments derived from {audited_plan}. Target the FastDownwards solver with STRIPS-compatible constructs and avoid numeric fluents and conditional effects. Enclose the PDDL artifacts within the required tags."
            }
        },
        "constraints": [
            "agent_1.plan_segment->auditor.audit",
            "agent_2.plan_segment->auditor.audit",
            "agent_3.plan_segment->auditor.audit",
            "auditor.audit->orchestrator.compile_pddl"
        ]
    }
}