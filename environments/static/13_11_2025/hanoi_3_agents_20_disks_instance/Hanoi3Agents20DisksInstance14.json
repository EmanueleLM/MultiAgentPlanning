{
    "name": "Hanoi3Agents20DisksInstance14",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I control disks: A, B, C, D, E, F, G (A smallest among my set)",
                "Peg names are: left, middle, right",
                "I can move only one disk at a time and only if it is clear (topmost on its support)",
                "I must never place a larger disk on top of a smaller disk"
            ],
            "goal": "Contribute a legal primitive-move subsequence for controlled disks to achieve the global configuration: move A, B, C, D from left to middle (using right as auxiliary) while leaving E..T on left."
        },
        "agent_2": {
            "private_information": [
                "I control disks: H, I, J, K, L, M, N",
                "Peg names are: left, middle, right",
                "I can move only one disk at a time and only if it is clear (topmost on its support)",
                "I must never place a larger disk on top of a smaller disk"
            ],
            "goal": "Contribute a legal primitive-move subsequence for controlled disks if needed to achieve the global configuration; otherwise return an empty set of moves."
        },
        "agent_3": {
            "private_information": [
                "I control disks: O, P, Q, R, S, T (T is the largest)",
                "Peg names are: left, middle, right",
                "I can move only one disk at a time and only if it is clear (topmost on its support)",
                "I must never place a larger disk on top of a smaller disk"
            ],
            "goal": "Contribute a legal primitive-move subsequence for controlled disks if needed to achieve the global configuration; otherwise return an empty set of moves."
        },
        "auditor": {
            "private_information": [
                "Role: audit temporal and causal consistency of the proposed plan across agents",
                "Verify no bookkeeping shortcuts (such as quota tokens, post-hoc penalties, or aggregated macro-steps) remain; ensure only primitive moves remain",
                "Verify constraints: single-disk moves, disk must be clear before moving, never place larger on smaller, and respect agent-to-disk permissions"
            ],
            "goal": "Validate that the integrated plan is a legal Tower of Hanoi sequence, respects agent restrictions, and achieves the stated goal without extra or missing steps."
        },
        "orchestrator": {
            "private_information": [
                "Role: coordinate agents, integrate their proposals into a single ordered plan, and produce the final PDDL domain and problem for FastDownwards"
            ],
            "goal": "Integrate agents' move proposals into a single ordered plan that achieves the goal, have the auditor validate it, and then produce a FastDownwards-compatible PDDL domain and problem capturing the instance."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "disk_order_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_stack": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_stack": {
                "left": [
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "A",
                    "B",
                    "C",
                    "D"
                ],
                "right": []
            }
        },
        "public_information": [
            "Tower of Hanoi with 3 pegs (left, middle, right) and 20 disks labeled A (smallest) to T (largest).",
            "Initial configuration: left has A (top) ... T (bottom); middle is empty; right is empty.",
            "Goal configuration: move A, B, C, D onto middle peg (top to bottom as A, B, C, D); keep E..T on left in original order; right empty.",
            "Agent permissions: agent_1 can move A..G; agent_2 can move H..N; agent_3 can move O..T.",
            "Rules: move exactly one disk at a time; a disk must be clear to move; never place a larger disk on a smaller disk."
        ],
        "reference_plan": [
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk C from left to right",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk B from middle to right",
            "agent_1: move disk A from left to right",
            "agent_1: move disk D from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk B from right to left",
            "agent_1: move disk A from middle to left",
            "agent_1: move disk C from right to middle",
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle"
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1 and you control disks A, B, C, D, E, F, G. Use Tower of Hanoi rules (one disk at a time, move only a clear disk, never place larger on smaller). Provide a minimal, legal ordered list of primitive moves for your controllable disks to achieve the global goal. Use the exact format 'agent_1: move disk X from left|middle|right to left|middle|right'. Do not propose moves for disks you do not control. If larger disks do not need to move, leave them untouched.",
                "prompt": "Context: Public info -> {environment->public_information}. Your capabilities -> {agents->agent_1->private_information}. Global goal -> {agents->agent_1->goal}. Output: a single ordered list of primitive moves for disks A..D relocating from left to middle using right as auxiliary; avoid PDDL and avoid commentary."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2 and you control disks H, I, J, K, L, M, N. Use Tower of Hanoi rules and respect agent permissions. If your disks are not required to move to achieve the goal, output an empty list. Do not propose moves for disks you do not control.",
                "prompt": "Context: Public info -> {environment->public_information}. Your capabilities -> {agents->agent_2->private_information}. Global goal -> {agents->agent_2->goal}. Output: either an empty list if unnecessary or a legal ordered list of primitive moves for your disks; avoid PDDL and avoid commentary."
            }
        },
        "agent_3": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3 and you control disks O, P, Q, R, S, T. Use Tower of Hanoi rules and respect agent permissions. If your disks are not required to move to achieve the goal, output an empty list. Do not propose moves for disks you do not control.",
                "prompt": "Context: Public info -> {environment->public_information}. Your capabilities -> {agents->agent_3->private_information}. Global goal -> {agents->agent_3->goal}. Output: either an empty list if unnecessary or a legal ordered list of primitive moves for your disks; avoid PDDL and avoid commentary."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "ordered_moves"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor. Check temporal and causal consistency of the integrated plan; remove bookkeeping shortcuts and ensure each step is a primitive move. Verify preconditions for every move: the moved disk is clear, target support is clear, and the target is either a peg or a larger disk; ensure only permitted agents move their allowed disks; ensure the plan achieves the goal state exactly.",
                "prompt": "Inputs: ordered plan -> {ordered_moves}; public info -> {environment->public_information}; agent permissions -> {environment->init->agent_permissions}. Tasks: validate legality of every step and cumulative state, ensure no concurrency or macros, and confirm goal satisfaction. Output: a brief audit report stating OK or detailing issues and corrections; keep the final ordered plan if modifications were necessary."
            }
        },
        "orchestrator": {
            "integrate": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "ordered_moves",
                "system_prompt": "You are the orchestrator. Integrate agent move proposals into a single legal, deadlock-free, and minimal ordered list that achieves the goal while respecting permissions and Tower of Hanoi rules.",
                "prompt": "Inputs: agent_1 moves -> {moves_agent_1}; agent_2 moves -> {moves_agent_2}; agent_3 moves -> {moves_agent_3}; public info -> {environment->public_information}. Task: merge and, if needed, complete or correct the lists to produce a single globally valid ordered plan in the exact format 'agent_i: move disk X from peg1 to peg2' with peg1, peg2 in {left, middle, right}; prefer minimal steps and avoid commentary."
            },
            "pddl": {
                "input": [
                    "ordered_moves",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL and the FastDownwards solver. Produce a FastDownwards-compatible PDDL domain and problem for this specific Tower of Hanoi instance. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> with no extra commentary. Use :typing and :adl if necessary.",
                "prompt": "Target: Model a 3-peg Tower of Hanoi with 20 disks A..T where agents have move permissions (agent_1: A..G, agent_2: H..N, agent_3: O..T). Encode supports (pegs and disks), on relations, clear status, and a size ordering using a 'larger' relation between disks. Action 'move' parameters: ?a - agent, ?d - disk, ?from - support, ?to - support; preconditions: (agent ?a) (disk ?d) (support ?from) (support ?to) (on ?d ?from) (clear ?d) (clear ?to) (allowed ?a ?d) and legality via (or (peg ?to) (larger ?to ?d)); effects: update on, clear(from), not clear(to). Initial state: all disks stacked on left in order A on B, ..., T on left, clear A, clear middle, clear right. Goal: middle has A on B on C on D and D on middle; left has E..T stacked unchanged; right empty. Use object typing with types agent, disk, peg, support (with disk and peg as subtypes of support). Ensure the problem lists all objects, all 'allowed' facts, all 'larger' links between adjacent disk sizes (e.g., B larger than A, C larger than B, ...), and full initial 'on' chain and clear predicates. Enclose outputs within the required tags only."
            }
        },
        "constraints": [
            "agent_1.propose_moves->orchestrator.integrate",
            "agent_2.propose_moves->orchestrator.integrate",
            "agent_3.propose_moves->orchestrator.integrate",
            "orchestrator.integrate->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}