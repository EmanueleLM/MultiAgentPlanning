{
    "name": "Hanoi3Agents20DisksInstance15",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "You are allowed to move only these disks: A, B, C, D, E, F, G",
                "You can move exactly one disk at a time",
                "You may only move the topmost disk of any peg",
                "You must never place a larger disk on top of a smaller disk"
            ],
            "goal": "Cooperatively achieve the goal configuration where left peg has E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T (top to bottom), middle peg has A on C, right peg has B on D, without moving disks H to T and while respecting Tower of Hanoi rules."
        },
        "agent_2": {
            "private_information": [
                "You are allowed to move only these disks: H, I, J, K, L, M, N",
                "You can move exactly one disk at a time",
                "You may only move the topmost disk of any peg",
                "You must never place a larger disk on top of a smaller disk"
            ],
            "goal": "Cooperatively achieve the goal configuration where left peg has E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T (top to bottom), middle peg has A on C, right peg has B on D, without moving disks H to T and while respecting Tower of Hanoi rules."
        },
        "agent_3": {
            "private_information": [
                "You are allowed to move only these disks: O, P, Q, R, S, T",
                "You can move exactly one disk at a time",
                "You may only move the topmost disk of any peg",
                "You must never place a larger disk on top of a smaller disk"
            ],
            "goal": "Cooperatively achieve the goal configuration where left peg has E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T (top to bottom), middle peg has A on C, right peg has B on D, without moving disks H to T and while respecting Tower of Hanoi rules."
        },
        "auditor": {
            "private_information": [
                "You audit temporal and causal consistency across all proposed moves",
                "You remove bookkeeping shortcuts such as quota tokens or post-hoc penalties",
                "You ensure no move violates Tower of Hanoi invariants and that no forbidden disk is moved",
                "You ensure the combined sequence respects agent-specific disk permissions"
            ],
            "goal": "Validate and if needed minimally repair the total ordered sequence of primitive moves so that it is legal and reaches the stated goal configuration while leaving disks E to T unmoved."
        },
        "orchestrator": {
            "private_information": [
                "You coordinate multi-agent planning and produce a final PDDL domain and problem suitable for the Fast Downward solver",
                "You must encode agent move permissions by disk, legal move preconditions and effects, initial and goal states",
                "You do not assume additional pegs, disks, or capabilities beyond what is publicly stated"
            ],
            "goal": "Integrate the audited move plan and generate a correct PDDL domain and problem encoding the 3-peg, 20-disk Tower of Hanoi with agent-specific move permissions so that Fast Downward can solve it to produce a plan consistent with the audited sequence."
        }
    },
    "environment": {
        "init": {
            "grid_size": 3,
            "visibility": 1,
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "initial_stacks_top_to_bottom": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_stacks_top_to_bottom": {
                "left": [
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "A",
                    "C"
                ],
                "right": [
                    "B",
                    "D"
                ]
            }
        },
        "public_information": [
            "Three pegs are named left, middle, and right.",
            "Twenty disks are labeled A through T; A is the smallest and T is the largest.",
            "Agent move permissions: agent_1 may move A, B, C, D, E, F, G; agent_2 may move H, I, J, K, L, M, N; agent_3 may move O, P, Q, R, S, T.",
            "Initial configuration: left peg has top to bottom A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg is empty; right peg is empty.",
            "Goal configuration: left peg has top to bottom E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg has top to bottom A, C; right peg has top to bottom B, D.",
            "Rules: move exactly one disk at a time, only the top disk of a peg may be moved, and no larger disk may be placed on top of a smaller disk.",
            "Disks E through T must remain on the left peg and must not be moved in any valid plan.",
            "A reference ordered list of primitive moves that satisfies the goal is included under environment.reference_solution.moves."
        ],
        "reference_solution": {
            "description": "An ordered list of primitive moves that transforms the initial configuration into the goal configuration while respecting agent restrictions and Tower of Hanoi rules. Only disks A, B, C, D are moved; disks E through T remain on the left peg.",
            "moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk C from left to right",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right",
                "agent_1: move disk A from left to right",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk B from right to left",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk C from right to middle",
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk D from left to right",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right",
                "agent_1: move disk A from left to middle"
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1, responsible for moving only disks A, B, C, D, E, F, G. Produce a legal, fully ordered list of primitive moves for your disks only, formatted exactly as 'agent_1: move disk X from PEG1 to PEG2', that contributes to the global goal while never moving disks H to T and never violating Tower of Hanoi rules.",
                "prompt": "Use the public information {environment->public_information} and your private information {agents->agent_1->private_information} to produce your contribution to the move sequence. Only include moves for disks A, B, C, D, E, F, G and aim to achieve the stated goal. Do not emit PDDL; output only the ordered primitive moves for your disks."
            }
        },
        "agent_2": {
            "moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2, responsible for disks H, I, J, K, L, M, N. Propose a legal ordered list of primitive moves for your disks only if necessary; otherwise output an empty sequence. Never violate Tower of Hanoi rules and never move disks outside your permission set.",
                "prompt": "Use the public information {environment->public_information} and your private information {agents->agent_2->private_information} to determine whether any moves of H to N are required to reach the goal. If none are required, return an empty ordered list. Do not emit PDDL; output only primitive moves for your disks if any."
            }
        },
        "agent_3": {
            "moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3, responsible for disks O, P, Q, R, S, T. Propose a legal ordered list of primitive moves for your disks only if necessary; otherwise output an empty sequence. Never violate Tower of Hanoi rules and never move disks outside your permission set.",
                "prompt": "Use the public information {environment->public_information} and your private information {agents->agent_3->private_information} to determine whether any moves of O to T are required to reach the goal. If none are required, return an empty ordered list. Do not emit PDDL; output only primitive moves for your disks if any."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audited_moves",
                "system_prompt": "You audit and consolidate multi-agent move proposals for temporal and causal consistency. Reject bookkeeping shortcuts, ensure all moves respect Tower of Hanoi rules, ensure agents only move allowed disks, ensure disks E through T remain unmoved, and ensure the final configuration matches the goal. If repairs are needed, minimally fix the sequence and clearly provide the corrected total order.",
                "prompt": "Given the agents' proposed move sequences, integrate them into a single total ordered list of primitive moves in the exact format 'agent_i: move disk X from PEG1 to PEG2' with no extraneous commentary. Ensure legality at every step and confirm the goal state is reached. Prefer the minimal sequence implied by the problem. If an empty sequence from some agents is correct, keep it empty."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_moves"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL. Produce a PDDL domain and a PDDL problem suitable for the Fast Downward solver that encode the 3-peg, 20-disk Tower of Hanoi with agent-specific move permissions. Use STRIPS-compatible constructs supported by Fast Downward. Clearly separate outputs by enclosing the domain in <domain></domain> and the problem in <problem></problem>.",
                "prompt": "Use the public information {environment->public_information}, the audited plan {audited_moves}, and the agents' capabilities to generate a PDDL domain and problem for Fast Downward. Encode objects for pegs, disks, and agents; predicates for adjacency or peg occupancy as needed; a move action parameterized by agent, disk, source peg, and destination peg; preconditions that the disk is top on source, destination top is either empty or holds a larger disk, and that the agent is authorized to move the disk; and effects that update locations and top relationships. The problem must instantiate all 20 disks and 3 pegs, set the exact initial configuration, and set the exact goal configuration. Do not include extraneous commentary; enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem>."
            }
        },
        "constraints": [
            "agent_1.moves->auditor.audit",
            "agent_2.moves->auditor.audit",
            "agent_3.moves->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}