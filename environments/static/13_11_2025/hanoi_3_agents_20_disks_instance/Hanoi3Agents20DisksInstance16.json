{
    "name": "Hanoi3Agents20DisksInstance16",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "consistency_auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks: A, B, C, D, E, F, G.",
                "I should never attempt to move disks H through T."
            ],
            "goal": "Help achieve the stated goal configuration by proposing a correct ordered list of primitive moves you can legally execute, while respecting Tower of Hanoi rules and agent restrictions."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks: H, I, J, K, L, M, N.",
                "I should never attempt to move disks A through G or O through T."
            ],
            "goal": "Help achieve the stated goal configuration by proposing any required moves you can legally execute, while respecting Tower of Hanoi rules and agent restrictions."
        },
        "agent_3": {
            "private_information": [
                "I can move only disks: O, P, Q, R, S, T.",
                "I should never attempt to move disks A through N."
            ],
            "goal": "Help achieve the stated goal configuration by proposing any required moves you can legally execute, while respecting Tower of Hanoi rules and agent restrictions."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the multi-agent move list.",
                "I disallow bookkeeping shortcuts, quota tokens, post-hoc penalties, or other non-primitive abstractions.",
                "I verify each step obeys Tower of Hanoi rules: only the top disk can move; a larger disk may never be placed on a smaller disk; each move transfers exactly one disk between pegs.",
                "I verify agents only move disks they are allowed to move.",
                "I verify the final configuration matches the goal exactly."
            ],
            "goal": "Validate and, if necessary, normalize the ordered list of primitive moves so that it is sound, causally consistent, agent-compliant, and achieves the goal configuration."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents, integrate their proposed moves, respect the auditor's findings, and produce the final artifacts.",
                "I must keep actions of the three movers distinct by agent in the planning model.",
                "I must produce a PDDL domain and problem suitable for the FastDownwards solver.",
                "I also provide the final ordered plan of primitive moves."
            ],
            "goal": "Integrate the validated move list and generate a final, solver-ready PDDL domain and problem for FastDownwards, keeping agent actions distinct, and include the final move list."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_capabilities": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_state": {
                "left_top_to_bottom": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle_top_to_bottom": [],
                "right_top_to_bottom": []
            },
            "goal_state": {
                "left_top_to_bottom": [
                    "B",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle_top_to_bottom": [
                    "A",
                    "C"
                ],
                "right_top_to_bottom": []
            }
        },
        "public_information": [
            "Task: Devise a cooperative plan for a 3-agent Tower of Hanoi with 20 disks labelled A to T where A is smallest and T is largest.",
            "Agent move restrictions: agent_1 moves A to G; agent_2 moves H to N; agent_3 moves O to T.",
            "Initial configuration: left peg has top-to-bottom A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg is empty; right peg is empty.",
            "Goal configuration: left peg has top-to-bottom B, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg has top-to-bottom A, C; right peg is empty.",
            "Hanoi rules: move only one disk at a time; only the top disk may be moved; never place a larger disk on a smaller disk.",
            "Output format for primitive moves: 'agent_i: move disk X from peg1 to peg2'."
        ],
        "reference_plan": [
            "agent_1: move disk A from left to right",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk B from left to right",
            "agent_1: move disk A from middle to right",
            "agent_1: move disk C from left to middle",
            "agent_1: move disk A from right to left",
            "agent_1: move disk A from left to middle",
            "agent_1: move disk B from right to left"
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. Propose a correct, fully ordered list of primitive moves you can legally perform to help achieve the global goal. Respect Tower of Hanoi rules and move only disks you are permitted to move. Do not emit PDDL. Use the exact format 'agent_1: move disk X from peg1 to peg2' for each step.",
                "prompt": "Context: {environment->public_information}. Your knowledge: {agents->agent_1->private_information}. Global goal: {agents->agent_1->goal}. Produce a concise ordered list of primitive moves you intend to execute, limited to disks A through G, and only when legal. If no moves are required, return an empty list and explain briefly."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2. Propose any necessary primitive moves you can legally perform to support the global goal. If no moves are needed, explain briefly and return an empty list. Do not emit PDDL. Use the exact format 'agent_2: move disk X from peg1 to peg2' for each step.",
                "prompt": "Context: {environment->public_information}. Your knowledge: {agents->agent_2->private_information}. Global goal: {agents->agent_2->goal}. Only move disks H through N and only when legal. Prefer minimal disturbance of larger stacks if not required."
            }
        },
        "agent_3": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3. Propose any necessary primitive moves you can legally perform to support the global goal. If no moves are needed, explain briefly and return an empty list. Do not emit PDDL. Use the exact format 'agent_3: move disk X from peg1 to peg2' for each step.",
                "prompt": "Context: {environment->public_information}. Your knowledge: {agents->agent_3->private_information}. Global goal: {agents->agent_3->goal}. Only move disks O through T and only when legal. Prefer minimal disturbance of larger stacks if not required."
            }
        },
        "consistency_auditor": {
            "audit_plan": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audit_report",
                "system_prompt": "You are the consistency auditor. Verify that the combined move list is valid under Tower of Hanoi rules and agent restrictions, is temporally and causally consistent, and achieves the exact goal configuration. Remove bookkeeping shortcuts and normalize peg naming and action formatting if needed.",
                "prompt": "Context: {environment->public_information}. Inputs: agent_1 moves = {moves_agent_1}; agent_2 moves = {moves_agent_2}; agent_3 moves = {moves_agent_3}. Tasks: 1) Merge moves into a single total order if multiple agents produce moves, 2) Ensure each move acts on a top disk, never places a larger disk on a smaller one, and uses only allowed disks per agent, 3) Simulate the sequence from the initial state to verify the final state equals the goal state, 4) If valid, output 'STATUS: VALID' and a normalized ordered move list; if invalid, output 'STATUS: INVALID' with precise reasons and a corrected minimal fix if possible."
            }
        },
        "orchestrator": {
            "compile_and_generate_pddl": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the multi-agent orchestrator. Integrate the moves, respect the auditor's findings, and produce the final artifacts. You must output: 1) a PDDL domain and a PDDL problem suitable for the FastDownwards solver; 2) the final ordered move list. Keep agent actions distinct, for example by defining separate actions move_agent_1, move_agent_2, and move_agent_3 with preconditions enforcing agent-specific disk permissions and Hanoi legality. The domain should include typed objects for agents, pegs, and disks; predicates for on, clear, smaller, top, at-peg, can-move; and STRIPS-style operators. The problem must encode the initial and goal states exactly as specified and include all 20 disks and 3 pegs. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Also include the final ordered move list between <plan></plan> tags.",
                "prompt": "Goal: {agents->orchestrator->goal}. Public context: {environment->public_information}. Auditor report: {audit_report}. Raw proposals: agent_1 moves = {moves_agent_1}; agent_2 moves = {moves_agent_2}; agent_3 moves = {moves_agent_3}. Instructions: 1) If the auditor report is VALID, adopt the normalized order; otherwise repair minimally and state the fix. 2) Emit <plan> with one move per line in the format 'agent_i: move disk X from peg1 to peg2'. 3) Emit <domain> and <problem> targeting FastDownwards with agent-distinct actions and exact initial and goal states for the 20-disk, 3-peg Tower of Hanoi instance. 4) Ensure the PDDL includes all necessary predicates to maintain legality and agent permissions."
            }
        },
        "constraints": [
            "agent_1.propose_moves->consistency_auditor.audit_plan",
            "agent_2.propose_moves->consistency_auditor.audit_plan",
            "agent_3.propose_moves->consistency_auditor.audit_plan",
            "agent_1.propose_moves->orchestrator.compile_and_generate_pddl",
            "agent_2.propose_moves->orchestrator.compile_and_generate_pddl",
            "agent_3.propose_moves->orchestrator.compile_and_generate_pddl",
            "consistency_auditor.audit_plan->orchestrator.compile_and_generate_pddl"
        ]
    }
}