{
    "name": "Hanoi3Agents20DisksInstance17",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "orchestrator",
            "consistency_auditor"
        ],
        "agent_1": {
            "private_information": [
                "I can directly manipulate disks: A, B, C, D, E, F, G.",
                "I must obey Tower of Hanoi rules: move one disk at a time; only the top disk of any peg or stack can be moved; never place a larger disk on a smaller disk.",
                "Valid pegs are: left, middle, right."
            ],
            "goal": "Place disk A onto the middle peg while keeping all other disks B..T on the left peg in nonincreasing size order (top to bottom)."
        },
        "agent_2": {
            "private_information": [
                "I can directly manipulate disks: H, I, J, K, L, M, N.",
                "I must obey Tower of Hanoi rules: move one disk at a time; only the top disk of any peg or stack can be moved; never place a larger disk on a smaller disk.",
                "Valid pegs are: left, middle, right."
            ],
            "goal": "Coordinate with the team so that disk A ends on the middle peg and disks B..T remain on the left peg in nonincreasing size order (top to bottom)."
        },
        "agent_3": {
            "private_information": [
                "I can directly manipulate disks: O, P, Q, R, S, T.",
                "I must obey Tower of Hanoi rules: move one disk at a time; only the top disk of any peg or stack can be moved; never place a larger disk on a smaller disk.",
                "Valid pegs are: left, middle, right."
            ],
            "goal": "Coordinate with the team so that disk A ends on the middle peg and disks B..T remain on the left peg in nonincreasing size order (top to bottom)."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and integrate their move proposals.",
                "I will also produce the final PDDL domain and problem targeting the FastDownward solver."
            ],
            "goal": "Integrate agents' proposals into a minimal, legal move sequence to achieve: middle peg contains only A; left peg contains B..T in order; right peg empty; then synthesize a FastDownward-compatible PDDL domain and problem."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency of plans.",
                "I remove bookkeeping shortcuts (e.g., quota tokens, post-hoc penalties, abstract macro-steps) and ensure only primitive, legal moves remain."
            ],
            "goal": "Verify the integrated move list is legal, causally consistent, executable from the initial state, achieves the goal, and is not longer than necessary; provide an ACCEPTED or REVISED report with a sanitized ordered list."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_disk_map": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_stacks": {
                "representation": "top->bottom",
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_stacks": {
                "representation": "top->bottom",
                "left": [
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "A"
                ],
                "right": []
            },
            "ordered_moves": [
                "agent_1: move disk A from left to middle"
            ]
        },
        "public_information": [
            "This is a 3-peg Tower of Hanoi with 20 disks labelled A..T, where A is the smallest and T is the largest.",
            "Agent capabilities: agent_1 controls {A..G}; agent_2 controls {H..N}; agent_3 controls {O..T}.",
            "Initial configuration: left peg has (top->bottom) A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg is empty; right peg is empty.",
            "Goal configuration: left peg has (top->bottom) B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg has (top->bottom) A; right peg is empty.",
            "Legal moves: move only one disk at a time; only the top disk of a peg or stack can be moved; never place a larger disk on a smaller disk; each agent may only move the disks assigned to them.",
            "A minimal valid ordered list of primitive moves for this instance is: [agent_1: move disk A from left to middle]."
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You propose primitive Tower of Hanoi moves only for disks you control, ensuring legality and minimality for the stated goal; do not output PDDL.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your private knowledge: {agents->agent_1->private_information}. Global objective: {agents->agent_1->goal}. Output an ordered list of legal primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2' that you can personally execute and that contribute toward the goal; if nothing is required from you, output an empty list."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You propose primitive Tower of Hanoi moves only for disks you control, ensuring legality and minimality for the stated goal; do not output PDDL.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your private knowledge: {agents->agent_2->private_information}. Global objective: {agents->agent_2->goal}. Output an ordered list of legal primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2' that you can personally execute and that contribute toward the goal; if nothing is required from you, output an empty list."
            }
        },
        "agent_3": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You propose primitive Tower of Hanoi moves only for disks you control, ensuring legality and minimality for the stated goal; do not output PDDL.",
                "prompt": "Your name is agent_3. Public information: {environment->public_information}. Your private knowledge: {agents->agent_3->private_information}. Global objective: {agents->agent_3->goal}. Output an ordered list of legal primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2' that you can personally execute and that contribute toward the goal; if nothing is required from you, output an empty list."
            }
        },
        "orchestrator": {
            "integrate_moves": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "integrated_moves",
                "system_prompt": "You integrate multi-agent primitive move proposals into a single legal, causally ordered joint plan; do not output PDDL in this step.",
                "prompt": "You will receive the proposed moves from the three agents: {moves_agent_1}, {moves_agent_2}, {moves_agent_3}. Using the public information {environment->public_information} and the stated global goal {agents->orchestrator->goal}, merge, deduplicate, and order them into a single minimal list of primitive moves in the format 'agent_i: move disk X from peg1 to peg2'. Ensure agent-disk permissions and Tower of Hanoi rules hold. Output only the final ordered list."
            },
            "pddl": {
                "input": [
                    "integrated_moves",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in PDDL and Fast Downward; produce final domain and problem files for this multi-agent Tower of Hanoi instance. Always enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags. Target the FastDownward solver: use typed STRIPS or ADL supported by FD; avoid durative actions, functions, or unsupported constructs; ensure it parses in FastDownward.",
                "prompt": "Synthesize a complete PDDL domain and problem for this instance based on: public information {environment->public_information}, the sanitized move list and audit outcome {audit_report}, and the integrated move list {integrated_moves}. Keep agent-specific permissions explicit: only agent_1 may move disks A..G, only agent_2 may move disks H..N, only agent_3 may move disks O..T. Define objects for 3 pegs, 20 disks, and 3 agents, with types agent, disk, peg, and a union type support that includes both disk and peg. Provide predicates peg(?p), disk(?d), agent(?a), on(?d - disk ?s - support), clear(?s - support), smaller(?x - disk ?y - disk), controls(?a - agent ?d - disk). Provide a single move action parameterized by the agent with preconditions ensuring agent permissions (controls), top-of-stack (clear and on), destination legality (peg or larger disk via smaller), and effects updating on and clear. The problem must encode: initial stack A..T all on left (A on B, ..., T on left), middle and right empty and clear, the smaller relation for all ordered pairs where a disk is smaller than any larger disk, agent controls per the capability map, and the goal 'A on middle' and 'B..T stacked on left in order'."
            }
        },
        "consistency_auditor": {
            "audit_moves": {
                "input": [
                    "integrated_moves"
                ],
                "output": "audit_report",
                "system_prompt": "You audit temporal and causal consistency of primitive move lists, reject bookkeeping shortcuts, and ensure legality under the Tower of Hanoi rules and agent permissions.",
                "prompt": "Audit the integrated move list {integrated_moves} against the public information {environment->public_information} and the agent capabilities {environment->init->agent_disk_map}. Confirm legality and executability from the initial state to the goal, and shorten the sequence if a shorter legal sequence exists. Output a concise report starting with either ACCEPTED or REVISED, a one-sentence justification, and the sanitized ordered list of primitive moves."
            }
        },
        "constraints": [
            "agent_1.propose_moves->orchestrator.integrate_moves",
            "agent_2.propose_moves->orchestrator.integrate_moves",
            "agent_3.propose_moves->orchestrator.integrate_moves",
            "orchestrator.integrate_moves->consistency_auditor.audit_moves",
            "consistency_auditor.audit_moves->orchestrator.pddl"
        ]
    }
}