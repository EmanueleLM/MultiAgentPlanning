{
    "name": "Hanoi3Agents20DisksInstance3",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move the following disks: A, B, C, D, E, F, G",
                "I must obey Tower of Hanoi rules: move one disk at a time, and never place a larger disk on a smaller disk",
                "Peg names are left, middle, right"
            ],
            "goal": "Cooperatively achieve the specified goal configuration while only moving disks I am allowed to move and respecting Hanoi rules"
        },
        "agent_2": {
            "private_information": [
                "I can move the following disks: H, I, J, K, L, M, N",
                "I must obey Tower of Hanoi rules: move one disk at a time, and never place a larger disk on a smaller disk",
                "Peg names are left, middle, right"
            ],
            "goal": "Cooperatively achieve the specified goal configuration while only moving disks I am allowed to move and respecting Hanoi rules"
        },
        "agent_3": {
            "private_information": [
                "I can move the following disks: O, P, Q, R, S, T",
                "I must obey Tower of Hanoi rules: move one disk at a time, and never place a larger disk on a smaller disk",
                "Peg names are left, middle, right"
            ],
            "goal": "Cooperatively achieve the specified goal configuration while only moving disks I am allowed to move and respecting Hanoi rules"
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents",
                "I ensure there are no bookkeeping shortcuts such as token quotas or post-hoc penalties",
                "I verify that each move is legal under Tower of Hanoi rules and agent disk permissions",
                "I consolidate all agents' proposals into a single consistent move sequence"
            ],
            "goal": "Validate and, if necessary, minimally repair the collective move sequence so it is legal and achieves the goal configuration"
        },
        "orchestrator": {
            "private_information": [
                "I coordinate the agents and compile the final plan",
                "I produce the final PDDL domain and problem compatible with the FastDownward solver"
            ],
            "goal": "Integrate audited moves, generate the final PDDL domain and problem, and ensure both the model and the plan achieve the goal configuration"
        }
    },
    "environment": {
        "init": {
            "problem_type": "tower_of_hanoi",
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks_small_to_large": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agents_capabilities": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "visibility": 3
        },
        "public_information": [
            "There are three pegs: left, middle, right",
            "There are 20 disks labeled A to T where A is the smallest and T is the largest",
            "Only one disk may be moved at a time",
            "No disk may be placed on top of a smaller disk",
            "Agent movement permissions: agent_1 moves A-G, agent_2 moves H-N, agent_3 moves O-T",
            "Initial configuration: left peg has from top to bottom A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg is empty; right peg is empty",
            "Goal configuration: left peg has from top to bottom A, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg has from top to bottom B, D; right peg has from top to bottom C"
        ],
        "solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk C from left to right",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right",
                "agent_1: move disk A from left to right",
                "agent_1: move disk D from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle"
            ]
        }
    },
    "workflow": {
        "agent_1": {
            "moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1 and may only move disks A, B, C, D, E, F, G. Propose a legal primitive move sequence affecting only your disks that helps reach the goal configuration while obeying Tower of Hanoi rules. Do not emit PDDL.",
                "prompt": "Your name is agent_1. Use the public information and your permissions to produce a concise ordered list of primitive moves in the format 'agent_1: move disk X from peg1 to peg2'. Keep moves legal and avoid touching disks you are not allowed to move. If no move is needed for some disks, omit them."
            }
        },
        "agent_2": {
            "moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2 and may only move disks H, I, J, K, L, M, N. Propose only legal primitive moves on your disks that are necessary given the public information. Do not emit PDDL.",
                "prompt": "Your name is agent_2. Review the initial and goal configurations and produce an ordered list of primitive moves for your disks only if needed, using the format 'agent_2: move disk X from peg1 to peg2'. If no moves are required for your disks, explicitly state that no moves are needed."
            }
        },
        "agent_3": {
            "moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3 and may only move disks O, P, Q, R, S, T. Propose only legal primitive moves on your disks that are necessary given the public information. Do not emit PDDL.",
                "prompt": "Your name is agent_3. Review the initial and goal configurations and produce an ordered list of primitive moves for your disks only if needed, using the format 'agent_3: move disk X from peg1 to peg2'. If no moves are required for your disks, explicitly state that no moves are needed."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor. You ensure temporal and causal consistency, enforce Tower of Hanoi legality, respect agent disk permissions, and remove bookkeeping shortcuts such as quota tokens or post-hoc penalties. You consolidate all agent moves into a single consistent plan.",
                "prompt": "Validate that each move is legal and within the proper agent permissions. If inconsistencies exist, minimally repair them. Output a final single ordered list of primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2'. Prefer the plan provided in environment.solution.ordered_moves when it is fully consistent and legal, otherwise correct it minimally."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL modeling targeting the FastDownward solver. You must produce a correct PDDL domain and problem. Always enclose the domain in <domain></domain> and the problem in <problem></problem>.",
                "prompt": "Integrate the audited moves and environment details to produce the final PDDL domain and problem for a 3-peg, 20-disk Tower of Hanoi with agent move permissions. The domain should define types for agent, disk, and peg, predicates including on-peg, on-disk, clear, smaller, and can-move, and STRIPS-style actions permitting moving exactly one disk at a time subject to legality and agent can-move constraints. The problem should declare objects for pegs left, middle, right; agents agent_1, agent_2, agent_3; and disks A through T with smaller relationships from A smallest to T largest. Initialize all disks stacked on the left peg from top to bottom A through T. Set the goal to the specified configuration where left has A, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T in that order from top to bottom, middle has B on D from top to bottom, and right has C. Ensure the encoding is compatible with FastDownward. After the PDDL, also echo the final ordered primitive move list as a plain list in the exact 'agent_i: move disk X from peg1 to peg2' format taken from the audited plan."
            }
        },
        "constraints": [
            "agent_1.moves->auditor.audit",
            "agent_2.moves->auditor.audit",
            "agent_3.moves->auditor.audit",
            "auditor.audit->orchestrator.compile_pddl"
        ]
    }
}