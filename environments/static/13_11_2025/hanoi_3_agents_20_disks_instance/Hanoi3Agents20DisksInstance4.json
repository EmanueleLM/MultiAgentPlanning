{
    "name": "Hanoi3Agents20DisksInstance4",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move disks: A, B, C, D, E, F, G",
                "I cannot move disks larger than G",
                "I should respect Tower of Hanoi rules: only one disk moves at a time and a larger disk cannot be placed on a smaller one"
            ],
            "goal": "Produce the primitive moves for the disks you control that are necessary to achieve the global goal configuration while respecting the rules and agent restrictions."
        },
        "agent_2": {
            "private_information": [
                "I can move disks: H, I, J, K, L, M, N",
                "I cannot move disks smaller than H or larger than N",
                "I should respect Tower of Hanoi rules: only one disk moves at a time and a larger disk cannot be placed on a smaller one"
            ],
            "goal": "If required, propose primitive moves for the disks you control that support the global goal configuration, respecting the rules and agent restrictions."
        },
        "agent_3": {
            "private_information": [
                "I can move disks: O, P, Q, R, S, T",
                "I cannot move disks smaller than O",
                "I should respect Tower of Hanoi rules: only one disk moves at a time and a larger disk cannot be placed on a smaller one"
            ],
            "goal": "If required, propose primitive moves for the disks you control that support the global goal configuration, respecting the rules and agent restrictions."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency across all proposed moves.",
                "I remove bookkeeping shortcuts (e.g., quota tokens, post-hoc penalties) and ensure every move is necessary and legal.",
                "I verify that moves respect agent-specific disk permissions and Tower of Hanoi rules."
            ],
            "goal": "Audit, reconcile, and validate the union of all agents' proposed moves into a single, causally consistent, cycle-free, and legal ordered plan."
        },
        "orchestrator": {
            "private_information": [
                "I integrate audited moves into a single global plan.",
                "I produce the final PDDL domain and problem targeting the FastDownward/FastDownwards solver."
            ],
            "goal": "Produce the final ordered move list and the final PDDL domain and problem that encode the same task and plan, suitable for FastDownward."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "size_order_smallest_to_largest": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agent_disk_permissions": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_configuration": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_configuration": {
                "left": [
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "A"
                ],
                "right": [
                    "B",
                    "C",
                    "D"
                ]
            }
        },
        "public_information": [
            "This is a 3-peg Tower of Hanoi with 20 disks labelled A (smallest) through T (largest).",
            "Agents have restricted disk-control: agent_1 \u21d2 A..G; agent_2 \u21d2 H..N; agent_3 \u21d2 O..T.",
            "Initial configuration: left has A..T (top\u2192bottom); middle empty; right empty.",
            "Goal configuration: left has E..T; middle has A; right has B, C, D (top\u2192bottom).",
            "Only one disk moves at a time; a larger disk may never be placed on a smaller disk; disks must be the topmost on their peg to move."
        ],
        "solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk C from left to middle",
                "agent_1: move disk A from right to left",
                "agent_1: move disk B from right to middle",
                "agent_1: move disk A from left to middle",
                "agent_1: move disk D from left to right",
                "agent_1: move disk A from middle to right",
                "agent_1: move disk B from middle to left",
                "agent_1: move disk A from right to left",
                "agent_1: move disk C from middle to right",
                "agent_1: move disk A from left to middle",
                "agent_1: move disk B from left to right"
            ],
            "notes": "Only agent_1 acts because the target arrangement requires moving only disks A, B, C, D; disks E..T remain undisturbed on the left peg."
        }
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You propose a sequence of primitive moves for the disks you control (A..G) that supports the given initial and goal configurations while respecting Tower of Hanoi rules and agent restrictions. Output each move as: 'agent_1: move disk X from peg1 to peg2'. Do not emit PDDL.",
                "prompt": "Your name is agent_1. Public info: {environment->public_information}. Initial configuration: {environment->init->initial_configuration}. Goal configuration: {environment->init->goal_configuration}. You may move only disks A..G. Provide a legal ordered move list for your disks that achieves the goal without moving prohibited disks."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You propose primitive moves only if disks H..N must move; otherwise, return an empty, justified plan. Output each move as: 'agent_2: move disk X from peg1 to peg2'. Do not emit PDDL.",
                "prompt": "Your name is agent_2. Public info: {environment->public_information}. Initial configuration: {environment->init->initial_configuration}. Goal configuration: {environment->init->goal_configuration}. You may move only disks H..N. If these disks must remain unmoved for the goal, return an empty move list with a one-line justification; otherwise provide legal moves."
            }
        },
        "agent_3": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You propose primitive moves only if disks O..T must move; otherwise, return an empty, justified plan. Output each move as: 'agent_3: move disk X from peg1 to peg2'. Do not emit PDDL.",
                "prompt": "Your name is agent_3. Public info: {environment->public_information}. Initial configuration: {environment->init->initial_configuration}. Goal configuration: {environment->init->goal_configuration}. You may move only disks O..T. If these disks must remain unmoved for the goal, return an empty move list with a one-line justification; otherwise provide legal moves."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audited_moves",
                "system_prompt": "You audit and reconcile the proposed move lists into a single, legal, temporally and causally consistent sequence. You must remove any bookkeeping shortcuts or artifacts (e.g., quota tokens, post-hoc penalties) and ensure that at every step only one disk moves, the moved disk is the topmost on its peg, no larger disk is placed on a smaller one, and agent disk-permission constraints are respected. Return the final ordered list of primitive moves; if agents 2 or 3 are unnecessary, preserve their emptiness while justifying.",
                "prompt": "Audit inputs from agents: {moves_agent_1} {moves_agent_2} {moves_agent_3}. Validate against initial configuration {environment->init->initial_configuration} and goal {environment->init->goal_configuration}, and ensure the sequence achieves the goal exactly. Output the unified ordered list of primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2'."
            }
        },
        "orchestrator": {
            "integrate_moves": {
                "input": [
                    "audited_moves"
                ],
                "output": "final_move_plan",
                "system_prompt": "You integrate the audited move list into a single definitive plan and present it unchanged. Do not emit PDDL in this step.",
                "prompt": "Integrate the audited move list into the final ordered plan. Inputs: {audited_moves}. Output only the ordered sequence of primitive moves in the exact format 'agent_i: move disk X from peg1 to peg2'."
            },
            "pddl": {
                "input": [
                    "final_move_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent planning and PDDL for the FastDownward/FastDownwards solver. You produce both a PDDL domain and a PDDL problem that encode the 3-peg Tower of Hanoi with typed objects (disks, pegs), strict size ordering constraints, and a single move action that enforces legality (only top disk moves, no larger on smaller). The problem must match the provided initial and goal configurations and be solvable by FastDownward. Always enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "Target solver: FastDownward. Build a domain with :typing and STRIPS-friendly features (avoid ADL). Objects: three pegs (left, middle, right) and disks A..T with a total order A<...<T. Predicates should capture on(disk, support), clear(x), smaller(x,y), peg(x), disk(x). Initial state must match {environment->init->initial_configuration} and enforce the size ordering. The goal must exactly match {environment->init->goal_configuration}. Additionally, after the PDDL problem, echo the integrated final move plan you received here: {final_move_plan}. Return only the domain and problem inside their tags, followed by the echoed move list."
            }
        },
        "constraints": [
            "agent_1.propose_moves->auditor.audit",
            "agent_2.propose_moves->auditor.audit",
            "agent_3.propose_moves->auditor.audit",
            "auditor.audit->orchestrator.integrate_moves",
            "orchestrator.integrate_moves->orchestrator.pddl"
        ]
    }
}