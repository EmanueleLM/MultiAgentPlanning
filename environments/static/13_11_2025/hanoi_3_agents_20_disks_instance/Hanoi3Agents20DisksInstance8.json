{
    "name": "Hanoi3Agents20DisksInstance8",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "auditor",
            "orchestrator"
        ],
        "agent_1": {
            "private_information": [
                "I can move only these disks: A, B, C, D, E, F, G.",
                "I cannot move disks H through T.",
                "I must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of any peg can be moved."
            ],
            "goal": "Propose the minimal set of primitive moves involving only disks A, B, C that helps reach the goal configuration while respecting the rules and staying within agent capabilities."
        },
        "agent_2": {
            "private_information": [
                "I can move only these disks: H, I, J, K, L, M, N.",
                "I cannot move disks A through G or O through T.",
                "I must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of any peg can be moved."
            ],
            "goal": "Propose the minimal set of primitive moves for disks H through N, if any are required, to achieve the goal configuration while respecting the rules and staying within agent capabilities."
        },
        "agent_3": {
            "private_information": [
                "I can move only these disks: O, P, Q, R, S, T.",
                "I cannot move disks A through N.",
                "I must obey Tower of Hanoi rules: move one disk at a time; never place a larger disk on top of a smaller disk; only the top disk of any peg can be moved."
            ],
            "goal": "Propose the minimal set of primitive moves for disks O through T, if any are required, to achieve the goal configuration while respecting the rules and staying within agent capabilities."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of multi-agent plans.",
                "I remove bookkeeping shortcuts such as artificial quotas, token limits, or post-hoc penalties.",
                "I ensure no action violates Tower of Hanoi rules or agent capability constraints and that the move sequence is executable and goal-reaching."
            ],
            "goal": "Verify and, if necessary, correct the combined move proposal to ensure it is valid, strictly respects rules and agent limits, and achieves the specified goal configuration. Output a single, ordered list of primitive moves."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate agents and translate an audited plan into a concrete planning model for the FastDownward solver."
            ],
            "goal": "Integrate the audited move sequence and produce a final PDDL domain and problem suitable for the FastDownward solver, modeling agents, disks, pegs, and legality constraints. The output must be enclosed in <domain></domain> and <problem></problem> tags."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "agents_control_map": {
                "agent_1": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G"
                ],
                "agent_2": [
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N"
                ],
                "agent_3": [
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_stack_top_to_bottom_left": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "initial_stack_top_to_bottom_middle": [],
            "initial_stack_top_to_bottom_right": [],
            "goal_left_top_to_bottom": [
                "D",
                "E",
                "F",
                "G",
                "H",
                "I",
                "J",
                "K",
                "L",
                "M",
                "N",
                "O",
                "P",
                "Q",
                "R",
                "S",
                "T"
            ],
            "goal_middle_top_to_bottom": [
                "B"
            ],
            "goal_right_top_to_bottom": [
                "A",
                "C"
            ],
            "solver": "FastDownward",
            "notes": "A is the smallest, T is the largest."
        },
        "public_information": [
            "There are three pegs: left, middle, right.",
            "There are 20 disks labelled A through T with A the smallest and T the largest.",
            "Initial configuration: left peg has top-to-bottom A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle and right are empty.",
            "Goal configuration: left peg has top-to-bottom D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T; middle peg has top-to-bottom B; right peg has top-to-bottom A, C.",
            "Agent capabilities: agent_1 may move A through G; agent_2 may move H through N; agent_3 may move O through T.",
            "Legal move: move one disk at a time, only the top disk from a peg may be moved, and a larger disk may never be placed on a smaller disk."
        ],
        "reference_plan": [
            "agent_1: move disk A from left to right",
            "agent_1: move disk B from left to middle",
            "agent_1: move disk A from right to middle",
            "agent_1: move disk C from left to right",
            "agent_1: move disk A from middle to right"
        ]
    },
    "workflow": {
        "agent_1": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_1",
                "system_prompt": "You are agent_1. You can move only disks A through G. Provide an ordered list of primitive moves that use only your allowed disks and respect Tower of Hanoi rules. Do not output PDDL. Use the exact format 'agent_i: move disk X from peg1 to peg2'.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your capability: you may move A, B, C, D, E, F, G only. Target goal: left peg D..T top-to-bottom, middle peg B, right peg A over C. Propose only the moves you must execute to reach the goal with minimal steps and without touching disks H..T. If no move is needed for some of your disks, do not add any placeholder. Output only primitive moves in order."
            }
        },
        "agent_2": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_2",
                "system_prompt": "You are agent_2. You can move only disks H through N. Provide an ordered list of primitive moves that use only your allowed disks and respect Tower of Hanoi rules. Do not output PDDL. If no moves are needed, explicitly output an empty list representation or a statement 'no moves'.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your capability: you may move H, I, J, K, L, M, N only. Assess whether any moves are required to achieve the goal. If none are needed, state 'no moves'. If moves are needed, list them in the format 'agent_2: move disk X from peg1 to peg2'."
            }
        },
        "agent_3": {
            "propose_moves": {
                "input": [],
                "output": "moves_agent_3",
                "system_prompt": "You are agent_3. You can move only disks O through T. Provide an ordered list of primitive moves that use only your allowed disks and respect Tower of Hanoi rules. Do not output PDDL. If no moves are needed, explicitly output 'no moves'.",
                "prompt": "Your name is agent_3. Public information: {environment->public_information}. Your capability: you may move O, P, Q, R, S, T only. Assess whether any moves are required to achieve the goal. If none are needed, state 'no moves'. If moves are needed, list them in the format 'agent_3: move disk X from peg1 to peg2'."
            }
        },
        "auditor": {
            "audit_plan": {
                "input": [
                    "moves_agent_1",
                    "moves_agent_2",
                    "moves_agent_3"
                ],
                "output": "audited_moves",
                "system_prompt": "You are the auditor. Your job is to enforce temporal and causal consistency and remove bookkeeping shortcuts. Verify that each move list: conforms to the format 'agent_i: move disk X from peg1 to peg2'; obeys Tower of Hanoi rules; uses only allowed disks per agent; is jointly executable from the stated initial configuration; and achieves the target goal configuration. If all is valid, output a single normalized ordered list of primitive moves. If corrections are required, produce the corrected ordered list and briefly justify the changes. Do not output PDDL.",
                "prompt": "Initial state and goal: {environment->public_information}. Candidate moves from agent_1: {moves_agent_1}. Candidate moves from agent_2: {moves_agent_2}. Candidate moves from agent_3: {moves_agent_3}. Validate legality and capability constraints, check that the sequence achieves the goal, and output the final ordered primitive move list. Prefer the minimal-length valid plan. If a provided 'reference_plan' exists, cross-check it for consistency: {environment->reference_plan}."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_moves"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert with multi-agent PDDL problems targeting the FastDownward solver. Produce a complete PDDL domain and problem that model the three-peg Tower of Hanoi with 20 disks (A smallest to T largest) and three agents with disk-move restrictions. Use STRIPS with typing only (avoid ADL features unless strictly necessary). Represent legality constraints so that only top disks can move and larger disks cannot be placed on smaller disks. Model agent capabilities so that a plan requires the acting agent to be authorized to move the chosen disk. Enclose the domain in <domain></domain> and the problem in <problem></problem> tags, and ensure the problem corresponds exactly to the initial and goal configurations. The model must be compatible with FastDownward.",
                "prompt": "Public information: {environment->public_information}. Audited ordered primitive moves: {audited_moves}. Generate a typed STRIPS PDDL domain 'hanoi-multiagent' with types agent, support, disk, peg (disk and peg as subtypes of support). Predicates should include on(disk, support), clear(support), smaller(disk, disk), assigned(agent, disk). Provide four move actions parameterized by agent for the combinations of from-to (peg/disk) that enforce clear and smaller constraints and assigned(agent, disk). Then generate a PDDL problem named 'hanoi-20-3agents-instance8' with all objects (agents agent_1 agent_2 agent_3; pegs left middle right; disks a through t), a correct initial state encoding the full left stack A..T and clear markers, all smaller relations, and assigned facts for each agent's allowed disks. The goal must encode exactly: left has top-to-bottom D..T, middle has B alone, right has C at bottom with A on C and A clear. Output only the PDDL enclosed by the required tags."
            }
        },
        "constraints": [
            "agent_1.propose_moves->auditor.audit_plan",
            "agent_2.propose_moves->auditor.audit_plan",
            "agent_3.propose_moves->auditor.audit_plan",
            "auditor.audit_plan->orchestrator.pddl"
        ]
    }
}