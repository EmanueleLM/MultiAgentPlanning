{
    "name": "Hanoi3Agents20DisksInstance9",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "agent_1",
            "agent_2",
            "agent_3",
            "orchestrator",
            "consistency_auditor"
        ],
        "agent_1": {
            "private_information": [
                "I can move only disks: A,B,C,D,E,F,G",
                "I have perfect observation of peg tops"
            ],
            "goal": "Achieve the goal configuration while respecting Tower of Hanoi rules and my move permissions."
        },
        "agent_2": {
            "private_information": [
                "I can move only disks: H,I,J,K,L,M,N",
                "I have perfect observation of peg tops"
            ],
            "goal": "Achieve the goal configuration while respecting Tower of Hanoi rules and my move permissions."
        },
        "agent_3": {
            "private_information": [
                "I can move only disks: O,P,Q,R,S,T",
                "I have perfect observation of peg tops"
            ],
            "goal": "Achieve the goal configuration while respecting Tower of Hanoi rules and my move permissions."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate multi-agent plans, align local capabilities, and produce the final formal planning artifacts."
            ],
            "goal": "Coordinate agents to achieve the goal configuration and emit final PDDL domain and problem for Fast Downward."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency of plans.",
                "I remove bookkeeping shortcuts such as token quotas, batch actions, teleportation, or post-hoc penalties.",
                "I enforce one-disk-at-a-time and no-larger-on-smaller legality."
            ],
            "goal": "Validate and, if necessary, correct the draft plan to comply with Tower of Hanoi rules and agent-specific permissions."
        }
    },
    "environment": {
        "init": {
            "pegs": [
                "left",
                "middle",
                "right"
            ],
            "disks": {
                "ordered_small_to_large": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ]
            },
            "initial_state": {
                "left": [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [],
                "right": []
            },
            "goal_state": {
                "left": [
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T"
                ],
                "middle": [
                    "D"
                ],
                "right": [
                    "A",
                    "B",
                    "C"
                ]
            },
            "visibility": "global"
        },
        "public_information": [
            "Three pegs: left, middle, right.",
            "Twenty disks labeled A smallest through T largest. Ordering small to large: A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T.",
            "Tower of Hanoi rules: move one disk at a time; only a topmost disk may move; never place a larger disk on a smaller disk.",
            "Agent move permissions: agent_1 can move A,B,C,D,E,F,G; agent_2 can move H,I,J,K,L,M,N; agent_3 can move O,P,Q,R,S,T.",
            "Initial configuration: left has A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T (top to bottom); middle is empty; right is empty.",
            "Goal configuration: left has E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T (top to bottom); middle has D; right has A,B,C (top to bottom)."
        ],
        "solution": {
            "ordered_moves": [
                "agent_1: move disk A from left to right",
                "agent_1: move disk B from left to middle",
                "agent_1: move disk A from right to middle",
                "agent_1: move disk C from left to right",
                "agent_1: move disk A from middle to left",
                "agent_1: move disk B from middle to right",
                "agent_1: move disk A from left to right",
                "agent_1: move disk D from left to middle"
            ],
            "notes": "Only the smallest four disks need to move to achieve the goal. The sequence respects agent permissions and Tower of Hanoi legality."
        }
    },
    "workflow": {
        "agent_1": {
            "context": {
                "input": [],
                "output": "ctx_agent_1",
                "system_prompt": "You are a cooperative agent in a multi-robot Tower of Hanoi setting. Do not produce PDDL. Return concise JSON describing your capabilities, the disks you can move, legal-move rules you will respect, and any immediate candidate moves that only involve disks you are authorized to move.",
                "prompt": "Your name is agent_1. Public information: {environment->public_information}. Your private knowledge: {agents->agent_1->private_information}. Initial and goal states: initial={environment->init->initial_state}, goal={environment->init->goal_state}. Provide a JSON object with keys capabilities, allowed_disks, legal_rules, and notes. Do not include PDDL."
            }
        },
        "agent_2": {
            "context": {
                "input": [],
                "output": "ctx_agent_2",
                "system_prompt": "You are a cooperative agent in a multi-robot Tower of Hanoi setting. Do not produce PDDL. Return concise JSON describing your capabilities, the disks you can move, legal-move rules you will respect, and any immediate candidate moves that only involve disks you are authorized to move.",
                "prompt": "Your name is agent_2. Public information: {environment->public_information}. Your private knowledge: {agents->agent_2->private_information}. Initial and goal states: initial={environment->init->initial_state}, goal={environment->init->goal_state}. Provide a JSON object with keys capabilities, allowed_disks, legal_rules, and notes. Do not include PDDL."
            }
        },
        "agent_3": {
            "context": {
                "input": [],
                "output": "ctx_agent_3",
                "system_prompt": "You are a cooperative agent in a multi-robot Tower of Hanoi setting. Do not produce PDDL. Return concise JSON describing your capabilities, the disks you can move, legal-move rules you will respect, and any immediate candidate moves that only involve disks you are authorized to move.",
                "prompt": "Your name is agent_3. Public information: {environment->public_information}. Your private knowledge: {agents->agent_3->private_information}. Initial and goal states: initial={environment->init->initial_state}, goal={environment->init->goal_state}. Provide a JSON object with keys capabilities, allowed_disks, legal_rules, and notes. Do not include PDDL."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "plan_draft"
                ],
                "output": "plan_verified",
                "system_prompt": "You are a temporal and causal consistency auditor. Validate sequences of primitive Hanoi moves, eliminate bookkeeping shortcuts such as teleporting stacks, batch actions, token quotas, or post-hoc penalties, and ensure compliance with agent restrictions and Tower of Hanoi rules. Return a corrected and verified plan if necessary.",
                "prompt": "You will receive a draft move list: {plan_draft}. Validate it against the initial and goal states: initial={environment->init->initial_state}, goal={environment->init->goal_state}. Ensure only one top disk moves at a time, never place a larger disk on a smaller disk, and the acting agent is authorized for the disk. Return JSON with keys verified_plan (array of strings in the required format), verdict (ok or rejected), and rationale."
            }
        },
        "orchestrator": {
            "integrate": {
                "input": [
                    "ctx_agent_1",
                    "ctx_agent_2",
                    "ctx_agent_3"
                ],
                "output": "plan_draft",
                "system_prompt": "You are the multi-agent coordinator. Do not emit PDDL in this step. Integrate agent contexts and synthesize a minimal primitive move plan achieving the goal as a sequence of atomic moves that obey Tower of Hanoi rules and agent permissions.",
                "prompt": "You will receive three capability reports: agent_1={ctx_agent_1}, agent_2={ctx_agent_2}, agent_3={ctx_agent_3}. Using the public information and the initial and goal states, compute a draft ordered move list in the format 'agent_i: move disk X from peg1 to peg2'. Restrict moves to only the disks that must move to reach the goal. Output JSON with key draft_plan whose value is the array of moves. Choose the shortest valid draft."
            },
            "pddl": {
                "input": [
                    "plan_verified"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for the Fast Downward solver. Produce a PDDL domain and a PDDL problem that encode the 3-peg Tower of Hanoi with agent-specific move permissions and the provided 20-disk initial and goal states. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Use STRIPS-compatible predicates only. Include objects for pegs, disks, and agents; model smaller-than relations; ensure action schemas enforce agent permissions and Hanoi legality. Also output the final verified move list as a JSON array enclosed in <plan></plan> tags.",
                "prompt": "Here is the auditor-verified plan: {plan_verified}. Use it to ensure the problem encoding matches the intended initial and goal states: initial={environment->init->initial_state}, goal={environment->init->goal_state}. Agent permissions: agent_1 can move A,B,C,D,E,F,G; agent_2 can move H,I,J,K,L,M,N; agent_3 can move O,P,Q,R,S,T. Produce the domain and problem as specified, targeting the FastDownward planner."
            }
        },
        "constraints": [
            "agent_1.context->orchestrator.integrate",
            "agent_2.context->orchestrator.integrate",
            "agent_3.context->orchestrator.integrate",
            "orchestrator.integrate->consistency_auditor.audit",
            "consistency_auditor.audit->orchestrator.pddl"
        ]
    }
}