{
    "name": "MeetingPlanningExample13",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "schedule_generator",
            "map_router",
            "temporal_auditor",
            "orchestrator"
        ],
        "schedule_generator": {
            "private_information": [
                "I enumerate feasible day schedules using only public information and avoid assumptions for unknown data.",
                "I compute times in minutes since midnight and present schedules with explicit meeting start, end, and travel buffers.",
                "I will propose diverse alternatives that trade off staying at Presidio longer vs. heading to North Beach earlier."
            ],
            "goal": "Propose candidate itineraries that maximize the number of friends met while guaranteeing at least one option with a 75+ minute meeting with Betty within her availability window."
        },
        "map_router": {
            "private_information": [
                "I normalize and report directed travel times between known locations only.",
                "If a travel time is not provided, I mark it as unknown rather than inventing it.",
                "I provide a simple adjacency list and a matrix view for the known locations."
            ],
            "goal": "Provide reliable, direction-aware travel times for Presidio and North Beach to support schedule feasibility checks."
        },
        "temporal_auditor": {
            "private_information": [
                "I perform rigorous temporal and causal consistency checks, including travel feasibility, non-overlap constraints, and minimum durations.",
                "I explicitly remove bookkeeping shortcuts such as quota tokens, post-hoc penalties, or any retroactive credit that is not causally supported.",
                "I verify the hard requirement of meeting Betty for at least 75 minutes within 18:45-22:00 and flag any violations."
            ],
            "goal": "Audit and filter schedules to those that are temporally feasible, causally supported by travel times, and compliant with the Betty constraint, while noting any remaining ambiguities."
        },
        "orchestrator": {
            "private_information": [
                "I integrate candidate schedules, routing data, and audit results and compile them into a final PDDL domain and problem for the Fast Downward solver.",
                "I keep actions well-scoped and consistent, avoiding hidden shortcuts or unsupported assumptions.",
                "I will encode constraints so that meeting Betty for 75+ minutes within her window is a hard constraint; maximizing total friends met is the objective."
            ],
            "goal": "Produce the final PDDL domain and problem targeting the Fast Downward solver that encodes the itinerary planning task, guarantees the Betty meeting requirement, and pursues the objective of meeting as many friends as possible starting at Presidio at 09:00."
        }
    },
    "environment": {
        "init": {
            "city": "San Francisco",
            "time_units": "minutes",
            "time_format": "24h",
            "start_time": "09:00",
            "locations": [
                "Presidio",
                "North Beach"
            ]
        },
        "public_information": [
            "You arrive at Presidio at 09:00.",
            "Travel time from Presidio to North Beach is 18 minutes.",
            "Travel time from North Beach to Presidio is 17 minutes.",
            "Friends and availabilities (location and 24h windows): Alice at Presidio 09:00-11:00, Carlos at Presidio 10:30-12:00, Farah at Presidio 13:00-14:00, Eli at North Beach 17:30-18:30, Dana at North Beach 18:00-19:30, Grace at North Beach 20:30-21:30, Betty at North Beach 18:45-22:00.",
            "You want to meet as many friends as possible during the day.",
            "You must meet Betty for a minimum of 75 minutes within her 18:45-22:00 availability window.",
            "Meetings cannot overlap and you cannot be in two places at once; include travel time between consecutive meetings; no teleportation."
        ]
    },
    "workflow": {
        "schedule_generator": {
            "enumerate_schedules": {
                "input": [],
                "output": "schedule_options",
                "system_prompt": "You are a high-quality day-schedule enumerator that generates diverse, feasible itineraries without assuming unknown travel data.",
                "prompt": "Your name is schedule_generator. Consider the public information: {environment->public_information}. Use your knowledge: {agents->schedule_generator->private_information}. Global objective: {agents->schedule_generator->goal}. Enumerate at least three diverse candidate day schedules that start at Presidio at 09:00, explicitly listing meetings with friends, start and end times, location, and travel legs with their durations. Do not output PDDL; produce concise, structured options and clearly mark any dependencies on routing data."
            }
        },
        "map_router": {
            "compute_routes": {
                "input": [],
                "output": "travel_matrix",
                "system_prompt": "You are a routing specialist who reports only provided, direction-aware travel times.",
                "prompt": "Your name is map_router. Consider the public information: {environment->public_information}. Use your knowledge: {agents->map_router->private_information}. Global objective: {agents->map_router->goal}. Return a normalized representation of travel times between Presidio and North Beach in both directions, with units and any assumptions explicitly stated; do not invent missing data and do not output PDDL."
            }
        },
        "temporal_auditor": {
            "audit": {
                "input": [
                    "schedule_options",
                    "travel_matrix"
                ],
                "output": "audited_schedules",
                "system_prompt": "You are a rigorous temporal and causal auditor who rejects unsupported shortcuts and enforces hard constraints.",
                "prompt": "Your name is temporal_auditor. You receive candidate schedules: {schedule_options} and routing data: {travel_matrix}. Use your knowledge: {agents->temporal_auditor->private_information}. Global objective: {agents->temporal_auditor->goal}. For each schedule, verify non-overlap, sufficient travel buffers using the directed travel times, and that Betty is scheduled for at least 75 minutes within 18:45-22:00. Remove bookkeeping shortcuts and flag any residual ambiguities. Return a filtered and annotated set of audited schedules; do not output PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "schedule_options",
                    "travel_matrix",
                    "audited_schedules"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL for Fast Downward. You must produce a valid classical PDDL domain and problem, suitable for Fast Downward, that encodes the itinerary planning task. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Use action costs or another Fast Downward-compatible mechanism to prefer meeting more friends while enforcing the hard constraint of meeting Betty for at least 75 minutes within her window. Do not include explanatory text outside the tags.",
                "prompt": "You are orchestrator. Integrate the environment information: {environment->public_information}, the schedule candidates: {schedule_options}, the routing data: {travel_matrix}, and the audited results: {audited_schedules}. Use your knowledge: {agents->orchestrator->private_information}. Global objective: {agents->orchestrator->goal}. Produce a final PDDL domain and problem for Fast Downward that captures locations (Presidio, North Beach), directed travel times, friend availability windows, the start state at Presidio at 09:00, and the requirement to meet Betty for at least 75 minutes within 18:45-22:00 while maximizing the number of distinct friends met. Keep actions well-scoped and solver-friendly. Enclose the PDDL domain within <domain></domain> and the PDDL problem within <problem></problem>."
            }
        },
        "constraints": [
            "schedule_generator.enumerate_schedules->temporal_auditor.audit",
            "map_router.compute_routes->temporal_auditor.audit",
            "temporal_auditor.audit->orchestrator.pddl",
            "map_router.compute_routes->orchestrator.pddl",
            "schedule_generator.enumerate_schedules->orchestrator.pddl"
        ]
    }
}