{
    "name": "MeetingPlanningExample8",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "traveler",
            "scheduler",
            "auditor",
            "mapper",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "I am the traveler visiting San Francisco for a single day",
                "I start physically in Chinatown at 9:00AM",
                "I can walk between listed locations and cannot be in two places at once"
            ],
            "goal": "Meet as many friends as possible while ensuring at least 105 minutes meeting with Stephanie during her availability window. Respect travel times and start from Chinatown at 9:00AM. Prefer schedules with less waiting and less travel when friends met are equal."
        },
        "scheduler": {
            "private_information": [
                "I enumerate feasible schedules using only the provided travel times and time windows",
                "I never assume new friends, new locations, or unlisted travel times",
                "I produce multiple candidate schedules with timestamps, travel steps, and meeting durations"
            ],
            "goal": "Produce several feasible schedules that start at 9:00AM in Chinatown, reach Marina District in time to meet Stephanie for at least 105 minutes within her 8:00AM to 3:00PM window, and optionally include waiting as needed. Maximize friends met (with current data this is Stephanie), then minimize total travel plus waiting time."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of the candidate schedules",
                "I remove bookkeeping shortcuts such as quota tokens, artificial penalties, or any post-hoc reward hacks",
                "I verify that travel durations match the directed times and that meetings occur only within availability windows"
            ],
            "goal": "Reject infeasible or inconsistent schedules and return a vetted set with explicit justifications. Ensure that Stephanie is met for at least 105 consecutive minutes within 8:00AM to 3:00PM, with all travel and waits explicitly accounted for and no overlapping activities."
        },
        "mapper": {
            "private_information": [
                "I normalize travel information into a directed travel time matrix",
                "I only include travel times that are explicitly given"
            ],
            "goal": "Provide a minimal directed travel-time matrix for the known locations so downstream agents can use consistent travel durations."
        },
        "orchestrator": {
            "private_information": [
                "I integrate audited schedules and produce the final PDDL domain and problem targeting the FastDownward solver",
                "I avoid temporal durative constructs and instead discretize time into minute steps or precompiled action sequences compatible with classical planning"
            ],
            "goal": "Generate a PDDL domain and problem that encode the meeting planning task with the audited best schedule assumptions and constraints. Ensure the problem can be solved by FastDownward. Include objects for locations and time steps, encode move and wait actions that respect provided travel times, and require at least 105 minutes of meeting with Stephanie within her 8:00AM to 3:00PM window."
        }
    },
    "environment": {
        "init": {
            "time_units": "minutes",
            "time_horizon_minutes": 540,
            "day_start": "09:00AM",
            "day_end": "06:00PM",
            "locations": [
                "Chinatown",
                "MarinaDistrict"
            ],
            "agent": "traveler"
        },
        "public_information": [
            "You arrive at Chinatown at 9:00AM.",
            "Stephanie will be at Marina District from 8:00AM to 3:00PM.",
            "You would like to meet Stephanie for a minimum of 105 minutes.",
            "Directed travel times in minutes: Chinatown to Marina District is 12, Marina District to Chinatown is 16.",
            "Objective: meet as many friends as possible; with current data the only known friend is Stephanie. Break ties by minimizing total travel and waiting time.",
            "Travel mode is walking between the listed locations only. No teleportation or unlisted shortcuts are allowed."
        ]
    },
    "workflow": {
        "traveler": {
            "preferences": {
                "input": [],
                "output": "preference_profile",
                "system_prompt": "You build a concise profile of the traveler's objectives and tie-breakers suitable for downstream planning.",
                "prompt": "Your name is traveler. Public information: {environment->public_information}. Your private information: {agents->traveler->private_information}. Your goal: {agents->traveler->goal}. Produce a compact JSON object with fields objectives, tie_breakers, and constraints that downstream agents can use to rank schedules. Do not introduce new friends, locations, or travel times."
            }
        },
        "mapper": {
            "travel_times": {
                "input": [],
                "output": "travel_time_matrix",
                "system_prompt": "You convert narrative travel facts into a clean directed matrix usable by other agents.",
                "prompt": "Your name is mapper. Public information: {environment->public_information}. Extract only the explicitly provided directed travel times and output a JSON object with keys locations and matrix, where matrix entries are minutes or null when unknown. Do not infer any missing travel times."
            }
        },
        "scheduler": {
            "generate_candidates": {
                "input": [
                    "travel_time_matrix",
                    "preference_profile"
                ],
                "output": "candidate_schedules",
                "system_prompt": "You enumerate multiple feasible schedules, each with explicit times, travel legs, meetings, and waits.",
                "prompt": "Your name is scheduler. Public information: {environment->public_information}. Private information: {agents->scheduler->private_information}. Goal: {agents->scheduler->goal}. Using the provided travel_time_matrix and preference_profile, produce several candidate schedules as a JSON list. Each schedule must include schedule_id, steps (ordered with time stamps, action, location), start_time, end_time, total_travel_minutes, total_wait_minutes, friends_met_count, stephanie_meeting_minutes, and feasibility_notes. Use only the given directed travel times; add waits if needed to satisfy the 105 minute meeting constraint. Start at Chinatown at 9:00AM."
            }
        },
        "auditor": {
            "audit_schedules": {
                "input": [
                    "candidate_schedules",
                    "travel_time_matrix"
                ],
                "output": "audited_schedules",
                "system_prompt": "You are the temporal and causal consistency auditor. You eliminate infeasible or inconsistent schedules and provide justifications.",
                "prompt": "Your name is auditor. Public information: {environment->public_information}. Private information: {agents->auditor->private_information}. Goal: {agents->auditor->goal}. Review the candidate_schedules using the directed travel_time_matrix. Reject any schedule with overlapping activities, incorrect directed travel durations, or meetings outside the allowed window. Ensure Stephanie is met for at least 105 consecutive minutes. Return a JSON object with fields kept (list of valid schedules with any corrections) and dropped (list of invalid schedule_ids with reasons). Do not add new friends or infer missing travel times."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "audited_schedules",
                    "travel_time_matrix",
                    "preference_profile"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL and the FastDownward solver. You always provide a PDDL domain and a PDDL problem, enclosed within <domain></domain> and <problem></problem>. Target FastDownward by using classical STRIPS or ADL without durative actions. If necessary, discretize time into minute steps via explicit predicates or compiled action sequences for moving, waiting, and meeting that respect directed travel times and availability windows.",
                "prompt": "Integrate the audited_schedules, the directed travel_time_matrix, and the preference_profile. Select the best audited schedule by maximizing friends_met_count and breaking ties by minimizing total_travel_minutes plus total_wait_minutes. Then produce a final PDDL domain and problem for FastDownward that captures the planning instance: include objects for locations and time steps, predicates for agent-at, time-step, next, met-stephanie-at-tk, and any additional needed facts; include actions move, wait, and meet-stephanie compiled to respect the directed travel durations and the 8:00AM to 3:00PM availability; initialize the agent at Chinatown at 9:00AM; impose a goal requiring at least 105 distinct consecutive minute steps of meeting Stephanie within her window. Enclose the PDDL domain within <domain></domain> and the PDDL problem within <problem></problem>. Do not assume any additional friends or travel times beyond those provided."
            }
        },
        "constraints": [
            "mapper.travel_times->scheduler.generate_candidates",
            "traveler.preferences->scheduler.generate_candidates",
            "scheduler.generate_candidates->auditor.audit_schedules",
            "mapper.travel_times->auditor.audit_schedules",
            "auditor.audit_schedules->orchestrator.synthesize_pddl",
            "traveler.preferences->orchestrator.synthesize_pddl",
            "mapper.travel_times->orchestrator.synthesize_pddl"
        ]
    }
}