{
    "name": "MysteryBlocksworld0",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "domain_modeler",
            "state_curator",
            "plan_auditor",
            "orchestrator"
        ],
        "domain_modeler": {
            "private_information": [
                "Expert in extracting STRIPS-like action models from textual rules",
                "Will keep predicate and action names exactly as given by the human",
                "Avoids making up new predicates or parameters not present in the description"
            ],
            "goal": "Produce a clean, minimal STRIPS-like action model (predicates and actions) consistent with the human-provided rules."
        },
        "state_curator": {
            "private_information": [
                "Expert in grounding initial states and goals from textual descriptions",
                "Captures scenario variants as separate named scenarios",
                "Avoids inventing facts that are not stated"
            ],
            "goal": "Extract and normalize the initial facts, goal facts, and any provided plans for the two scenarios."
        },
        "plan_auditor": {
            "private_information": [
                "Audits temporal/causal consistency of plans",
                "Removes bookkeeping shortcuts such as quota tokens or post-hoc penalties",
                "Produces step-by-step validation and highlights missing preconditions or mismatched effects"
            ],
            "goal": "Validate the provided plan for scenario_1 against the action model and initial facts; analyze readiness for scenario_2."
        },
        "orchestrator": {
            "private_information": [
                "Integrates the action model and curated scenarios",
                "Targets the FastDownward solver with syntactically correct PDDL",
                "Ensures domain and problem names, objects, predicates, and actions are aligned"
            ],
            "goal": "Deliver a correct PDDL domain and a PDDL problem for scenario_2 that achieves the goal next object_8 object_6."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8"
            ],
            "solver": "FastDownward"
        },
        "public_information": [
            "Universe: objects are object_0 through object_8.",
            "Predicates: hand(x), cats(x), sneeze(x), spring(x), stupendous(x), texture(x) as unary; collect(x,y), next(x,y), vase(x,y) as binary.",
            "Action paltry(o0,o1,o2) preconditions: hand o0, cats o1, texture o2, vase o0 o1, next o1 o2; add: next o0 o2; delete: vase o0 o1.",
            "Action sip(o0,o1,o2) preconditions: hand o0, cats o1, texture o2, next o0 o2, next o1 o2; add: vase o0 o1; delete: next o0 o2.",
            "Action clip(o0,o1,o2) preconditions: hand o0, sneeze o1, texture o2, next o1 o2, next o0 o2; add: vase o0 o1; delete: next o0 o2.",
            "Action wretched(o0,o1,o2,o3) preconditions: sneeze o0, texture o1, texture o2, stupendous o3, next o0 o1, collect o1 o3, collect o2 o3; add: next o0 o2; delete: next o0 o1.",
            "Action memory(o0,o1,o2) preconditions: cats o0, spring o1, spring o2, next o0 o1; add: next o0 o2; delete: next o0 o1.",
            "Action tightfisted(o0,o1,o2) preconditions: hand o0, sneeze o1, texture o2, next o1 o2, vase o0 o1; add: next o0 o2; delete: vase o0 o1.",
            "[STATEMENT scenario_1] Initial facts: cats object_0, cats object_1, collect object_6 object_2, collect object_7 object_3, hand object_8, next object_0 object_6, next object_1 object_6, next object_4 object_6, next object_5 object_7, next object_8 object_7, sneeze object_4, sneeze object_5, spring object_6, spring object_7, stupendous object_2, stupendous object_3, texture object_6, texture object_7. Goal: next object_8 object_6. Provided plan: memory object_1 object_6 object_7; sip object_8 object_1 object_7; memory object_1 object_7 object_6; paltry object_8 object_1 object_6.",
            "[STATEMENT scenario_2] Initial facts: cats object_0, cats object_1, collect object_6 object_2, collect object_7 object_3, hand object_8, next object_0 object_7, next object_1 object_7, next object_4 object_6, next object_5 object_7, next object_8 object_7, sneeze object_4, sneeze object_5, spring object_6, spring object_7, stupendous object_2, stupendous object_3, texture object_6, texture object_7. Goal: next object_8 object_6.",
            "Target solver: FastDownward; require STRIPS-compatible domain and problem."
        ]
    },
    "workflow": {
        "domain_modeler": {
            "model": {
                "input": [],
                "output": "action_model",
                "system_prompt": "You extract a minimal STRIPS-like action model from textual rules. Output a JSON object with keys: predicates (list of predicate signatures) and actions (each with name, parameters, preconditions, add_effects, del_effects). Keep names exactly as in the public information and avoid PDDL.",
                "prompt": "Your name is domain_modeler. Use the environment public information to build the action model. Keep the exact predicate and action names and parameter orders as given. Entities are object_0 through object_8. The global objective is aligned with {agents->orchestrator->goal}. Do not emit PDDL; emit a compact JSON action model."
            }
        },
        "state_curator": {
            "scenarios": {
                "input": [],
                "output": "scenarios",
                "system_prompt": "You transform textual scenario descriptions into structured data without inventing facts.",
                "prompt": "Your name is state_curator. From the environment public information, produce a JSON object with two entries: scenario_1 and scenario_2. Each entry must contain initial_facts (list of ground atoms as strings like next object_8 object_7), goal_facts (list), and for scenario_1 also provided_plan (ordered list of grounded actions). Preserve names exactly as written and do not add facts."
            }
        },
        "plan_auditor": {
            "audit": {
                "input": [
                    "action_model",
                    "scenarios"
                ],
                "output": "audit_report",
                "system_prompt": "You audit temporal and causal consistency of plans and remove bookkeeping shortcuts or post-hoc penalties. Work only with the supplied action model and facts.",
                "prompt": "Your name is plan_auditor. Validate scenario_1's provided_plan step-by-step from its initial_facts using the action_model. Report whether all preconditions hold at each step, the resulting final state, and whether the goal is achieved. If invalid, provide a minimally corrected plan if possible, or state precisely which preconditions are missing and which supporting facts would be needed. Also assess scenario_2 readiness: describe which actions could lead from its initial_facts to its goal_facts. Output a JSON object with keys: scenario_1_validation (valid boolean and details), final_state_s1 (set of facts), scenario_1_corrected_plan (list or empty), scenario_2_readiness (analysis text). Do not emit PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "action_model",
                    "scenarios",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL and the FastDownward solver. Produce a single PDDL domain and a single PDDL problem for scenario_2. Use STRIPS only, no negative preconditions; model removals via delete lists. Keep all predicate and action names exactly as in the action_model (lowercase tokens as provided). Include all six actions with correct preconditions and effects. Include all objects object_0 through object_8 in the problem. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>.",
                "prompt": "Integrate the action_model, scenarios, and audit_report to emit final PDDL for FastDownward. Use scenario_2 for the initial state and goal. Ensure the domain is named mystery-blocks and the problem is named scenario-2. Do not add or remove predicates or actions beyond those given: paltry, sip, clip, wretched, memory, tightfisted. Ensure syntactic correctness for FastDownward."
            }
        },
        "constraints": [
            "domain_modeler.model->plan_auditor.audit",
            "state_curator.scenarios->plan_auditor.audit",
            "domain_modeler.model->orchestrator.pddl",
            "state_curator.scenarios->orchestrator.pddl",
            "plan_auditor.audit->orchestrator.pddl"
        ]
    }
}