{
    "name": "MysteryBlocksworld2",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "domain_modeler",
            "state_builder",
            "plan_sketcher",
            "consistency_auditor",
            "orchestrator"
        ],
        "domain_modeler": {
            "private_information": [
                "I specialize in turning natural language action rules into a clean, lifted planning model with predicates, parameter roles, and action schemas.",
                "I avoid emitting PDDL; instead, I produce a structured domain catalog that others can use consistently."
            ],
            "goal": "Produce a precise lifted action catalog with predicates, parameter conventions, and symbol dictionary for the described world so downstream agents can compile consistent problems."
        },
        "state_builder": {
            "private_information": [
                "I extract scenario-specific initial states and goals, grounding them with the object set and predicate vocabulary from the lifted model.",
                "I ensure symbol spelling and arity match the domain catalog and preserve all facts exactly as stated."
            ],
            "goal": "Produce grounded initial states and goals for both Scenario A and Scenario B that are consistent with the lifted domain model."
        },
        "plan_sketcher": {
            "private_information": [
                "I check the provided plan for Scenario A against the lifted model and scenario state, and I assess feasibility for Scenario B without fabricating new rules or shortcuts."
            ],
            "goal": "Validate the given plan for Scenario A step by step and assess whether Scenario B is solvable under the stated rules and facts."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency across the lifted model, state encodings, and plans.",
                "I remove bookkeeping shortcuts such as quotas, arbitrary penalties, post-hoc justifications, or any extra-procedural assumptions not present in the rules."
            ],
            "goal": "Provide a detailed report confirming that preconditions and effects align across all artifacts, and flag any unsatisfiable objectives or symbol mismatches."
        },
        "orchestrator": {
            "private_information": [
                "I integrate the lifted model, grounded scenarios, and audit outcomes into final PDDL artifacts.",
                "I target the Fast Downward solver with a STRIPS-compatible domain and two problem instances."
            ],
            "goal": "Emit a final, solver-ready PDDL domain and two problem files (Scenario A and Scenario B) for the Fast Downward planner."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8"
            ],
            "predicate_symbols": [
                "hand(x)",
                "cats(x)",
                "sneeze(x)",
                "spring(x)",
                "stupendous(x)",
                "texture(x)",
                "next(x,y)",
                "vase(x,y)",
                "collect(x,y)"
            ],
            "visibility": "global"
        },
        "public_information": [
            "Domain summary: You can manipulate relations among objects using six actions: paltry, sip, clip, wretched, memory, tightfisted.",
            "Action paltry(a,b,c): Preconditions: hand a, cats b, texture c, vase a b, next b c. Effects: add next a c, delete vase a b.",
            "Action sip(a,b,c): Preconditions: hand a, cats b, texture c, next a c, next b c. Effects: add vase a b, delete next a c.",
            "Action clip(a,b,c): Preconditions: hand a, sneeze b, texture c, next b c, next a c. Effects: add vase a b, delete next a c.",
            "Action wretched(a,b,c,d): Preconditions: sneeze a, texture b, texture c, stupendous d, next a b, collect b d, collect c d. Effects: add next a c, delete next a b.",
            "Action memory(a,b,c): Preconditions: cats a, spring b, spring c, next a b. Effects: add next a c, delete next a b.",
            "Action tightfisted(a,b,c): Preconditions: hand a, sneeze b, texture c, next b c, vase a b. Effects: add next a c, delete vase a b.",
            "Scenario A initial facts: cats object_0; collect object_5 object_1; collect object_6 object_2; hand object_7; hand object_8; next object_0 object_6; next object_3 object_5; next object_4 object_6; next object_7 object_6; next object_8 object_5; sneeze object_3; sneeze object_4; spring object_5; spring object_6; stupendous object_1; stupendous object_2; texture object_5; texture object_6.",
            "Scenario A goal: next object_7 object_6 and next object_8 object_6.",
            "Scenario A provided plan: memory object_0 object_6 object_5; sip object_8 object_0 object_5; memory object_0 object_5 object_6; paltry object_8 object_0 object_6.",
            "Scenario B initial facts: cats object_0; collect object_5 object_1; collect object_6 object_2; hand object_7; hand object_8; next object_0 object_6; next object_3 object_5; next object_4 object_6; next object_7 object_6; next object_8 object_6; sneeze object_3; sneeze object_4; spring object_5; spring object_6; stupendous object_1; stupendous object_2; texture object_5; texture object_6.",
            "Scenario B goal: next object_7 object_5 and next object_8 object_5."
        ]
    },
    "workflow": {
        "domain_modeler": {
            "lift": {
                "input": [],
                "output": "lifted_domain_model",
                "system_prompt": "You are a planning domain modeler. Convert the public action rules into a concise, lifted domain catalog: list predicates with arities, define each action schema with named parameters and preconditions and effects, state parameter conventions, and list objects. Do not output PDDL; produce a structured, unambiguous catalog suitable for compilation.",
                "prompt": "Your name is domain_modeler. Use the environment public information to produce a lifted domain catalog that captures the six actions and all predicates with exact spellings. Ensure parameter roles match the described preconditions and effects and include an object roster: {environment->init->objects}. Focus on clarity and internal consistency without emitting PDDL."
            }
        },
        "state_builder": {
            "build_s1": {
                "input": [
                    "lifted_domain_model"
                ],
                "output": "problem_instance_s1",
                "system_prompt": "You are a problem instance builder. From the domain catalog, extract the exact initial facts and goals for Scenario A and return them as a grounded fact set with the same symbols and arities, plus the object list.",
                "prompt": "Your name is state_builder. Using the lifted domain model and environment public information, construct the Scenario A instance: list objects, initial facts, and conjunctive goals exactly as stated. Do not invent facts or simplify; keep the symbols and object names as-is."
            },
            "build_s2": {
                "input": [
                    "lifted_domain_model"
                ],
                "output": "problem_instance_s2",
                "system_prompt": "You are a problem instance builder. From the domain catalog, extract the exact initial facts and goals for Scenario B and return them as a grounded fact set with the same symbols and arities, plus the object list.",
                "prompt": "Your name is state_builder. Using the lifted domain model and environment public information, construct the Scenario B instance: list objects, initial facts, and conjunctive goals exactly as stated. Do not invent facts or simplify; keep the symbols and object names as-is."
            }
        },
        "plan_sketcher": {
            "validate_plan_s1": {
                "input": [
                    "lifted_domain_model",
                    "problem_instance_s1"
                ],
                "output": "validated_plan_s1",
                "system_prompt": "You validate plans by checking each step's preconditions and applying effects to the evolving state, producing a causal trace and final state comparison with the goal.",
                "prompt": "Your name is plan_sketcher. Validate the provided Scenario A plan step by step against the Scenario A initial facts and goal, using the lifted domain model. Output a causal trace that includes for each step the satisfied preconditions, the applied add and delete effects, and whether the goal holds at the end."
            },
            "assess_plan_s2": {
                "input": [
                    "lifted_domain_model",
                    "problem_instance_s2"
                ],
                "output": "s2_feasibility_assessment",
                "system_prompt": "You assess feasibility without fabricating rules: if necessary preconditions cannot be achieved from the initial state under the domain rules, state unsatisfiable with reasons rooted in precondition reachability.",
                "prompt": "Your name is plan_sketcher. Analyze Scenario B for solvability under the lifted domain model and the given initial facts. Identify any missing enablers or invariants that block the goal and conclude whether the instance appears solvable or unsatisfiable given the rules."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "lifted_domain_model",
                    "problem_instance_s1",
                    "problem_instance_s2",
                    "validated_plan_s1",
                    "s2_feasibility_assessment"
                ],
                "output": "audited_consistency_report",
                "system_prompt": "You audit temporal and causal consistency. You do not allow bookkeeping shortcuts such as quota tokens or post-hoc penalties; you only accept transitions licensed by preconditions and effects. You verify symbol spelling, arities, and delete-list usage.",
                "prompt": "Your name is consistency_auditor. Audit the lifted model, both scenario instances, and the Scenario A validation for consistency, highlighting any symbol mismatches, unreachable preconditions, or invariants. Explicitly flag if Scenario B appears unsatisfiable under the given collect and texture constraints. Provide a clean report."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "lifted_domain_model",
                    "problem_instance_s1",
                    "problem_instance_s2",
                    "audited_consistency_report",
                    "validated_plan_s1",
                    "s2_feasibility_assessment"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert with multi-agent planning integration. Produce a final PDDL domain and problem files targeting the Fast Downward solver. Always enclose the PDDL domain between <domain></domain> tags and each PDDL problem between <problem></problem> tags. Use STRIPS-compatible constructs with explicit predicates, action schemas with add and delete effects, and an object type such as obj. Ensure symbol names match the lifted catalog exactly and the objects list contains object_0 through object_8.",
                "prompt": "Integrate the lifted domain model, the two grounded scenarios, and the audit report. Emit one PDDL domain and two PDDL problem instances: Scenario A (using its initial facts and goals) and Scenario B (using its initial facts and goals). Preserve exact predicate and action names: hand, cats, sneeze, spring, stupendous, texture, next, vase, collect, and actions paltry, sip, clip, wretched, memory, tightfisted. Use a single type obj with objects object_0 to object_8. Ensure effects include both additions and deletions as specified. The output must include one <domain> block followed by two <problem> blocks, suitable for Fast Downward."
            }
        },
        "constraints": [
            "domain_modeler.lift->state_builder.build_s1",
            "domain_modeler.lift->state_builder.build_s2",
            "state_builder.build_s1->plan_sketcher.validate_plan_s1",
            "state_builder.build_s2->plan_sketcher.assess_plan_s2",
            "domain_modeler.lift->plan_sketcher.validate_plan_s1",
            "domain_modeler.lift->plan_sketcher.assess_plan_s2",
            "domain_modeler.lift->consistency_auditor.audit",
            "state_builder.build_s1->consistency_auditor.audit",
            "state_builder.build_s2->consistency_auditor.audit",
            "plan_sketcher.validate_plan_s1->consistency_auditor.audit",
            "plan_sketcher.assess_plan_s2->consistency_auditor.audit",
            "domain_modeler.lift->orchestrator.compile_pddl",
            "state_builder.build_s1->orchestrator.compile_pddl",
            "state_builder.build_s2->orchestrator.compile_pddl",
            "consistency_auditor.audit->orchestrator.compile_pddl",
            "plan_sketcher.validate_plan_s1->orchestrator.compile_pddl",
            "plan_sketcher.assess_plan_s2->orchestrator.compile_pddl"
        ]
    }
}