{
    "name": "MysteryBlocksworld23",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "spec_miner",
            "state_builder",
            "consistency_auditor",
            "orchestrator"
        ],
        "spec_miner": {
            "private_information": [
                "I specialize in extracting structured action schemas, predicates, and typing from informal descriptions.",
                "I avoid generating PDDL; I only produce a normalized, implementation-agnostic schema."
            ],
            "goal": "Produce a faithful and unambiguous action schema capturing parameters, preconditions, add effects, and delete effects for all actions in the environment."
        },
        "state_builder": {
            "private_information": [
                "I compile initial states and goal conditions into normalized sets of ground facts.",
                "I ensure that object universes and predicate signatures are consistent across scenarios."
            ],
            "goal": "Construct complete object sets, initial facts, and goal facts for each scenario without inventing missing facts."
        },
        "consistency_auditor": {
            "private_information": [
                "I audit temporal and causal consistency, detect invalid shortcuts, and flag bookkeeping tricks such as quota tokens or post-hoc penalties.",
                "I validate plans against preconditions and effects step by step and report causal links, threats, and violations."
            ],
            "goal": "Verify that the provided plan for scenario A satisfies all action preconditions at each step, and produce clear, actionable corrections if not."
        },
        "orchestrator": {
            "private_information": [
                "I integrate the structured schema, states, and audit to produce the final planning artifacts.",
                "I target the FastDownward solver and will output a single PDDL domain and a single PDDL problem for scenario B."
            ],
            "goal": "Synthesize a correct PDDL domain for all actions and a PDDL problem for scenario B so that FastDownward can search for a plan."
        }
    },
    "environment": {
        "init": {
            "types": [
                "obj"
            ],
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8",
                "object_9",
                "object_10",
                "object_11",
                "object_12",
                "object_13"
            ],
            "predicates": [
                "cats ?x",
                "hand ?x",
                "sneeze ?x",
                "spring ?x",
                "stupendous ?x",
                "texture ?x",
                "next ?x ?y",
                "collect ?x ?y",
                "vase ?x ?y"
            ],
            "actions": {
                "paltry": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand ?x",
                        "cats ?y",
                        "texture ?z",
                        "vase ?x ?y",
                        "next ?y ?z"
                    ],
                    "add_effects": [
                        "next ?x ?z"
                    ],
                    "del_effects": [
                        "vase ?x ?y"
                    ]
                },
                "sip": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand ?x",
                        "cats ?y",
                        "texture ?z",
                        "next ?x ?z",
                        "next ?y ?z"
                    ],
                    "add_effects": [
                        "vase ?x ?y"
                    ],
                    "del_effects": [
                        "next ?x ?z"
                    ]
                },
                "clip": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand ?x",
                        "sneeze ?y",
                        "texture ?z",
                        "next ?y ?z",
                        "next ?x ?z"
                    ],
                    "add_effects": [
                        "vase ?x ?y"
                    ],
                    "del_effects": [
                        "next ?x ?z"
                    ]
                },
                "wretched": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z",
                        "?w"
                    ],
                    "preconditions": [
                        "sneeze ?x",
                        "texture ?y",
                        "texture ?z",
                        "stupendous ?w",
                        "next ?x ?y",
                        "collect ?y ?w",
                        "collect ?z ?w"
                    ],
                    "add_effects": [
                        "next ?x ?z"
                    ],
                    "del_effects": [
                        "next ?x ?y"
                    ]
                },
                "memory": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "cats ?x",
                        "spring ?y",
                        "spring ?z",
                        "next ?x ?y"
                    ],
                    "add_effects": [
                        "next ?x ?z"
                    ],
                    "del_effects": [
                        "next ?x ?y"
                    ]
                },
                "tightfisted": {
                    "parameters": [
                        "?x",
                        "?y",
                        "?z"
                    ],
                    "preconditions": [
                        "hand ?x",
                        "sneeze ?y",
                        "texture ?z",
                        "next ?y ?z",
                        "vase ?x ?y"
                    ],
                    "add_effects": [
                        "next ?x ?z"
                    ],
                    "del_effects": [
                        "vase ?x ?y"
                    ]
                }
            }
        },
        "public_information": [
            "You can act on objects using six actions: paltry, sip, clip, wretched, memory, tightfisted.",
            "Action paltry(x,y,z) requires hand x, cats y, texture z, vase x y, next y z; it adds next x z and removes vase x y.",
            "Action sip(x,y,z) requires hand x, cats y, texture z, next x z, next y z; it adds vase x y and removes next x z.",
            "Action clip(x,y,z) requires hand x, sneeze y, texture z, next y z, next x z; it adds vase x y and removes next x z.",
            "Action wretched(x,y,z,w) requires sneeze x, texture y, texture z, stupendous w, next x y, collect y w, collect z w; it adds next x z and removes next x y.",
            "Action memory(x,y,z) requires cats x, spring y, spring z, next x y; it adds next x z and removes next x y.",
            "Action tightfisted(x,y,z) requires hand x, sneeze y, texture z, next y z, vase x y; it adds next x z and removes vase x y.",
            "Scenario A aims to reach next object_11 object_7 and next object_12 object_8.",
            "Scenario B aims to reach next object_12 object_10 and next object_13 object_9.",
            "All objects are untyped beyond a single universal type obj."
        ],
        "scenarios": {
            "scenario_A": {
                "objects": [
                    "object_0",
                    "object_1",
                    "object_2",
                    "object_3",
                    "object_4",
                    "object_5",
                    "object_6",
                    "object_7",
                    "object_8",
                    "object_9",
                    "object_10",
                    "object_11",
                    "object_12"
                ],
                "initial_facts": [
                    "cats object_0",
                    "collect object_10 object_2",
                    "collect object_5 object_1",
                    "collect object_6 object_1",
                    "collect object_7 object_1",
                    "collect object_8 object_2",
                    "collect object_9 object_2",
                    "hand object_11",
                    "hand object_12",
                    "next object_0 object_8",
                    "next object_11 object_6",
                    "next object_12 object_10",
                    "next object_3 object_7",
                    "next object_4 object_10",
                    "sneeze object_3",
                    "sneeze object_4",
                    "spring object_5",
                    "spring object_8",
                    "stupendous object_1",
                    "stupendous object_2",
                    "texture object_10",
                    "texture object_5",
                    "texture object_6",
                    "texture object_7",
                    "texture object_8",
                    "texture object_9"
                ],
                "goal_facts": [
                    "next object_11 object_7",
                    "next object_12 object_8"
                ],
                "plan": [
                    "clip object_12 object_4 object_10",
                    "wretched object_4 object_10 object_8 object_2",
                    "tightfisted object_12 object_4 object_8",
                    "wretched object_3 object_7 object_6 object_1",
                    "clip object_11 object_3 object_6",
                    "wretched object_3 object_6 object_7 object_1",
                    "tightfisted object_11 object_3 object_7"
                ]
            },
            "scenario_B": {
                "objects": [
                    "object_0",
                    "object_1",
                    "object_2",
                    "object_3",
                    "object_4",
                    "object_5",
                    "object_6",
                    "object_7",
                    "object_8",
                    "object_9",
                    "object_10",
                    "object_11",
                    "object_12",
                    "object_13"
                ],
                "initial_facts": [
                    "cats object_0",
                    "cats object_1",
                    "collect object_10 object_3",
                    "collect object_11 object_3",
                    "collect object_6 object_2",
                    "collect object_7 object_2",
                    "collect object_8 object_2",
                    "collect object_9 object_3",
                    "hand object_12",
                    "hand object_13",
                    "next object_0 object_9",
                    "next object_1 object_9",
                    "next object_12 object_11",
                    "next object_13 object_7",
                    "next object_4 object_8",
                    "next object_5 object_11",
                    "sneeze object_4",
                    "sneeze object_5",
                    "spring object_6",
                    "spring object_9",
                    "stupendous object_2",
                    "stupendous object_3",
                    "texture object_10",
                    "texture object_11",
                    "texture object_6",
                    "texture object_7",
                    "texture object_8",
                    "texture object_9"
                ],
                "goal_facts": [
                    "next object_12 object_10",
                    "next object_13 object_9"
                ],
                "plan": []
            }
        }
    },
    "workflow": {
        "spec_miner": {
            "analyze": {
                "input": [],
                "output": "schema_spec",
                "system_prompt": "You are a schema analyst. Extract a normalized, implementation-agnostic action model from the environment description. Do not produce PDDL; produce a compact JSON with keys: types, predicates, actions where each action has name, parameters, preconditions, add_effects, del_effects. Do not invent preconditions or effects not stated.",
                "prompt": "Your role is spec_miner. Use the public information and the action descriptions to produce a normalized JSON schema of the planning domain. Keep parameter names positional (e.g., ?x, ?y, ?z, ?w) and use the single type obj. Public information: {environment->public_information}. Use the canonical predicate names listed in the environment."
            }
        },
        "state_builder": {
            "construct": {
                "input": [],
                "output": "scenario_states",
                "system_prompt": "You convert textual scenario descriptions into structured initial states and goals without emitting PDDL. Ensure consistency of object universes and predicates and keep facts ground and fully specified.",
                "prompt": "Your role is state_builder. Build a structured JSON with keys: objects, scenario_A, scenario_B. For each scenario include initial_facts and goal_facts arrays that exactly mirror the environment scenarios without modification. Also include the union of all objects. Scenario A: {environment->scenarios->scenario_A}. Scenario B: {environment->scenarios->scenario_B}."
            }
        },
        "consistency_auditor": {
            "audit": {
                "input": [
                    "schema_spec",
                    "scenario_states"
                ],
                "output": "causal_audit",
                "system_prompt": "You audit temporal and causal consistency, forbidding bookkeeping shortcuts such as quota tokens or post-hoc penalties. You validate that each action in a plan has its preconditions supported by prior facts and effects, track causal links, list threats, and flag violations. Output a JSON report only.",
                "prompt": "Your name is consistency_auditor. Validate the Scenario A plan step by step against the schema and initial facts. Report JSON with keys: valid (boolean), step_findings (array of per-step objects including satisfied and missing preconditions and net effects), causal_links (array), threats (array), violations (array), and recommendations (array). Use inputs schema_spec and scenario_states. Scenario A plan: {environment->scenarios->scenario_A->plan}."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "schema_spec",
                    "scenario_states",
                    "causal_audit"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems. Produce a single PDDL domain and a single PDDL problem targeting the FastDownward solver. Always enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Use a single type obj. Use STRIPS-style preconditions and effects matching the provided schema. The problem must correspond to Scenario B.",
                "prompt": "Integrate the normalized schema, states, and audit to produce final PDDL. Domain: include predicates cats, hand, sneeze, spring, stupendous, texture, next, collect, vase and actions paltry, sip, clip, wretched, memory, tightfisted with preconditions and effects exactly as in schema_spec. Problem: target Scenario B from scenario_states, include all objects and initial_facts, and set goal_facts as the goal. Ignore any plan from Scenario A except for insights in causal_audit. Inputs follow. Schema: {schema_spec}. States: {scenario_states}. Audit: {causal_audit}. Output a valid PDDL domain and problem suitable for FastDownward."
            }
        },
        "constraints": [
            "spec_miner.analyze->consistency_auditor.audit",
            "state_builder.construct->consistency_auditor.audit",
            "spec_miner.analyze->orchestrator.compile_pddl",
            "state_builder.construct->orchestrator.compile_pddl",
            "consistency_auditor.audit->orchestrator.compile_pddl"
        ]
    }
}