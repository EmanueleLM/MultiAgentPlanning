{
    "name": "MysteryBlocksworld3",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "domain_analyst",
            "state_builder",
            "plan_validator",
            "auditor",
            "orchestrator"
        ],
        "domain_analyst": {
            "private_information": [
                "I translate natural-language action descriptions into a clean symbolic action model.",
                "I preserve exact predicate and action names without inventing new symbols.",
                "I do not emit PDDL; I return a concise structured action model for others to use."
            ],
            "goal": "Extract an accurate action model with parameters, preconditions, add effects, and delete effects for all actions described in the public information."
        },
        "state_builder": {
            "private_information": [
                "I assemble concrete planning instances from narrative statements.",
                "I identify available objects, initial facts, and goal facts per instance.",
                "I do not emit PDDL; I return normalized instances consumable by downstream tools."
            ],
            "goal": "Build two instances (id=1 and id=2) that capture objects, initial states, goals, and any provided candidate plans."
        },
        "plan_validator": {
            "private_information": [
                "I check temporal and causal consistency of plans against the action model.",
                "I perform step-by-step precondition checking, add/delete application, and state progression.",
                "I do not emit PDDL; I return a validation report with any inconsistencies and a grounded trace."
            ],
            "goal": "Validate the provided plan for instance 1 and report whether it achieves the goals from the given initial state; also provide insights for instance 2 even if no plan is provided."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency across instances and analyses.",
                "I remove bookkeeping shortcuts such as quota tokens or post-hoc penalties and reject unsupported world-state manipulations.",
                "I normalize facts, flag contradictions, and recommend corrections while preserving the original semantics."
            ],
            "goal": "Produce an audit report that reconciles the action model, instances, and validation results; optionally suggest sanitized adjustments that remove bookkeeping shortcuts and maintain causal soundness."
        },
        "orchestrator": {
            "private_information": [
                "I integrate model, instances, validations, and audits into a final solvable artifact.",
                "I target the Fast Downward (FastDownwards) planner and ensure STRIPS-compatible domains and problems.",
                "I keep the final symbols faithful to the shared action model and instances."
            ],
            "goal": "Produce a final PDDL domain and two PDDL problem files (for instances 1 and 2) compatible with Fast Downward, ensuring exact predicate and action names and correct initial states and goals."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8",
                "object_9"
            ],
            "types": [
                "object"
            ]
        },
        "public_information": [
            "Available actions over objects: Paltry object_0 object_1 object_2; Sip object_0 object_1 object_2; Clip object_0 object_1 object_2; Wretched object_0 object_1 object_2 object_3; Memory object_0 object_1 object_2; Tightfisted object_0 object_1 object_2.",
            "Action paltry parameters: paltry ?a ?b ?c. Preconditions: hand ?a, cats ?b, texture ?c, vase ?a ?b, next ?b ?c. Add effects: next ?a ?c. Delete effects: vase ?a ?b.",
            "Action sip parameters: sip ?a ?b ?c. Preconditions: hand ?a, cats ?b, texture ?c, next ?a ?c, next ?b ?c. Add effects: vase ?a ?b. Delete effects: next ?a ?c.",
            "Action clip parameters: clip ?a ?b ?c. Preconditions: hand ?a, sneeze ?b, texture ?c, next ?b ?c, next ?a ?c. Add effects: vase ?a ?b. Delete effects: next ?a ?c.",
            "Action wretched parameters: wretched ?a ?b ?c ?d. Preconditions: sneeze ?a, texture ?b, texture ?c, stupendous ?d, next ?a ?b, collect ?b ?d, collect ?c ?d. Add effects: next ?a ?c. Delete effects: next ?a ?b.",
            "Action memory parameters: memory ?a ?b ?c. Preconditions: cats ?a, spring ?b, spring ?c, next ?a ?b. Add effects: next ?a ?c. Delete effects: next ?a ?b.",
            "Action tightfisted parameters: tightfisted ?a ?b ?c. Preconditions: hand ?a, sneeze ?b, texture ?c, next ?b ?c, vase ?a ?b. Add effects: next ?a ?c. Delete effects: vase ?a ?b.",
            "[STATEMENT 1] Initial facts: cats object_0; collect object_5 object_1; collect object_6 object_2; hand object_7; hand object_8; next object_0 object_6; next object_3 object_5; next object_4 object_6; next object_7 object_6; next object_8 object_6; sneeze object_3; sneeze object_4; spring object_5; spring object_6; stupendous object_1; stupendous object_2; texture object_5; texture object_6. Goal facts: next object_7 object_5; next object_8 object_5.",
            "[STATEMENT 1] Candidate plan: sip object_8 object_0 object_6; sip object_7 object_0 object_6; memory object_0 object_6 object_5; paltry object_8 object_0 object_5; paltry object_7 object_0 object_5.",
            "[STATEMENT 2] Initial facts: cats object_0; cats object_1; collect object_6 object_2; collect object_7 object_3; hand object_8; hand object_9; next object_0 object_6; next object_1 object_6; next object_4 object_6; next object_5 object_7; next object_8 object_7; next object_9 object_7; sneeze object_4; sneeze object_5; spring object_6; spring object_7; stupendous object_2; stupendous object_3; texture object_6; texture object_7. Goal facts: next object_8 object_7; next object_9 object_6.",
            "[STATEMENT 2] No candidate plan is provided."
        ]
    },
    "workflow": {
        "domain_analyst": {
            "extract_action_model": {
                "input": [],
                "output": "action_model",
                "system_prompt": "You are a symbolic modeling expert. From the public information, extract each action with its parameters and the exact preconditions, add effects, and delete effects. Preserve the exact predicate and action names and their arities. Do not emit PDDL. Output a concise JSON action model suitable for compilation by others.",
                "prompt": "Your name is domain_analyst. Use the public information {environment->public_information}. Identify actions paltry, sip, clip, wretched, memory, tightfisted. For each action, list parameters as variables ?a, ?b, ?c, ?d of type object; list preconditions, add effects, and delete effects exactly as given; do not infer extra predicates; return a compact JSON object named action_model."
            }
        },
        "state_builder": {
            "build_instances": {
                "input": [],
                "output": "instances",
                "system_prompt": "You construct planning instances from narrative statements without inventing missing facts. You enumerate objects, initial facts, and goals, and carry through any provided candidate plans. Do not emit PDDL.",
                "prompt": "Your name is state_builder. From {environment->public_information}, build two instances: instance 1 with objects object_0..object_9, the listed initial facts and goals, and the provided candidate plan; instance 2 with objects object_0..object_9, the listed initial facts and goals, and no plan. Return a JSON object named instances with fields objects, predicates, instance_1, instance_2, where each instance includes initial_facts, goals, and candidate_plan if available."
            }
        },
        "plan_validator": {
            "validate_plan_1": {
                "input": [
                    "action_model",
                    "instances"
                ],
                "output": "validation_report",
                "system_prompt": "You validate a candidate plan by forward simulation using the action model. You check preconditions at each step, apply add and delete effects, and record the evolved state. You do not emit PDDL.",
                "prompt": "Your name is plan_validator. Using {action_model} and {instances}, validate the candidate plan for instance 1. Produce a step-by-step trace listing at each step the grounded action, whether preconditions hold, state differences (adds and deletes), and the resulting state summary. Conclude with whether all goals are satisfied. For instance 2, provide a brief feasibility note identifying which actions could contribute to the goals from the given initial state."
            }
        },
        "auditor": {
            "audit_consistency": {
                "input": [
                    "action_model",
                    "instances",
                    "validation_report"
                ],
                "output": "audit_report",
                "system_prompt": "You audit temporal and causal consistency and remove bookkeeping shortcuts. You do not alter semantics but you flag or eliminate unsupported devices such as quota tokens or post-hoc penalties and ensure only stated predicates are used. You may recommend minor sanitizations like ordering clarifications or redundant fact pruning.",
                "prompt": "Your name is auditor. Review {action_model}, {instances}, and {validation_report}. Check that all actions use only declared predicates and that effects are consistent with preconditions. Identify any contradictions or unreachable steps in the candidate plan. Remove bookkeeping shortcuts if any are present and propose a sanitized action model or instance adjustments if necessary. Return an audit_report with findings, recommended_sanitizations, and a final_ok flag."
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "action_model",
                    "instances",
                    "audit_report"
                ],
                "output": "pddl_fd",
                "system_prompt": "You are an expert PDDL compiler targeting the Fast Downward (FastDownwards) solver. Integrate the action model, instances, and audit to produce a single STRIPS-compatible typed domain and two separate problem files. Use only the predicates mentioned: cats, hand, sneeze, spring, stupendous, collect, texture, vase, next. Use type object and declare objects object_0..object_9. Keep action names paltry, sip, clip, wretched, memory, tightfisted with exact preconditions and effects and explicit delete lists. Do not invent additional predicates or types. Output using the following framing: enclose the domain within <domain></domain> and provide two problem files enclosed within separate <problem id=\"1\"></problem> and <problem id=\"2\"></problem> tags. Ensure each problem uses the corresponding initial facts and goals from the instances.",
                "prompt": "Integrate {action_model}, {instances}, and {audit_report}. Produce the final PDDL domain and two PDDL problems for Fast Downward exactly as instructed in the system prompt. Use the same symbol names as provided in the public information. Do not include commentary outside the required tags."
            }
        },
        "constraints": [
            "domain_analyst.extract_action_model->plan_validator.validate_plan_1",
            "state_builder.build_instances->plan_validator.validate_plan_1",
            "domain_analyst.extract_action_model->auditor.audit_consistency",
            "state_builder.build_instances->auditor.audit_consistency",
            "plan_validator.validate_plan_1->auditor.audit_consistency",
            "domain_analyst.extract_action_model->orchestrator.compile_pddl",
            "state_builder.build_instances->orchestrator.compile_pddl",
            "auditor.audit_consistency->orchestrator.compile_pddl"
        ]
    }
}