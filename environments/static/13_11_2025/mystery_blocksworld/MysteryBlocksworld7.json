{
    "name": "MysteryBlocksworld7",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "domain_modeler",
            "instance_curator",
            "consistency_auditor",
            "plan_generator",
            "orchestrator"
        ],
        "domain_modeler": {
            "private_information": [
                "Expert at extracting clean operator schemas and predicate catalogs from informal specs",
                "Ensures operator names, parameters, preconditions, add effects, and delete effects are normalized and unambiguous"
            ],
            "goal": "Transform the provided human specification into a precise catalog of predicates and grounded operator schemas without emitting PDDL."
        },
        "instance_curator": {
            "private_information": [
                "Curates object universes and compiles initial states and goals for each scenario",
                "Avoids inventing facts or objects not present in the statements"
            ],
            "goal": "Produce faithful, lossless, scenario-specific instances capturing objects, initial facts, and goals from the human specification."
        },
        "consistency_auditor": {
            "private_information": [
                "Audits temporal and causal consistency across steps",
                "Detects and removes bookkeeping shortcuts such as quota tokens, post-hoc penalties, or implicit assumption jumps"
            ],
            "goal": "Validate the provided plan for Scenario A against preconditions and effects and produce a clear audit report and causal links, removing any bookkeeping shortcuts."
        },
        "plan_generator": {
            "private_information": [
                "Generates grounded action sequences from operator schemas and instances",
                "Respects strict precondition satisfaction and effect application order"
            ],
            "goal": "Draft a valid action sequence for Scenario B that achieves the stated goals without introducing extra predicates or operators."
        },
        "orchestrator": {
            "private_information": [
                "Specialized in compiling final PDDL artifacts compatible with the FastDownward solver",
                "Integrates schemas, instances, audits, and optional candidate plans into a coherent domain and problem set"
            ],
            "goal": "Produce the final PDDL domain and two PDDL problem files (Scenario A and Scenario B) targeting the FastDownward solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 8,
            "visibility": 2
        },
        "public_information": [
            "Predicates used in this domain: hand(x), cats(x), sneeze(x), spring(x), stupendous(x), texture(x), next(x,y), collect(x,y), vase(x,y).",
            "Action paltry(o0,o1,o2) with preconditions: hand o0, cats o1, texture o2, vase o0 o1, next o1 o2; add effects: next o0 o2; delete effects: vase o0 o1.",
            "Action sip(o0,o1,o2) with preconditions: hand o0, cats o1, texture o2, next o0 o2, next o1 o2; add effects: vase o0 o1; delete effects: next o0 o2.",
            "Action clip(o0,o1,o2) with preconditions: hand o0, sneeze o1, texture o2, next o1 o2, next o0 o2; add effects: vase o0 o1; delete effects: next o0 o2.",
            "Action wretched(o0,o1,o2,o3) with preconditions: sneeze o0, texture o1, texture o2, stupendous o3, next o0 o1, collect o1 o3, collect o2 o3; add effects: next o0 o2; delete effects: next o0 o1.",
            "Action memory(o0,o1,o2) with preconditions: cats o0, spring o1, spring o2, next o0 o1; add effects: next o0 o2; delete effects: next o0 o1.",
            "Action tightfisted(o0,o1,o2) with preconditions: hand o0, sneeze o1, texture o2, next o1 o2, vase o0 o1; add effects: next o0 o2; delete effects: vase o0 o1.",
            "Scenario A initial facts: cats object_0, cats object_1, collect object_6 object_2, collect object_7 object_2, collect object_8 object_3, collect object_9 object_3, hand object_10, next object_0 object_8, next object_1 object_6, next object_10 object_9, next object_4 object_6, next object_5 object_9, sneeze object_4, sneeze object_5, spring object_6, spring object_8, stupendous object_2, stupendous object_3, texture object_6, texture object_7, texture object_8, texture object_9.",
            "Scenario A goal: next object_10 object_6.",
            "Scenario A proposed plan: clip object_10 object_5 object_9; wretched object_5 object_9 object_8 object_3; tightfisted object_10 object_5 object_8; sip object_10 object_0 object_8; memory object_0 object_8 object_6; paltry object_10 object_0 object_6.",
            "Scenario B initial facts: cats object_0, collect object_5 object_1, collect object_6 object_1, collect object_7 object_2, collect object_8 object_2, hand object_10, hand object_9, next object_0 object_7, next object_10 object_5, next object_3 object_5, next object_4 object_8, next object_9 object_8, sneeze object_3, sneeze object_4, spring object_5, spring object_7, stupendous object_1, stupendous object_2, texture object_5, texture object_6, texture object_7, texture object_8.",
            "Scenario B goal: next object_10 object_5 and next object_9 object_7.",
            "Objects referenced across scenarios: object_0, object_1, object_2, object_3, object_4, object_5, object_6, object_7, object_8, object_9, object_10."
        ]
    },
    "workflow": {
        "domain_modeler": {
            "extract_actions": {
                "input": [],
                "output": "action_library",
                "system_prompt": "You translate informal operator descriptions into a precise, implementation-agnostic action library. Do not emit PDDL. Normalize argument order, predicate usage, and list preconditions, add effects, and delete effects.",
                "prompt": "From the environment public information, extract the complete list of predicates and the six actions paltry, sip, clip, wretched, memory, tightfisted. Provide a compact JSON summary with for each action its name, parameters, preconditions, add effects, and delete effects, preserving the exact predicate names and argument positions."
            }
        },
        "instance_curator": {
            "compile_instance_a": {
                "input": [],
                "output": "instance_a",
                "system_prompt": "You curate scenario instances by listing the object universe, initial facts, and goal facts exactly as stated without inventing information.",
                "prompt": "Build Scenario A instance from the public information. Output a JSON object with keys: objects (array), init (array of atoms), goal (array of atoms). Use only the facts listed in Scenario A initial facts and Scenario A goal."
            },
            "compile_instance_b": {
                "input": [],
                "output": "instance_b",
                "system_prompt": "You curate scenario instances by listing the object universe, initial facts, and goal facts exactly as stated without inventing information.",
                "prompt": "Build Scenario B instance from the public information. Output a JSON object with keys: objects (array), init (array of atoms), goal (array of atoms). Use only the facts listed in Scenario B initial facts and Scenario B goal."
            }
        },
        "consistency_auditor": {
            "audit_scenario_a": {
                "input": [
                    "action_library",
                    "instance_a"
                ],
                "output": "audit_report_a",
                "system_prompt": "You audit temporal and causal consistency of plans. You must not alter the operator semantics. Remove bookkeeping shortcuts and flag any step where preconditions are not met given previous effects.",
                "prompt": "Using the action library and Scenario A instance, audit the provided plan step by step. For each step list required preconditions, whether they hold at that point, applied add and delete effects, and the resulting state deltas. Conclude with pass or fail and a minimal repair suggestion if needed. Do not emit PDDL."
            }
        },
        "plan_generator": {
            "draft_plan_b": {
                "input": [
                    "action_library",
                    "instance_b",
                    "audit_report_a"
                ],
                "output": "plan_b",
                "system_prompt": "You propose grounded action sequences that are executable under the given operator semantics and initial states. You do not emit PDDL.",
                "prompt": "Propose a valid grounded plan for Scenario B that achieves both goal facts. Use only the available six actions and predicates, and ensure each step's preconditions are satisfied. Return a JSON array of action strings like clip object_10 object_5 object_9."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "action_library",
                    "instance_a",
                    "instance_b",
                    "audit_report_a",
                    "plan_b"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL for the FastDownward solver. You must produce one PDDL domain and two PDDL problem files. Always enclose the PDDL domain between <domain></domain> tags, and each PDDL problem between <problem></problem> tags. Use only the predicates and actions provided. Keep operator names and predicate names exactly as specified. Use STRIPS style and remain compatible with FastDownward.",
                "prompt": "Integrate the action library, Scenario A and B instances, the Scenario A audit report, and the candidate plan for Scenario B. Produce a single response containing: 1) one <domain>...</domain> defining predicates hand, cats, sneeze, spring, stupendous, texture, next, collect, vase and actions paltry, sip, clip, wretched, memory, tightfisted with the exact preconditions and effects; 2) one <problem>...</problem> for Scenario A using only the objects and facts from instance_a and the goal next object_10 object_6; 3) one <problem>...</problem> for Scenario B using only the objects and facts from instance_b and the conjunctive goal next object_10 object_5 and next object_9 object_7. Name the domain mystery-objects and the problems mystery-a and mystery-b. Ensure object symbols match exactly the instance objects, and do not invent new predicates or actions."
            }
        },
        "constraints": [
            "domain_modeler.extract_actions->consistency_auditor.audit_scenario_a",
            "instance_curator.compile_instance_a->consistency_auditor.audit_scenario_a",
            "domain_modeler.extract_actions->plan_generator.draft_plan_b",
            "instance_curator.compile_instance_b->plan_generator.draft_plan_b",
            "domain_modeler.extract_actions->orchestrator.synthesize_pddl",
            "instance_curator.compile_instance_a->orchestrator.synthesize_pddl",
            "instance_curator.compile_instance_b->orchestrator.synthesize_pddl",
            "consistency_auditor.audit_scenario_a->orchestrator.synthesize_pddl",
            "plan_generator.draft_plan_b->orchestrator.synthesize_pddl"
        ]
    }
}