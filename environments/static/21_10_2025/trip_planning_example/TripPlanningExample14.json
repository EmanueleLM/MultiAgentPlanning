{
    "name": "TripPlanningExample14",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "lyon_agent",
            "krakow_agent",
            "orchestrator"
        ],
        "lyon_agent": {
            "private_information": [
                "Prefer to spend 7 days in Lyon if possible",
                "Direct flights exist between Lyon and Frankfurt"
            ],
            "goal": "Contribute preferences and local constraints to build a feasible 10-day trip plan that uses only direct flights between cities."
        },
        "krakow_agent": {
            "private_information": [
                "Plan to stay in Krakow for 3 days",
                "There is an annual show in Krakow that must be attended from day 8 to day 10 inclusive",
                "Direct flights exist between Frankfurt and Krakow"
            ],
            "goal": "Contribute preferences and local constraints to build a feasible 10-day trip plan that uses only direct flights between cities."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate agents' information and produce a final PDDL domain and problem targeted to the FastDownwards solver to generate a feasible 10-day trip plan using only direct flights."
        }
    },
    "environment": {
        "init": {
            "total_days": 10,
            "cities": [
                "Lyon",
                "Frankfurt",
                "Krakow"
            ]
        },
        "public_information": [
            "You will visit three European cities over a total of 10 days.",
            "You may only commute between cities using direct flights.",
            "Direct flight connections: Lyon <-> Frankfurt, Frankfurt <-> Krakow.",
            "No direct flight exists between Lyon and Krakow.",
            "There is an annual show in Krakow from day 8 to day 10 that must be attended."
        ]
    },
    "workflow": {
        "lyon_agent": {
            "report": {
                "input": [],
                "output": "lyon_prefs",
                "system_prompt": "You are an agent representing preferences for Lyon. Provide clear, structured preferences, constraints, and any hard requirements related to visiting Lyon. Do not emit PDDL. Output should describe desired number of days, flexibility (if any), and connections you can use for travel.",
                "prompt": "You are lyon_agent. Use the public information about the trip and your private information to produce a concise report of preferences and constraints for Lyon. Describe preferred days in Lyon, any hard requirements or immovable constraints, and which direct flights you can take to arrive or depart. Do not produce PDDL. Label the output as the lyon_prefs artifact."
            }
        },
        "krakow_agent": {
            "report": {
                "input": [],
                "output": "krakow_prefs",
                "system_prompt": "You are an agent representing preferences for Krakow. Provide clear, structured preferences, constraints, and any hard requirements related to visiting Krakow. Do not emit PDDL. Output should describe required days (especially fixed events), flexibility (if any), and travel connections.",
                "prompt": "You are krakow_agent. Use the public information about the trip and your private information to produce a concise report of preferences and constraints for Krakow. Clearly state the days that must cover the annual show, the intended length of stay, and which direct flights you can take. Do not produce PDDL. Label the output as the krakow_prefs artifact."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "lyon_prefs",
                    "krakow_prefs"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL. Your job is to integrate the agents' preference reports and produce a complete PDDL domain and PDDL problem suitable for the FastDownwards planner. You must ensure the model enforces travel only on direct flights, assigns exactly 10 days across the itinerary, respects hard constraints (for example the Krakow show from day 8 to day 10), and resolve any numerical inconsistencies by prioritizing hard constraints and minimizing deviation from agents' preferences. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Indicate in a brief comment how you resolved any conflicts. Keep actions for traveling and staying distinct and include an explicit requirement to use FastDownwards (e.g., by using standard STRIPS/PDDL constructs compatible with FastDownwards).",
                "prompt": "You are orchestrator. You will receive the preference reports from the other agents: lyon_prefs and krakow_prefs. Integrate those reports with the public information about direct flights and total days to produce a PDDL domain and a PDDL problem that a FastDownwards solver can ingest. The PDDL must: model days as discrete steps 1..10, model travel actions that require direct flight links only, model stay actions at cities, enforce attendance at the Krakow show on days 8-10, and allocate exactly 10 days in the itinerary. If agents' preferences conflict with the total 10 days, resolve by enforcing hard constraints first (attendance at the show) and then attempting to satisfy preferences as much as possible. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Output the pddl domain and problem as pddl_orchestrator."
            }
        },
        "constraints": [
            "lyon_agent.report->orchestrator.pddl",
            "krakow_agent.report->orchestrator.pddl"
        ]
    }
}