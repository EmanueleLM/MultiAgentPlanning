{
    "name": "TripPlanningExample15",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "berlin_agent",
            "porto_agent",
            "krakow_agent",
            "orchestrator"
        ],
        "berlin_agent": {
            "private_information": [
                "City: Berlin",
                "Preferred stay: 6 days",
                "Direct flights available to Porto and Krakow"
            ],
            "goal": "Provide structured information about Berlin stay preferences to help build a feasible 11-day itinerary."
        },
        "porto_agent": {
            "private_information": [
                "City: Porto",
                "Preferred stay: 2 days",
                "Must attend a wedding between day 10 and day 11 (must be present in Porto at that time)",
                "Direct flight available to Berlin"
            ],
            "goal": "Provide structured information about Porto stay preferences and the wedding timing to help build a feasible 11-day itinerary."
        },
        "krakow_agent": {
            "private_information": [
                "City: Krakow",
                "Preferred stay: 5 days",
                "Direct flight available to Berlin"
            ],
            "goal": "Provide structured information about Krakow stay preferences to help build a feasible 11-day itinerary."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the city agents' preferences and constraints, resolve conflicts (if any), and produce a feasible itinerary for 11 days using only direct flights. Output a PDDL domain and PDDL problem targeted for the FastDownwards solver that encodes the chosen itinerary and constraints."
        }
    },
    "environment": {
        "init": {
            "total_days": 11,
            "cities": [
                "Berlin",
                "Porto",
                "Krakow"
            ],
            "direct_flights": [
                [
                    "Berlin",
                    "Porto"
                ],
                [
                    "Krakow",
                    "Berlin"
                ]
            ]
        },
        "public_information": [
            "You plan to visit 3 European cities for 11 days in total.",
            "Cities to visit: Berlin, Porto, Krakow.",
            "You only take direct flights to commute between cities.",
            "Direct flight connections: Berlin <-> Porto, Krakow <-> Berlin.",
            "Porto wedding occurs between day 10 and day 11 and must be attended.",
            "Preferred stays (may be conflicting): Berlin 6 days, Porto 2 days, Krakow 5 days."
        ]
    },
    "workflow": {
        "berlin_agent": {
            "info": {
                "input": [],
                "output": "info_berlin",
                "system_prompt": "You are an agent representing the travel preference for Berlin. Do NOT output PDDL. Provide a concise structured summary (as plain text or a small JSON-like structure) containing at least: city name, preferred_days (integer), any hard constraints (e.g., must_arrive_by, must_leave_by, must_be_present_on). Use the public information and your private information to fill the fields.",
                "prompt": "Your name is berlin_agent. Public information available:\n{environment->public_information}\nYour private information:\n{agents->berlin_agent->private_information}\nYour goal:\n{agents->berlin_agent->goal}\nProvide the structured summary required by the system prompt."
            }
        },
        "porto_agent": {
            "info": {
                "input": [],
                "output": "info_porto",
                "system_prompt": "You are an agent representing the travel preference for Porto. Do NOT output PDDL. Provide a concise structured summary (as plain text or a small JSON-like structure) containing at least: city name, preferred_days (integer), any hard constraints (e.g., must_arrive_by, must_leave_by, must_be_present_on). Explicitly indicate the requirement to be in Porto for the wedding between day 10 and day 11.",
                "prompt": "Your name is porto_agent. Public information available:\n{environment->public_information}\nYour private information:\n{agents->porto_agent->private_information}\nYour goal:\n{agents->porto_agent->goal}\nProvide the structured summary required by the system prompt."
            }
        },
        "krakow_agent": {
            "info": {
                "input": [],
                "output": "info_krakow",
                "system_prompt": "You are an agent representing the travel preference for Krakow. Do NOT output PDDL. Provide a concise structured summary (as plain text or a small JSON-like structure) containing at least: city name, preferred_days (integer), any hard constraints (e.g., must_arrive_by, must_leave_by, must_be_present_on).",
                "prompt": "Your name is krakow_agent. Public information available:\n{environment->public_information}\nYour private information:\n{agents->krakow_agent->private_information}\nYour goal:\n{agents->krakow_agent->goal}\nProvide the structured summary required by the system prompt."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "info_berlin",
                    "info_porto",
                    "info_krakow"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL. Your task is to integrate the structured summaries produced by the city agents and produce a complete PDDL domain and a PDDL problem file suitable for the FastDownwards planner. You MUST enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Represent days as discrete time steps 1..11. Encode travel actions that use only direct flights listed in the public information. Encode stay requirements so the itinerary assigns exactly one city per day and satisfies hard constraints (including being in Porto for the wedding between day 10 and day 11). If city preferred durations exceed the total available days, resolve by minimizing deviation from preferences while respecting hard constraints. Keep agent-related actions and predicates clearly namespaced where appropriate to avoid ambiguity.",
                "prompt": "You are orchestrator. Global goal:\n{agents->orchestrator->goal}\nPublic information:\n{environment->public_information}\nHere are the structured summaries from the city agents (may be partial or conflictual):\n{info_berlin}\n{info_porto}\n{info_krakow}\nIntegrate the information, resolve conflicts if necessary (but do not invent hard constraints), and output a PDDL domain and a PDDL problem that encode a feasible 11-day itinerary using only the available direct flights and satisfying the wedding constraint. Target the FastDownwards solver. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "berlin_agent.info->orchestrator.pddl",
            "porto_agent.info->orchestrator.pddl",
            "krakow_agent.info->orchestrator.pddl"
        ]
    }
}