{
    "name": "TripPlanningExample16",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "prague_agent",
            "vienna_agent",
            "porto_agent",
            "orchestrator"
        ],
        "prague_agent": {
            "private_information": [
                "Desires 3 days in Prague",
                "Must attend a workshop in Prague between day 1 and day 3",
                "Prague has direct flights to Vienna only"
            ],
            "goal": "Provide a structured availability and preference specification for Prague to help construct the trip plan."
        },
        "vienna_agent": {
            "private_information": [
                "Desires 3 days in Vienna",
                "Vienna has direct flights to Porto and Prague"
            ],
            "goal": "Provide a structured availability and preference specification for Vienna to help construct the trip plan."
        },
        "porto_agent": {
            "private_information": [
                "Desires 5 days in Porto",
                "Porto has direct flights to Vienna only"
            ],
            "goal": "Provide a structured availability and preference specification for Porto to help construct the trip plan."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the city specifications and produce a valid trip plan of 9 days using only direct flights. Emit a PDDL domain and problem targeting the FastDownwards solver that encodes the final schedule and travel actions."
        }
    },
    "environment": {
        "init": {
            "total_days": 9,
            "cities": [
                "Prague",
                "Vienna",
                "Porto"
            ]
        },
        "public_information": [
            "You will visit three cities over a total of 9 days.",
            "You may only take direct flights to commute between cities.",
            "Direct flight connections available are: Vienna<->Porto and Prague<->Vienna.",
            "There is a mandatory workshop that must be attended in Prague between day 1 and day 3."
        ]
    },
    "workflow": {
        "prague_agent": {
            "spec": {
                "input": [],
                "output": "spec_prague",
                "system_prompt": "You are an agent that provides structured preferences for visiting Prague. Do not produce PDDL. Provide the desired number of days, earliest possible start day, latest possible end day, and any mandatory events such as workshops. Return a small JSON fragment with keys days, earliest_start, latest_end, and mandatory_events.",
                "prompt": "Your name is prague_agent. Public information: {environment->public_information}. Your private information: {agents->prague_agent->private_information}. Global goal: visit cities within total of 9 days. Provide a structured JSON fragment with fields days, earliest_start, latest_end, and mandatory_events. If some values are underspecified, state them explicitly as null."
            }
        },
        "vienna_agent": {
            "spec": {
                "input": [],
                "output": "spec_vienna",
                "system_prompt": "You are an agent that provides structured preferences for visiting Vienna. Do not produce PDDL. Provide the desired number of days, earliest possible start day, latest possible end day, and any constraints related to flights or sequence. Return a small JSON fragment with keys days, earliest_start, latest_end, and constraints.",
                "prompt": "Your name is vienna_agent. Public information: {environment->public_information}. Your private information: {agents->vienna_agent->private_information}. Global goal: visit cities within total of 9 days. Provide a structured JSON fragment with fields days, earliest_start, latest_end, and constraints. If some values are underspecified, state them explicitly as null."
            }
        },
        "porto_agent": {
            "spec": {
                "input": [],
                "output": "spec_porto",
                "system_prompt": "You are an agent that provides structured preferences for visiting Porto. Do not produce PDDL. Provide the desired number of days, earliest possible start day, latest possible end day, and any constraints related to flights or sequence. Return a small JSON fragment with keys days, earliest_start, latest_end, and constraints.",
                "prompt": "Your name is porto_agent. Public information: {environment->public_information}. Your private information: {agents->porto_agent->private_information}. Global goal: visit cities within total of 9 days. Provide a structured JSON fragment with fields days, earliest_start, latest_end, and constraints. If some values are underspecified, state them explicitly as null."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "spec_prague",
                    "spec_vienna",
                    "spec_porto"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL authoring targeting the FastDownwards planner. Integrate the structured city specifications into a single PDDL domain and a single PDDL problem. Ensure action names for travel and stay are distinct and compatible with FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are the orchestrator. You will receive structured specs from the city agents: {spec_prague}, {spec_vienna}, and {spec_porto}. Integrate them and resolve conflicts to produce a valid trip plan of exactly 9 days that uses only direct flights and respects the workshop constraint in Prague between day 1 and day 3. Map the schedule to a PDDL domain and a PDDL problem suitable for FastDownwards. Think step by step and return the PDDL domain and the PDDL problem. Enclose the domain between <domain></domain> and the problem between <problem></problem>."
            }
        },
        "constraints": [
            "prague_agent.spec->orchestrator.pddl",
            "vienna_agent.spec->orchestrator.pddl",
            "porto_agent.spec->orchestrator.pddl"
        ]
    }
}