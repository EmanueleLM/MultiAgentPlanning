{
    "name": "TripPlanningExample19",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "itinerary_planner",
            "flight_checker",
            "orchestrator"
        ],
        "itinerary_planner": {
            "private_information": [
                "I plan to stay in Brussels for 2 days",
                "I would like to visit Valencia for 3 days",
                "I want to spend 6 days in Nice",
                "Total available trip duration is 9 days"
            ],
            "goal": "Produce a proposed allocation of the 9 trip days across the requested cities consistent with direct flight constraints and the meeting constraint"
        },
        "flight_checker": {
            "private_information": [
                "Direct flights exist between Brussels and Valencia",
                "Direct flights exist between Nice and Brussels",
                "Only direct flights may be used to commute between cities"
            ],
            "goal": "Provide the set of feasible direct flight legs and possible sequences that allow visiting the requested cities under the direct flight constraint"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate agent information and produce a final PDDL domain and PDDL problem for FastDownwards that finds a valid 9 day trip itinerary using only direct flights and respecting the meeting constraint in Nice"
        }
    },
    "environment": {
        "init": {
            "total_days": 9
        },
        "public_information": [
            "You plan to visit three European cities for a total of 9 days",
            "Cities involved are Brussels, Valencia, and Nice",
            "You only take direct flights to commute between cities",
            "Desired stays reported: Brussels 2 days, Valencia 3 days, Nice 6 days",
            "You would like to meet your friends in Nice between day 1 and day 6",
            "Direct flight pairs: Brussels - Valencia, Nice - Brussels"
        ]
    },
    "workflow": {
        "itinerary_planner": {
            "analyze": {
                "input": [],
                "output": "itinerary_partial",
                "system_prompt": "You are an expert travel itinerary planner. Propose an allocation of the available trip days across the requested cities. Do not emit PDDL. If the requested stays exceed the total available days, propose a justified adjustment and mark remaining uncertainties for the orchestrator to resolve.",
                "prompt": "Agent name: itinerary_planner. Use the public information: {environment->public_information}. Use your private information: {agents->itinerary_planner->private_information}. Your goal: {agents->itinerary_planner->goal}. Provide a clear proposed day allocation per city, highlight any conflicts with the total days, and list any assumptions you make."
            }
        },
        "flight_checker": {
            "check": {
                "input": [],
                "output": "flights_available",
                "system_prompt": "You are an expert on flight connectivity. Provide feasible direct flight legs and feasible city-to-city sequences that respect the direct flight constraint. Do not emit PDDL. If a requested route is impossible by direct flights, indicate that and propose intermediary orders that respect only direct flights.",
                "prompt": "Agent name: flight_checker. Use the public information: {environment->public_information}. Use your private information: {agents->flight_checker->private_information}. Your goal: {agents->flight_checker->goal}. Provide the list of direct flight legs and any feasible sequences that would allow visiting all requested cities while using only direct flights. List any impossibilities."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "itinerary_partial",
                    "flights_available"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems. Your task is to integrate partial plans and connectivity data from other agents and produce a complete PDDL domain and PDDL problem suitable for the FastDownwards solver. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep agent actions distinct when representing multi-agent steps. Resolve conflicts and explicit assumptions where necessary.",
                "prompt": "You are the orchestrator. Integrate the outputs: {itinerary_partial} and {flights_available}. Your global goal is: {agents->orchestrator->goal}. Produce a PDDL domain and a PDDL problem that FastDownwards can solve. The domain must model days as discrete time steps from day 1 to day 9, model cities and direct flights as travel actions, model staying in a city as occupying days, and include the meeting constraint that the traveler meets friends in Nice on a day between day 1 and day 6. Make explicit any assumptions used to reconcile conflicting stay requests. Enclose the domain between <domain></domain> and the problem between <problem></problem>."
            }
        },
        "constraints": [
            "itinerary_planner.analyze->orchestrator.pddl",
            "flight_checker.check->orchestrator.pddl"
        ]
    }
}