{
    "name": "TripPlanningExample26",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "porto_planner",
            "berlin_planner",
            "reykjavik_planner",
            "orchestrator"
        ],
        "porto_planner": {
            "private_information": [
                "I want to stay in Porto for 7 days."
            ],
            "goal": "Propose which days (within a 16-day trip) I will occupy Porto and any arrival/departure constraints given only direct flights are allowed."
        },
        "berlin_planner": {
            "private_information": [
                "I want to stay in Berlin for 6 days."
            ],
            "goal": "Propose which days (within a 16-day trip) I will occupy Berlin and any arrival/departure constraints given only direct flights are allowed."
        },
        "reykjavik_planner": {
            "private_information": [
                "I want to stay in Reykjavik for 5 days.",
                "I must meet a friend in Reykjavik between day 12 and day 16 inclusive."
            ],
            "goal": "Propose which days (within a 16-day trip) I will occupy Reykjavik and ensure the meeting happens between day 12 and day 16. Proposals must respect direct-flight-only commuting."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the planners' proposals and produce a final PDDL domain and problem (FastDownwards-compatible) that schedules visits to Porto, Berlin, and Reykjavik over 16 days using only direct flights. Reconcile any duration conflicts and respect the Reykjavik meeting window."
        }
    },
    "environment": {
        "init": {
            "total_days": 16,
            "direct_flights_only": true
        },
        "public_information": [
            "Cities involved: Porto, Berlin, Reykjavik.",
            "Total trip length is 16 days.",
            "You may only use direct flights to commute between cities.",
            "Direct flight connections available: Berlin <-> Reykjavik, Porto <-> Berlin.",
            "No direct flight exists between Porto and Reykjavik."
        ]
    },
    "workflow": {
        "porto_planner": {
            "proposal": {
                "input": [],
                "output": "proposal_porto",
                "system_prompt": "You are a travel planner agent. Produce a clear, concise proposal describing which days (day indices 1..16) you would occupy Porto given your private information and the public constraints. Do not produce PDDL. Explain arrival day, departure day, and any constraints (e.g., must arrive via a direct flight connection). If you cannot fully decide because of missing information (other cities' ordering), state assumptions explicitly.",
                "prompt": "Your name is porto_planner. You have the following public information:\n{environment->public_information}\nYou have the following private information:\n{agents->porto_planner->private_information}\nThis is your goal:\n{agents->porto_planner->goal}\nProduce a proposal describing arrival day, departure day, and the days you will be in Porto. State any assumptions you make."
            }
        },
        "berlin_planner": {
            "proposal": {
                "input": [],
                "output": "proposal_berlin",
                "system_prompt": "You are a travel planner agent. Produce a clear, concise proposal describing which days (day indices 1..16) you would occupy Berlin given your private information and the public constraints. Do not produce PDDL. Explain arrival day, departure day, and any constraints (e.g., connectivity to Porto and Reykjavik via direct flights). If you cannot fully decide because of missing information, state assumptions explicitly.",
                "prompt": "Your name is berlin_planner. You have the following public information:\n{environment->public_information}\nYou have the following private information:\n{agents->berlin_planner->private_information}\nThis is your goal:\n{agents->berlin_planner->goal}\nProduce a proposal describing arrival day, departure day, and the days you will be in Berlin. State any assumptions you make."
            }
        },
        "reykjavik_planner": {
            "proposal": {
                "input": [],
                "output": "proposal_reykjavik",
                "system_prompt": "You are a travel planner agent. Produce a clear, concise proposal describing which days (day indices 1..16) you would occupy Reykjavik given your private information and the public constraints. Do not produce PDDL. Make sure your proposal ensures a meeting with a friend occurs between day 12 and day 16 inclusive. Explain arrival day, departure day, and any constraints. If you cannot fully decide because of missing information, state assumptions explicitly.",
                "prompt": "Your name is reykjavik_planner. You have the following public information:\n{environment->public_information}\nYou have the following private information:\n{agents->reykjavik_planner->private_information}\nThis is your goal:\n{agents->reykjavik_planner->goal}\nProduce a proposal describing arrival day, departure day, and the days you will be in Reykjavik. State how the meeting window is satisfied and list assumptions."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "proposal_porto",
                    "proposal_berlin",
                    "proposal_reykjavik"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems and target the FastDownwards planner. You must integrate the three planners' proposals and produce a single PDDL domain and a single PDDL problem compatible with FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep the actions of each city visit distinct (e.g., porto_visit, berlin_visit, reykjavik_visit) and model flights only on the direct connections given in the public information. If proposals conflict with the 16-day total, reconcile them by minimally adjusting stays while respecting the Reykjavik meeting window (day 12..16). Make no unsupported assumptions about new direct flights. Provide a complete domain and problem that solve the scheduling task.",
                "prompt": "You are the orchestrator. You have the following public information:\n{environment->public_information}\nYou have the following goal to solve:\n{agents->orchestrator->goal}\nHere are the proposals from the agents:\n{proposal_porto}\n{proposal_berlin}\n{proposal_reykjavik}\nIntegrate these proposals, resolve any inconsistencies (for example, total days exceeding 16), and produce a FastDownwards-compatible PDDL domain and PDDL problem that schedules the trip over 16 days using only the allowed direct flights. Enclose the domain in <domain></domain> and the problem in <problem></problem>."
            }
        },
        "constraints": [
            "porto_planner.proposal->orchestrator.pddl",
            "berlin_planner.proposal->orchestrator.pddl",
            "reykjavik_planner.proposal->orchestrator.pddl"
        ]
    }
}