{
    "name": "TripPlanningExample27",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "traveler",
            "flights",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "Total personal preferred stays: Santorini 3 days, Amsterdam 7 days, Istanbul 6 days",
                "Must visit relatives in Santorini between day 12 and day 14 (inclusive)",
                "Preference to take only direct flights between cities"
            ],
            "goal": "Find a feasible 14-day itinerary visiting Amsterdam, Istanbul, and Santorini consistent with my preferences and the direct-flight constraint."
        },
        "flights": {
            "private_information": [
                "Direct flight connections exist between Amsterdam and Santorini",
                "Direct flight connections exist between Istanbul and Amsterdam",
                "No direct flights between Istanbul and Santorini"
            ],
            "goal": "Provide a clear representation of the flight connectivity and the implications for feasible city-to-city commutes under the direct-flight-only constraint."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate traveler preferences and flight connectivity to produce a FastDownwards-compatible PDDL domain and problem that yields a valid 14-day trip plan using only direct flights."
        }
    },
    "environment": {
        "init": {
            "total_days": 14,
            "cities": [
                "Amsterdam",
                "Istanbul",
                "Santorini"
            ],
            "direct_flight_pairs": [
                [
                    "Amsterdam",
                    "Santorini"
                ],
                [
                    "Istanbul",
                    "Amsterdam"
                ]
            ],
            "direct_flights_only": true
        },
        "public_information": [
            "You will visit three European cities in a single trip spanning 14 days in total.",
            "Only direct flights are allowed for commuting between cities.",
            "Desired stays (preferences) reported by the traveler: Santorini 3 days, Amsterdam 7 days, Istanbul 6 days (these may need reconciliation with the 14 day total).",
            "Relatives must be visited in Santorini between day 12 and day 14 inclusive.",
            "Direct flight connections available: Amsterdam <-> Santorini, Istanbul <-> Amsterdam."
        ]
    },
    "workflow": {
        "traveler": {
            "analyze_preferences": {
                "input": [],
                "output": "traveler_preferences",
                "system_prompt": "You are an agent that captures the traveler's preferences, constraints, and hard windows for visits. Provide structured facts describing required stays per city, any hard-date windows, and which preferences are flexible versus mandatory. Do not generate PDDL.",
                "prompt": "Your name is traveler. You are given the public information: {environment->public_information}. You privately know: {agents->traveler->private_information}. Your goal: {agents->traveler->goal}. Produce a concise, structured list of facts: 1) required days per city (mark each as hard or soft), 2) mandatory date windows (if any), 3) any flexibility notes or trade-offs the orchestrator should consider. Output should be machine-friendly (e.g., JSON-like facts) and not PDDL."
            }
        },
        "flights": {
            "analyze_network": {
                "input": [],
                "output": "flight_connectivity",
                "system_prompt": "You are an agent that models available direct flights and the connectivity graph between cities. Provide a clear mapping of which ordered city-to-city direct flights are possible, and infer implications (e.g., which city sequences are feasible with only direct flights). Do not generate PDDL.",
                "prompt": "Your name is flights. You are given the public information: {environment->public_information}. You privately know: {agents->flights->private_information}. Your goal: {agents->flights->goal}. Produce a structured representation of direct connections (directed pairs if relevant), note whether round trips between any two cities require an intermediate stop, and list allowed adjacency transitions for itinerary construction. Provide this as machine-friendly facts."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "traveler_preferences",
                    "flight_connectivity"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL. Your job is to integrate the structured facts from the traveler and flights agents and produce a complete PDDL domain and a PDDL problem file suitable for solving with the FastDownwards planner. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Distinguish agent actions or make a single-agent temporal representation as appropriate, but ensure compatibility with FastDownwards. Resolve preference-vs-hard constraints explicitly in the problem definition.",
                "prompt": "You are orchestrator. You received these inputs: {traveler_preferences} and {flight_connectivity}. Your orchestrator goal is: {agents->orchestrator->goal}. Integrate the traveler's mandatory windows and preferred durations and the flight connectivity to create a PDDL domain and a PDDL problem that enforces: total trip length exactly 14 days, travel only via direct flights, Santorini must be visited for at least 3 days and include days 12 to 14, Amsterdam should be allocated 7 days if possible but may be adjusted to meet the 14-day total, and Istanbul should be scheduled accordingly. If preferences exceed the 14-day limit, encode them so the planner treats hard constraints as required and soft preferences as optimize-if-possible. Provide the final PDDL domain and problem, compatible with FastDownwards, with the domain enclosed in <domain></domain> and the problem enclosed in <problem></problem>."
            }
        },
        "constraints": [
            "traveler.analyze_preferences->orchestrator.pddl",
            "flights.analyze_network->orchestrator.pddl"
        ]
    }
}