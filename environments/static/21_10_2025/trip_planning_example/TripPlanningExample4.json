{
    "name": "TripPlanningExample4",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "traveler",
            "flights_manager",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "I plan to visit Tallinn for 2 days.",
                "I would like to visit Seville for 7 days.",
                "I plan to stay in Munich for 5 days.",
                "I want to meet a friend in Tallinn between day 11 and day 12."
            ],
            "goal": "Provide preferred visit durations and a candidate visit sequence that aims to satisfy a 12 day total trip while flagging any inconsistencies."
        },
        "flights_manager": {
            "private_information": [
                "Direct flights exist between Seville and Munich.",
                "Direct flights exist between Munich and Tallinn.",
                "There are no direct flights between Seville and Tallinn."
            ],
            "goal": "Provide the direct-flight connectivity graph and any notes about required flight legs to move between cities."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate agents' inputs and produce a final PDDL domain and PDDL problem for the FastDownwards planner that encodes a valid 12-day itinerary using only direct flights and satisfies the meeting constraint in Tallinn."
        }
    },
    "environment": {
        "init": {
            "total_days": 12,
            "cities": [
                "Tallinn",
                "Seville",
                "Munich"
            ],
            "visibility": 1
        },
        "public_information": [
            "You plan a 12 day trip across three cities: Tallinn, Seville and Munich.",
            "Only direct flights may be used to commute between cities.",
            "Direct flights exist between Seville and Munich and between Munich and Tallinn.",
            "Desired visit durations are provided by the traveler as private preferences and may conflict with the total trip length."
        ]
    },
    "workflow": {
        "traveler": {
            "propose_schedule": {
                "input": [],
                "output": "traveler_proposal",
                "system_prompt": "You are an expert at expressing traveler preferences and producing a human-readable proposed allocation of days and a candidate visit order. Do not emit PDDL. Evaluate your private preferences against the public information and the total trip length. If there is any inconsistency between preferred durations and the total trip length, flag the inconsistency and propose one or two reasonable adjustments to fit the 12 day limit. Also provide a proposed sequence of visits and the flight legs required between consecutive cities according to your understanding.",
                "prompt": "Your name is traveler. Here is the public context: {environment->public_information} Here is your private information: {agents->traveler->private_information} This is your local goal: {agents->traveler->goal} Provide a proposed allocation of days per city, a suggested visit order, the flight legs required between consecutive stops, and note any inconsistencies or assumptions you make."
            }
        },
        "flights_manager": {
            "provide_flights": {
                "input": [],
                "output": "flights_info",
                "system_prompt": "You are an expert on flight connectivity between the listed cities. Do not emit PDDL. Provide a clear description of direct flight connections, and for any pair of cities that lack a direct flight, specify the minimal sequence of direct legs required to travel between them.",
                "prompt": "Your name is flights_manager. Here is the public context: {environment->public_information} Here is your private information: {agents->flights_manager->private_information} This is your local goal: {agents->flights_manager->goal} Provide the direct-flight connectivity graph and, for each ordered pair of cities, specify whether a direct flight exists and if not provide the minimal sequence of direct legs required to travel between them."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "traveler_proposal",
                    "flights_info"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems targeting the FastDownwards planner. Integrate information from other agents and produce a complete PDDL domain and a PDDL problem suitable for FastDownwards. Always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags. Keep the actions of distinct agents conceptually separate where relevant and document any resolution of inconsistencies. The produced PDDL must model days, city stay durations, direct-flight-only travel constraints, and the meeting constraint in Tallinn. If you must choose an interpretation for an ambiguous requirement, choose a valid one and state it briefly inside comments in the PDDL problem file.",
                "prompt": "There are multiple agent inputs to integrate. You will receive a traveler's proposed allocation and visit order and a flights manager's direct-flight connectivity data. Your orchestrator goal is: {agents->orchestrator->goal} Here is the traveler's proposal: {traveler_proposal} Here is the flights data: {flights_info} Build a PDDL domain and PDDL problem that encode the following key constraints: the itinerary must cover exactly {environment->init->total_days} days, stays in each city must match the chosen allocation of days, only direct flights allowed for commuting between consecutive visits, and the traveler must be in Tallinn on day 11 or day 12 to meet their friend (document which day you choose). Ensure the PDDL is compatible with FastDownwards and enclose the domain and problem using <domain></domain> and <problem></problem> tags."
            }
        },
        "constraints": [
            "traveler.propose_schedule->orchestrator.pddl",
            "flights_manager.provide_flights->orchestrator.pddl"
        ]
    }
}