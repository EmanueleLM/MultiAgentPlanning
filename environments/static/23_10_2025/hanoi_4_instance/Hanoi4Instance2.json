{
    "name": "Hanoi4Instance2",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "left_peg",
            "middle_peg",
            "right_peg",
            "orchestrator"
        ],
        "left_peg": {
            "private_information": [
                "I am the left peg",
                "I hold disks from top to bottom: A, B, C, D"
            ],
            "goal": "Report my local disk order and legal moves to help solve the Tower of Hanoi instance."
        },
        "middle_peg": {
            "private_information": [
                "I am the middle peg",
                "I hold no disks"
            ],
            "goal": "Report my local disk order and legal moves to help solve the Tower of Hanoi instance."
        },
        "right_peg": {
            "private_information": [
                "I am the right peg",
                "I hold no disks"
            ],
            "goal": "Report my local disk order and legal moves to help solve the Tower of Hanoi instance."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate peg reports and produce a PDDL domain and problem targeting the FastDownward solver that solves the 4-disk Tower of Hanoi instance."
        }
    },
    "environment": {
        "init": {
            "num_disks": 4,
            "peg_names": [
                "left",
                "middle",
                "right"
            ]
        },
        "public_information": [
            "Classic Tower of Hanoi puzzle with three pegs named left middle and right.",
            "There are 4 disks labeled A B C D from smallest A to largest D.",
            "Legal moves: move one disk at a time and never place a larger disk on top of a smaller one.",
            "Initial configuration: left peg has top to bottom A B C D. Middle peg is empty. Right peg is empty.",
            "Goal configuration: right peg must have top to bottom A B C D. Left and middle pegs empty."
        ]
    },
    "workflow": {
        "left_peg": {
            "describe_state": {
                "input": [],
                "output": "state_left",
                "system_prompt": "You are a peg agent. Provide a concise structured description of your local disk stack from top to bottom and the legal moves available from your peg. Do not emit PDDL.",
                "prompt": "Your name is left_peg. You are in an environment with the following public information: {environment->public_information} You have the following knowledge: {agents->left_peg->private_information} Your goal: {agents->left_peg->goal} Provide a structured report of your local state suitable for an orchestrator to build a global PDDL problem."
            }
        },
        "middle_peg": {
            "describe_state": {
                "input": [],
                "output": "state_middle",
                "system_prompt": "You are a peg agent. Provide a concise structured description of your local disk stack from top to bottom and the legal moves available from your peg. Do not emit PDDL.",
                "prompt": "Your name is middle_peg. You are in an environment with the following public information: {environment->public_information} You have the following knowledge: {agents->middle_peg->private_information} Your goal: {agents->middle_peg->goal} Provide a structured report of your local state suitable for an orchestrator to build a global PDDL problem."
            }
        },
        "right_peg": {
            "describe_state": {
                "input": [],
                "output": "state_right",
                "system_prompt": "You are a peg agent. Provide a concise structured description of your local disk stack from top to bottom and the legal moves available from your peg. Do not emit PDDL.",
                "prompt": "Your name is right_peg. You are in an environment with the following public information: {environment->public_information} You have the following knowledge: {agents->right_peg->private_information} Your goal: {agents->right_peg->goal} Provide a structured report of your local state suitable for an orchestrator to build a global PDDL problem."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "state_left",
                    "state_middle",
                    "state_right"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in PDDL and in preparing problems for the FastDownward solver. Using the peg state reports you will produce a complete PDDL domain and a PDDL problem that models the 4-disk Tower of Hanoi instance. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. The PDDL must be compatible with FastDownward and must model legal moves and disk size constraints.",
                "prompt": "You are orchestrator. You will receive structured state reports from three peg agents as inputs: {state_left} {state_middle} {state_right} Use the public information: {environment->public_information} and the agent reports to build a complete PDDL domain and a PDDL problem that achieves the global goal: move all disks so the right peg has top to bottom A B C D and left and middle pegs are empty. Keep agent contributions distinct if needed. Think step by step and output the final PDDL domain and problem targeting FastDownward. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "left_peg.describe_state->orchestrator.pddl",
            "middle_peg.describe_state->orchestrator.pddl",
            "right_peg.describe_state->orchestrator.pddl"
        ]
    }
}