{
    "name": "TripPlanningExample25",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "traveler",
            "flight_checker",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "I plan to visit Valencia for 5 days",
                "I plan to visit Split for 7 days",
                "I plan to visit Lyon for 6 days",
                "Total trip length is 16 days",
                "Annual show in Split runs from day 10 to day 16",
                "I only take direct flights between cities"
            ],
            "goal": "Find a trip plan visiting Valencia, Lyon, and Split within 16 days using direct flights and ensure attending the show in Split from day 10 to day 16 if possible"
        },
        "flight_checker": {
            "private_information": [
                "Direct flights exist between Lyon and Split",
                "Direct flights exist between Valencia and Lyon",
                "There is no direct flight between Valencia and Split"
            ],
            "goal": "Provide the connectivity constraints as PDDL facts for direct flights and enable planning using only direct flights"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the PDDL knowledge from the other agents and produce a combined PDDL domain and problem targeting the FastDownward solver to plan the trip within constraints"
        }
    },
    "environment": {
        "init": {
            "trip_length_days": 16,
            "cities": [
                "Valencia",
                "Lyon",
                "Split"
            ],
            "flight_rules": "Only direct flights allowed"
        },
        "public_information": [
            "There are three cities to visit: Valencia, Lyon, Split",
            "Total trip length available is 16 days",
            "You attend an annual show in Split that runs from day 10 to day 16",
            "Direct flights exist between Lyon and Split",
            "Direct flights exist between Valencia and Lyon",
            "There is no direct flight between Valencia and Split",
            "You must commute between cities using direct flights only"
        ]
    },
    "workflow": {
        "traveler": {
            "pddl": {
                "input": [],
                "output": "pddl_traveler",
                "system_prompt": "You are an expert with PDDL problems. You always provide a PDDL domain and a PDDL problem file to solve the task and target the FastDownward PDDL solver. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is traveler. You are in an environment with the following public information: {environment->public_information} You have the following knowledge: {agents->traveler->private_information} This is the global goal to solve: {agents->traveler->goal} Think step by step and provide a PDDL domain and a PDDL problem file to model the trip scheduling problem from the traveler's perspective. Encode stay durations per city as known facts if possible. If you miss some information or if durations exceed the total trip length, do not make assumptions about reducing days. Provide the PDDL fragment that represents the traveler's desired stays and temporal constraints. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "flight_checker": {
            "pddl": {
                "input": [],
                "output": "pddl_flight_checker",
                "system_prompt": "You are an expert with PDDL problems. You always provide a PDDL domain and a PDDL problem file to solve the task and target the FastDownward PDDL solver. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is flight_checker. You are in an environment with the following public information: {environment->public_information} You have the following knowledge: {agents->flight_checker->private_information} This is the global goal to solve: {agents->flight_checker->goal} Think step by step and provide a PDDL domain and a PDDL problem file that encodes the direct flight connectivity between cities as actions or facts. Ensure that flight actions are only present where direct flights exist. Do not assume extra connections. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_traveler",
                    "pddl_flight_checker"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems. You always provide a PDDL domain and a PDDL problem file to solve the task and target the FastDownward PDDL solver. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags. If there are multiple agents, you keep their actions distinct.",
                "prompt": "There are two agents in an environment that are planning to solve a task. You will receive their PDDL domains and problems. You have to orchestrate them to solve the following task: {agents->orchestrator->goal} Keep in mind that the PDDL they send you may be partial or contain ambiguities. A partial PDDL may partially solve a planning problem, but it may require integrating additional information from the other PDDL to achieve the goal. Ambiguities may appear in different forms for example two PDDL problems may refer to the same object with different names. Here is the information the first agent has and its PDDL response: {pddl_traveler} Here is the information the second agent has and its PDDL response: {pddl_flight_checker} You need to integrate the PDDL responses of the two agents to solve the task. It is important that you keep the actions of the two agents distinct. If the combined constraints are infeasible for the total trip length, detect and report infeasibility and if possible provide an adjusted feasible allocation of days per city that respects direct flight constraints and the show attendance window. Think step by step and provide a PDDL domain and a PDDL problem file that models the full trip planning problem suitable for FastDownward. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "traveler.pddl->orchestrator.pddl",
            "flight_checker.pddl->orchestrator.pddl"
        ]
    }
}