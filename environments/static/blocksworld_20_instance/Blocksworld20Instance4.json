{
    "name": "Blocksworld20Instance4",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "manipulator1",
            "manipulator2",
            "orchestrator"
        ],
        "manipulator1": {
            "private_information": [
                "You are one of two manipulators responsible for executing a subsequence of the actions.",
                "You are assigned to simulate and report the effect of the odd-numbered actions from the provided action sequence."
            ],
            "goal": "Simulate and report the resulting partial block configuration after executing your assigned actions, using only the public information and your assigned actions."
        },
        "manipulator2": {
            "private_information": [
                "You are one of two manipulators responsible for executing a subsequence of the actions.",
                "You are assigned to simulate and report the effect of the even-numbered actions from the provided action sequence."
            ],
            "goal": "Simulate and report the resulting partial block configuration after executing your assigned actions, using only the public information and your assigned actions."
        },
        "orchestrator": {
            "private_information": [
                "You receive the partial simulated outcomes from both manipulators and must integrate them."
            ],
            "goal": "Integrate the manipulators' reports and produce a complete PDDL domain and PDDL problem file suitable for the FastDownwards planner that encodes the final arrangement of the blocks. Also produce a concise final statement of the final arrangement mapping each block to either table or the block it is on."
        }
    },
    "environment": {
        "init": {
            "grid_size": 0,
            "visibility": 1,
            "blocks": [
                "A",
                "B",
                "C",
                "D",
                "E",
                "F",
                "G"
            ]
        },
        "public_information": [
            "This is a standard Blocks World with the following constraints: only the top block of a stack can be moved and only one block can be carried at a time.",
            "Blocks present are A, B, C, D, E, F, G.",
            "Initial arrangement facts: on(A,G). on(B,E). on(C,B). on(D,table). on(E,table). on(F,D). on(G,C).",
            "Top and availability constraints are standard: a block is clear if nothing is on it. Pickup is only possible from table for a clear block. Unstack is only possible if the block is clear and the block below exists. Putdown places a block on the table. Stack places a block onto another clear block.",
            "The full action sequence to execute in order is the following list: 1 unstack(F,D), 2 stack(F,A), 3 unstack(F,A), 4 stack(F,A), 5 pickup(D), 6 putdown(D), 7 unstack(F,A), 8 putdown(F), 9 pickup(F), 10 stack(F,A), 11 pickup(D), 12 putdown(D), 13 unstack(F,A), 14 stack(F,D), 15 unstack(F,D), 16 stack(F,D), 17 unstack(F,D), 18 putdown(F), 19 pickup(D), 20 stack(D,F)."
        ]
    },
    "workflow": {
        "manipulator1": {
            "analysis": {
                "input": [],
                "output": "plan_manipulator1",
                "system_prompt": "You are an agent that simulates blocks world actions assigned to you. Use the public information to simulate only your assigned odd-numbered actions. Do not produce PDDL here. Return a concise structured report of the state changes you produce and the resulting relations on(block, support) and ontable(block) after your actions.",
                "prompt": "Your name is manipulator1. You are assigned to execute and simulate the odd-numbered actions from the provided sequence. Use the public information about the initial state and blocks. The odd-numbered actions you must simulate are: 1 unstack(F,D), 3 unstack(F,A), 5 pickup(D), 7 unstack(F,A), 9 pickup(F), 11 pickup(D), 13 unstack(F,A), 15 unstack(F,D), 17 unstack(F,D), 19 pickup(D). Simulate them in order. If an action is illegal given prior steps, report the conflict and stop simulation at that point. Provide the resulting set of relations as a list such as on(A X) or ontable(X) and which blocks are clear."
            }
        },
        "manipulator2": {
            "analysis": {
                "input": [],
                "output": "plan_manipulator2",
                "system_prompt": "You are an agent that simulates blocks world actions assigned to you. Use the public information to simulate only your assigned even-numbered actions. Do not produce PDDL here. Return a concise structured report of the state changes you produce and the resulting relations on(block, support) and ontable(block) after your actions.",
                "prompt": "Your name is manipulator2. You are assigned to execute and simulate the even-numbered actions from the provided sequence. Use the public information about the initial state and blocks. The even-numbered actions you must simulate are: 2 stack(F,A), 4 stack(F,A), 6 putdown(D), 8 putdown(F), 10 stack(F,A), 12 putdown(D), 14 stack(F,D), 16 stack(F,D), 18 putdown(F), 20 stack(D,F). Simulate them in order. If an action is illegal given prior steps, report the conflict and stop simulation at that point. Provide the resulting set of relations as a list such as on(A X) or ontable(X) and which blocks are clear."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "plan_manipulator1",
                    "plan_manipulator2"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent integration and PDDL modeling for FastDownwards. You will receive two structured simulation reports from manipulators. Integrate them, resolve any conflicts, and produce a correct final PDDL domain and PDDL problem suitable for the FastDownwards planner that encodes the final block arrangement. Enclose the PDDL domain between <domain> and </domain> tags and the PDDL problem between <problem> and </problem> tags. Also include a short human readable mapping of final positions for each block after the PDDL problem.",
                "prompt": "You are the orchestrator. You receive the simulation outputs from manipulator1 and manipulator2. Use the public information initial state and the ordered action sequence to reconcile their reports. Produce a PDDL domain and a PDDL problem for FastDownwards that models only the final arrangement of the blocks. Keep actions of the two manipulators distinct if you include agent actions, but it is sufficient to provide a single-agent domain that describes the final state as a planning problem. Provide the PDDL domain and problem and then state the final arrangement for each block as on(block, support) or ontable(block)."
            }
        },
        "constraints": [
            "manipulator1.analysis->orchestrator.pddl",
            "manipulator2.analysis->orchestrator.pddl"
        ]
    },
    "constraints": []
}