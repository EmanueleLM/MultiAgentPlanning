{
    "name": "BlocksworldEasyScaling0",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "Disk A is smaller than B.",
                "Disk B is smaller than C.",
                "Disk C is smaller than D."
            ],
            "goal": "Generate a planning solution for moving all four disks from the middle peg to the right peg, obeying all Tower of Hanoi rules."
        },
        "auditor": {
            "private_information": [
                "The core constraints involve ensuring (on-top-of ?small ?large) where ?small is smaller than ?large, or (clear ?peg)."
            ],
            "goal": "Audit the planner's proposed PDDL solution for temporal and causal consistency, specifically ensuring no larger disk is placed on a smaller one."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Finalize the audited PDDL plan into a deliverable format ready for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "num_disks": 4,
            "pegs": [
                "L",
                "M",
                "R"
            ],
            "disk_sizes": [
                "A",
                "B",
                "C",
                "D"
            ]
        },
        "public_information": [
            "This is a Tower of Hanoi problem involving 4 disks (A, B, C, D, where A is smallest and D is largest) and 3 pegs (L, M, R).",
            "Initial State: Disk D is at the bottom of peg M, followed by C, B, and A on top. Pegs L and R are empty.",
            "Goal State: Disk D is at the bottom of peg R, followed by C, B, and A on top. Pegs L and M are empty.",
            "Rules: Only one disk can be moved at a time. Only the top disk of any stack can be moved. A larger disk may never be placed on a smaller disk."
        ]
    },
    "workflow": {
        "planner": {
            "pddl_generation": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner. You are solving the Tower of Hanoi puzzle. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following knowledge:\n{agents->planner->private_information}\nThis is the global goal to solve:\n{agents->planner->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file that models and solves this task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "pddl_review": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_audited_plan",
                "system_prompt": "You are an expert PDDL auditor focused on temporal and causal consistency. Your primary role is to verify if the planning rules (domain) and state definitions (problem) accurately reflect the physical constraints of the task, specifically avoiding bookkeeping shortcuts or implicit assumptions.",
                "prompt": "Your name is auditor. Your goal is to:\n{agents->auditor->goal}\nHere is the PDDL generated by the planner:\n{pddl_initial_plan}\nReview the domain and problem definition for the Tower of Hanoi puzzle. Ensure that the 'move' action strictly enforces that only the smallest disk on a stack can be moved, and that a larger disk is NEVER placed on a smaller disk, consistent with the public rules:\n{environment->public_information}\nIf necessary, correct the PDDL domain or problem. Provide the final, consistent PDDL domain and problem.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl_finalize": {
                "input": [
                    "pddl_audited_plan"
                ],
                "output": "pddl_final_solution",
                "system_prompt": "You are an expert PDDL orchestrator, preparing solutions for deterministic solvers like FastDownwards. You ensure the input PDDL is complete, valid, and adheres to standard PDDL requirements.",
                "prompt": "Your name is orchestrator. You have received the audited PDDL solution for the Tower of Hanoi problem:\n{pddl_audited_plan}\nYour task is to:\n{agents->orchestrator->goal}\nEnsure the PDDL structures are correct and ready for execution. Output the final PDDL domain and problem.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl_generation->auditor.pddl_review",
            "auditor.pddl_review->orchestrator.pddl_finalize"
        ]
    }
}