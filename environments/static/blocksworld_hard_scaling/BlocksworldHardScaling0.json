{
    "name": "BlocksworldHardScaling0",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "robot_arm",
            "auditor",
            "orchestrator"
        ],
        "robot_arm": {
            "private_information": [
                "I must follow the classic Blocks World rules strictly when defining the PDDL domain."
            ],
            "goal": "Achieve the specified final stacking configuration (R on O, Y on R) using PDDL planning."
        },
        "auditor": {
            "private_information": [
                "The core task is based on classical Blocks World logistics.",
                "Verify that the 'robot_arm' PDDL domain correctly implements all preconditions and effects described in the task description."
            ],
            "goal": "Audit the PDDL generated by the robot_arm for logical consistency and adherence to the physical constraints described."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the planning output and the consistency audit to produce the final, validated PDDL environment specification and problem instance for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 0,
            "visibility": 0
        },
        "public_information": [
            "The task involves stacking four blocks: Blue (B), Orange (O), Yellow (Y), and Red (R).",
            "Initial State: The Blue block is clear. The hand is empty. B is on O. O is on Y. Y is on R. R is on the table.",
            "Goal State: Red block is on top of the Orange block, and the Yellow block is on top of the Red block.",
            "Action Constraint 1: Only one block can be picked up/unstacked at a time.",
            "Action Constraint 2: Pick up/unstack requires an empty hand.",
            "Action Constraint 3 (Pick Up): Block must be on the table and clear (no blocks on top, not being held).",
            "Action Constraint 4 (Unstack): Block being unstacked must truly be on the supporting block, and the unstacked block must be clear.",
            "Action Effect 1 (Pick Up/Unstack): Result in holding the block.",
            "Action Constraint 5 (Put Down/Stack): Requires holding the block.",
            "Action Constraint 6 (Stack): The block onto which stacking occurs must be clear.",
            "Action Effect 2 (Put Down/Stack): Result in the hand becoming empty.",
            "Action Effect 3 (Stack): The supporting block is no longer clear."
        ]
    },
    "workflow": {
        "robot_arm": {
            "pddl": {
                "input": [],
                "output": "pddl_robot_arm",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must define a PDDL domain and a PDDL problem file that precisely models the classic Blocks World problem description provided by the user. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your task is to model the Blocks World planning problem. Follow these constraints provided in the environment:\n{environment->public_information}\nYour goal is:\n{agents->robot_arm->goal}\nDefine the objects (blocks, table, hand), predicates (clear, on, holding, handempty), and four actions (pick-up, unstack, put-down, stack) according to the rules.\nThink step by step and provide the complete PDDL domain and problem files required to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_robot_arm"
                ],
                "output": "review_auditor",
                "system_prompt": "You are an expert auditor specializing in PDDL consistency checks. Your role is to ensure the provided PDDL domain and problem specification strictly adheres to all constraints and initial conditions described in the task specification, especially focusing on preconditions and effects of actions.",
                "prompt": "You need to audit the PDDL files provided by the robot_arm agent. Ensure the generated domain accurately reflects all the Blocks World rules and the problem correctly sets up the initial state and goal condition described in the environment context.\n{agents->auditor->private_information}\n\nAgent PDDL output to audit:\n{pddl_robot_arm}\n\nIf the PDDL is correct and consistent, state 'AUDIT PASSED'. If you find inconsistencies or deviations from the rules (e.g., incorrect preconditions for 'unstack' or 'stack', or inaccurate initial state definition), describe the error and provide corrected PDDL components (only the domain or problem sections that need fixing). Do not provide bookkeeping shortcuts or token quotas."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_robot_arm",
                    "review_auditor"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert orchestrator and PDDL finalizer. Your task is to combine the original PDDL plan and the audit review result, confirming or applying necessary corrections to produce the final, unified PDDL domain and problem instance optimized for FastDownwards planning.",
                "prompt": "The robot_arm provided a PDDL plan, and the auditor verified its consistency against the Blocks World rules.\n\nRobot Arm PDDL:\n{pddl_robot_arm}\n\nAuditor Review:\n{review_auditor}\n\nAnalyze the audit result. If the audit passed, use the robot_arm's PDDL. If corrections were suggested, integrate them to form the final, correct PDDL domain and problem for solving the goal:\n{agents->orchestrator->goal}\n\nEnclose the final PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "robot_arm.pddl->auditor.review",
            "robot_arm.pddl->orchestrator.pddl",
            "auditor.review->orchestrator.pddl"
        ]
    }
}