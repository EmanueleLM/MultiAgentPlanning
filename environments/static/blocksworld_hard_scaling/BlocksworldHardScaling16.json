{
    "name": "BlocksworldHardScaling16",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "block_planner",
            "verifier",
            "orchestrator"
        ],
        "block_planner": {
            "private_information": [
                "The core constraints of Blocksworld must be strictly followed.",
                "The blocks are: blue, red, orange, and yellow."
            ],
            "goal": "Arrange the blocks so that the blue block is on top of the yellow block and the orange block is on top of the red block."
        },
        "verifier": {
            "private_information": [],
            "goal": "Audit the generated plan for temporal and causal consistency, ensuring all Blocksworld constraints are met and no illegal shortcuts are taken."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final, unified PDDL domain and problem specification that solves the Blocksworld task."
        }
    },
    "environment": {
        "init": {
            "blocks": [
                "blue",
                "red",
                "orange",
                "yellow"
            ],
            "initial_state": [
                "The blue block is clear.",
                "The hand is empty.",
                "The red block is on top of the orange block.",
                "The blue block is on top of the yellow block.",
                "The yellow block is on top of the red block.",
                "The orange block is on the table."
            ]
        },
        "public_information": [
            "This is a Blocksworld problem involving four blocks: blue, red, orange, and yellow.",
            "The available actions are: Pick up a block (from table), Unstack a block (from another block), Put down a block (onto table), Stack a block (onto another block).",
            "Constraints: Only one block can be held at a time. A block can only be moved if it is clear. A block can only be stacked onto another block if the destination block is clear."
        ]
    },
    "workflow": {
        "block_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your task is to model the Blocksworld problem. Define the necessary objects, predicates, and four actions (pick-up, unstack, put-down, stack) based on standard Blocksworld constraints derived from the public information. Use the following initial state descriptions:\n{environment->init->initial_state}\nAnd the following global goal:\n{agents->block_planner->goal}\nThink step by step and and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "verifier": {
            "audit": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_audit_feedback",
                "system_prompt": "You are an expert auditor specializing in validating PDDL solutions for complex planning problems, ensuring temporal/causal consistency and strict adherence to stated Blocksworld constraints.",
                "prompt": "You have received a PDDL solution proposal from the block_planner. Your goal is to verify if the domain accurately reflects the Blocksworld constraints and if the problem definition (initial state and goal) is correctly transcribed from the environment description. Pay special attention to the consistency of the initial stacked configuration: {environment->init->initial_state}. If the PDDL looks sound and complete, state 'PDDL verified: OK'. If you find logical flaws, inconsistencies, or violations of causal rules, describe them and propose specific corrections to the Domain or Problem definitions. Here is the received plan:\n{pddl_initial_plan}"
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_initial_plan",
                    "pddl_audit_feedback"
                ],
                "output": "pddl_final_solution",
                "system_prompt": "You are an expert orchestrator for planning tasks, responsible for integrating plans and feedback to generate the final, solver-ready PDDL files. You must prioritize the use of the FastDownwards solver and ensure the output is a unified, correct PDDL domain and problem.",
                "prompt": "The primary agent proposed a PDDL plan, and a verifier provided feedback. Integrate the initial plan {pddl_initial_plan} and the feedback {pddl_audit_feedback} to create the final PDDL domain and problem that solves the Blocksworld task defined by the goals and initial state. Ensure the final PDDL is optimized and strictly adheres to standard PDDL syntax targeting the FastDownwards solver.\nThink step by step and provide the final PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "block_planner.pddl->verifier.audit",
            "verifier.audit->orchestrator.pddl"
        ]
    }
}