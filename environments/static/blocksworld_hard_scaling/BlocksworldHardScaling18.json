{
    "name": "BlocksworldHardScaling18",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [],
            "goal": "Generate a PDDL representation (domain and problem) to solve the Blocksworld stacking challenge as described."
        },
        "auditor": {
            "private_information": [],
            "goal": "Review the PDDL domain and problem generated by the planner for logical, temporal, and causal consistency against the provided Blocksworld rules and initial state, ensuring all actions preconditions and effects are correctly defined."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the reviewed PDDL solution to present the final, validated PDDL domain and problem for execution by a solver like FastDownwards."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 0
        },
        "public_information": [
            "This is a Blocksworld task involving blocks Orange (O), Yellow (Y), Red (R), and Blue (B).",
            "Available actions: pick_up, unstack, put_down, stack.",
            "A block is clear if nothing is on it and it is not being held.",
            "Preconditions for pick_up(X): hand_empty, clear(X), on_table(X). Must hold exactly one block.",
            "Preconditions for unstack(X, Y): hand_empty, clear(X), on(X, Y). Must hold exactly one block.",
            "Preconditions for put_down(X): holding(X). Hand becomes empty.",
            "Preconditions for stack(X, Y): holding(X), clear(Y). Hand becomes empty, Y is no longer clear.",
            "Initial State: The set of true predicates is: clear(orange), clear(yellow), hand_empty, on(red, blue), on(orange, red), on_table(blue), on_table(yellow).",
            "Goal State: The set of true predicates must include: on(red, orange), on(orange, yellow), on(yellow, blue)."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_planner",
                "system_prompt": "You are an expert PDDL planner for Blocksworld problems. You must generate a PDDL Domain and PDDL Problem file that accurately reflects the provided rules, initial state, and goal state.",
                "prompt": "Based on the following Blocksworld environment description:\n{environment->public_information}\nYour goal is:\n{agents->planner->goal}\nThink step by step, define the types (block, robot) and predicates (on, clear, holding, etc.) accurately, and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_planner"
                ],
                "output": "audit_report",
                "system_prompt": "You are a specialized auditor ensuring temporal and causal consistency in PDDL plans. Your task is to verify if the provided PDDL domain and problem correctly implement the Blocksworld rules and initial state defined in the public information. Focus specifically on ensuring preconditions and effects align perfectly with the restrictions described.",
                "prompt": "Review the PDDL provided below against the public Blocksworld rules:\nRules:\n{environment->public_information}\nPDDL to audit:\n{pddl_planner}\nProvide a detailed assessment of the consistency of the PDDL domain and problem file. If consistent, output 'AUDIT_PASS'. If inconsistent, specify the errors and output 'AUDIT_FAIL'."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_planner",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL integrator and finalizer, preparing planning outputs for the FastDownwards solver. Your primary function is to consolidate the proposed PDDL solution.",
                "prompt": "You have received the initial PDDL plan and domain from the planner, and an audit report. Ensure the resulting PDDL is complete, valid, and adheres to the Blocksworld constraints defined in the environment description.\nPlanner PDDL:\n{pddl_planner}\nAudit Report:\n{audit_report}\nIf the audit passed, finalize the PDDL solution for the Blocksworld task:\n{agents->orchestrator->goal}\nIf the audit failed, attempt to correct the PDDL based on the audit findings and the original constraints.\nProvide the final PDDL domain and a PDDL problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl->auditor.review",
            "planner.pddl->orchestrator.pddl",
            "auditor.review->orchestrator.pddl"
        ]
    }
}