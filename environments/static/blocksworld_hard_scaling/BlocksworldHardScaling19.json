{
    "name": "BlocksworldHardScaling19",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "Actions include: Pick up, Unstack, Put down, Stack.",
                "Constraints: Only pick up/unstack one block at a time. Hand must be empty to pick up/unstack. Pick up requires block to be on table and clear. Unstack requires block to be on top and clear. Holding state results from pick up/unstack. Put down/Stack requires holding. Stack requires target block to be clear. Hand becomes empty after put down/stack. Stacking makes the target block not clear."
            ],
            "goal": "Arrange the blocks (Blue, Yellow, Orange, Red) into the goal configuration: Red on Blue, Orange on Red, Yellow on Orange."
        },
        "auditor": {
            "private_information": [
                "I am responsible for checking temporal and causal consistency in the generated plan.",
                "I must ensure that all actions strictly adhere to the Blocksworld preconditions and effects (e.g., hand state, block clearance, block position).",
                "I must remove any non-standard bookkeeping shortcuts or extraneous concepts introduced by the planner."
            ],
            "goal": "Audit the PDDL plan generated by the planner to ensure logical coherence and strict adherence to standard Blocksworld constraints."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final validated PDDL domain and problem representing the solution to the Blocksworld puzzle for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 5,
            "visibility": 1
        },
        "public_information": [
            "There are four blocks: Blue (B), Yellow (Y), Orange (O), and Red (R).",
            "Initial State:",
            "Block B is clear.",
            "Block Y is clear.",
            "The hand is empty.",
            "B is on O, O is on R, and R is on the table.",
            "Y is on the table."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must define a Blocksworld domain that incorporates all provided action constraints, and a PDDL problem file to solve the task. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following knowledge regarding movement constraints:\n{agents->planner->private_information}\nThis is the global goal to solve:\n{agents->planner->goal}\nThink step by step and provide a valid PDDL domain and a PDDL problem file to solve the task, ensuring all rules regarding clearance, holding, and stacking are strictly enforced.\nIf you miss some information, do not make assumptions, just give a plan that concerns the information you have.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "pddl": {
                "input": [
                    "pddl_planner"
                ],
                "output": "pddl_auditor",
                "system_prompt": "You are an expert PDDL auditor focused on ensuring temporal and causal consistency in planning domains, especially for classic logistics problems like Blocksworld. You must verify that the planning domain correctly implements all preconditions and effects based on standard Blocksworld definitions.",
                "prompt": "Your name is auditor. You have received the following PDDL attempt from the planner:\n{pddl_planner}\nYour goal is:\n{agents->auditor->goal}\nBased on your private knowledge:\n{agents->auditor->private_information}\nReview the domain and problem definition for adherence to standard Blocksworld constraints (e.g., (clear X) maintenance, (holding X), (handempty)). Refine the PDDL if necessary to ensure the resulting PDDL is logically consistent and ready for the FastDownwards solver.\nThink step by step and provide the revised PDDL domain and PDDL problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_auditor"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL integrator and finalizer. You consolidate inputs and present the final plan targeting the FastDownwards solver. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received the audited PDDL plan, which should be robust and consistent:\n{pddl_auditor}\nYour goal is:\n{agents->orchestrator->goal}\nPresent the final PDDL domain and PDDL problem file for the Blocksworld task.\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl->auditor.pddl",
            "auditor.pddl->orchestrator.pddl"
        ]
    }
}