{
    "name": "BlocksworldHardScaling20",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "I must devise a plan using the standard Blocksworld actions (pick-up, unstack, put-down, stack).",
                "The blocks involved are B (blue), R (red), Y (yellow), and O (orange)."
            ],
            "goal": "Generate a PDDL domain and problem file that correctly models and solves the block arrangement task based on the specified physical constraints."
        },
        "auditor": {
            "private_information": [
                "I must check the generated PDDL for strict adherence to preconditions, ensuring causal consistency (e.g., a block cannot be unstacked unless it is clear and on another block)."
            ],
            "goal": "Verify the PDDL generated by the planner for adherence to standard Blocksworld constraints and logical consistency."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final, validated PDDL domain and problem file targeted for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 0
        },
        "public_information": [
            "This is a standard Blocksworld planning environment involving blocks: Blue (B), Red (R), Yellow (Y), and Orange (O).",
            "Actions allowed: pick-up (table to hand), unstack (block to hand), put-down (hand to table), stack (hand to block).",
            "Movement Constraints: Only one block held at a time (hand-empty required for pick/unstack). A block must be 'clear' (nothing on top) to be picked up or unstacked. Stacking requires the destination block also be 'clear'.",
            "Initial State: (on B R), (on R Y), (on Y O), (on-table O), (clear B), (hand-empty).",
            "Target Goal: Achieve the state where (on R Y) AND (on O B)."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner. You are tasked with solving a Blocksworld problem. Define the full PDDL domain and problem files, strictly following the rules and specifications provided in the environment information.\nEnvironment Public Information:\n{environment->public_information}\nYour knowledge:\n{agents->planner->private_information}\nGlobal Goal:\n{agents->planner->goal}\nThink step by step and provide a complete PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "pddl": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_audit_report",
                "system_prompt": "You are an expert PDDL auditor focused on temporal/causal consistency. Your role is to audit planning domains and problems for adherence to specified preconditions and effects, ensuring the plan is logically sound and executable.",
                "prompt": "Your name is auditor. You have received a preliminary PDDL domain and problem from the planner:\n{pddl_initial_plan}\nYour goal is to audit this plan for temporal and causal consistency, verifying that the actions defined strictly adhere to the Blocksworld rules (e.g., ensuring (clear) and (hand-empty) predicates are correctly handled in preconditions and effects).\nProvide a brief report (under 100 words) summarizing whether the PDDL appears valid and consistent. You must strictly avoid providing any PDDL output."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_initial_plan",
                    "pddl_audit_report"
                ],
                "output": "pddl_final_solution",
                "system_prompt": "You are an expert PDDL solver manager targeting the FastDownwards planner. You finalize PDDL definitions.",
                "prompt": "You are the orchestrator. You are managing the single-agent planning task for Blocksworld. You have received the initial PDDL plan and an audit report.\nInitial PDDL Plan:\n{pddl_initial_plan}\nAudit Report:\n{pddl_audit_report}\nYour task is to review the initial PDDL, integrate any necessary corrections if flagged by the audit, and output the final, definitive PDDL Domain and Problem files required to solve the task: {agents->orchestrator->goal}.\nThink step by step and provide the definitive PDDL domain and a PDDL problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl->auditor.pddl",
            "planner.pddl->orchestrator.pddl",
            "auditor.pddl->orchestrator.pddl"
        ]
    }
}