{
    "name": "BlocksworldHardScaling23",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "BlockPlanner",
            "TemporalAuditor",
            "orchestrator"
        ],
        "BlockPlanner": {
            "private_information": [
                "I am responsible for devising the initial plan based on block positions and movement rules.",
                "Blocks involved: Red, Blue, Orange, Yellow."
            ],
            "goal": "Generate a valid PDDL plan to transform the initial block configuration into the goal configuration using the defined actions."
        },
        "TemporalAuditor": {
            "private_information": [
                "I specialize in verifying PDDL domain integrity and ensuring temporal and causal consistency among actions.",
                "I must ensure that all actions strictly adhere to the precondition and effect descriptions provided in the environment."
            ],
            "goal": "Audit the PDDL domain and problem generated by the planner for soundness and adherence to physics/causality, removing any non-standard shortcuts."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the audited PDDL domain and problem to produce the final solution optimized for the FastDownwards planner."
        }
    },
    "environment": {
        "init": {
            "blocks": [
                "red",
                "blue",
                "orange",
                "yellow"
            ],
            "initial_state_predicates": [
                "clear(yellow)",
                "hand_empty",
                "on(blue, orange)",
                "on(orange, red)",
                "on(yellow, blue)",
                "on_table(red)"
            ],
            "goal_state_predicates": [
                "on(red, blue)",
                "on(orange, red)",
                "on(yellow, orange)"
            ]
        },
        "public_information": [
            "This environment simulates the classic Blocksworld domain.",
            "Available Actions: Pick up, Unstack, Put down, Stack.",
            "Action Constraints:",
            "1. Only one block can be held at a time (implicit via predicates like 'hand_empty', 'holding').",
            "2. Pick up/Unstack requires the hand to be empty.",
            "3. Pick up constraints: Block must be on the table AND clear.",
            "4. Unstack constraints: Block being unstacked must be on top of the other block AND clear.",
            "5. Put down constraints: Requires holding the block; results in block on table and hand empty.",
            "6. Stack constraints: Requires holding the block being stacked; the block being stacked onto must be clear; results in the lower block no longer being clear."
        ]
    },
    "workflow": {
        "BlockPlanner": {
            "pddl": {
                "input": [],
                "output": "pddl_draft",
                "system_prompt": "You are an expert PDDL generator for the Blocksworld domain. Focus on creating a valid domain definition and problem description based ONLY on the provided initial state, goal state, and movement rules.",
                "prompt": "Analyze the following environment specifications:\nPublic Rules:\n{environment->public_information}\nInitial State Predicates:\n{environment->init->initial_state_predicates}\nGoal State Predicates:\n{environment->init->goal_state_predicates}\n\nGenerate a PDDL domain and problem file. Ensure all defined actions (Pick up, Unstack, Put down, Stack) are correctly modeled with preconditions and effects as described. Focus on the single agent planning task. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "TemporalAuditor": {
            "audit": {
                "input": [
                    "pddl_draft"
                ],
                "output": "pddl_audited",
                "system_prompt": "You are a specialized PDDL auditor focused on temporal and causal consistency. Your task is to review and refine PDDL generated by a planning agent, ensuring all preconditions and effects strictly adhere to the physical constraints of the Blocksworld domain, removing any non-standard shortcuts or implicit bookkeeping not modeled via standard predicates.",
                "prompt": "Review the following draft PDDL submission. Verify that the actions (Pick up, Unstack, Put down, Stack) correctly model the provided rules, especially regarding 'clear' status and 'holding' status transitions. If necessary, correct errors, missing predicates, or inconsistencies, and ensure compliance with standard PDDL 1.2 syntax.\n\nDraft PDDL:\n{pddl_draft}\n\nProvide the refined PDDL domain and problem files. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl_solve": {
                "input": [
                    "pddl_audited"
                ],
                "output": "pddl_final_solution",
                "system_prompt": "You are an expert PDDL execution engine operator. Your task is to take the final, verified PDDL domain and problem and present them clearly for execution by the FastDownwards solver.",
                "prompt": "You have received the audited PDDL domain and problem definition for the Blocksworld task:\n{pddl_audited}\n\nPresent the final integrated PDDL domain and PDDL problem files ready for solving. Ensure clarity and correct structure. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "BlockPlanner.pddl->TemporalAuditor.audit",
            "TemporalAuditor.audit->orchestrator.pddl_solve"
        ]
    }
}