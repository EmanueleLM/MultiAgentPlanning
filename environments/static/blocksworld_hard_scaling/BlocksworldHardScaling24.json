{
    "name": "BlocksworldHardScaling24",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner_agent",
            "auditor",
            "orchestrator"
        ],
        "planner_agent": {
            "private_information": [
                "Initial State: The orange block is clear, the hand is empty, the blue block is on top of the yellow block, the orange block is on top of the blue block, the yellow block is on top of the red block and the red block is on the table.",
                "Goal State: The red block is on top of the yellow block, the blue block is on top of the orange block and the orange block is on top of the red block."
            ],
            "goal": "Generate a valid PDDL domain and problem representing the specified initial configuration, goal state, and available actions (pick-up, put-down, stack, unstack) to solve the Blocksworld puzzle."
        },
        "auditor": {
            "private_information": [
                "Action Restrictions: One block at a time, hand must be empty to pick up/unstack. Clear means no blocks on top.",
                "Effect Rules: Picking/Unstacking leads to holding. Putting down/Stacking leads to hand_empty and updates 'clear' status."
            ],
            "goal": "Audit the generated PDDL to ensure temporal and causal consistency, verifying that the standard Blocksworld constraints are correctly modeled without logical shortcuts or ambiguities."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the planning and audit results to finalize the PDDL definition necessary to solve the Blocksworld task defined by the user."
        }
    },
    "environment": {
        "init": {
            "blocks": [
                "orange",
                "blue",
                "yellow",
                "red"
            ],
            "table_surface": true
        },
        "public_information": [
            "The task involves arranging blocks into specific stacks using four fundamental actions: Pick up (from table), Unstack (from block), Put down (to table), Stack (onto block).",
            "Actions are restricted: only one block can be held at a time, and blocks must be clear to be picked up or unstacked.",
            "Initial configuration: R is on the table. Y is on R. B is on Y. O is on B. O is clear. Hand is empty.",
            "Target configuration predicates: (on R Y), (on O R), (on B O)."
        ]
    },
    "workflow": {
        "planner_agent": {
            "pddl": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner_agent. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following knowledge:\n{agents->planner_agent->private_information}\nThis is the global goal to solve:\n{agents->planner_agent->goal}\nDefine the objects, predicates, initial state, goal state, and actions (pick-up, put-down, stack, unstack) necessary to solve this Blocksworld problem according to the provided rules. Think step by step and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "pddl": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_audited_plan",
                "system_prompt": "You are an expert PDDL auditor focused on ensuring planning specifications adhere strictly to environmental constraints and logical consistency.",
                "prompt": "Your role is to audit the PDDL generated by the planner agent for causal and temporal consistency, ensuring all preconditions and effects strictly comply with the Blocksworld rules defined in the environment. Verify that bookkeeping predicates like 'clear' and 'holding' are managed correctly across all actions (pick-up, put-down, stack, unstack).\nHere is the PDDL generated by the planner agent:\n{pddl_initial_plan}\nYou have the following internal constraints:\n{agents->auditor->private_information}\nBased on these constraints, review the provided PDDL domain and problem. If necessary, provide a revised, consistent PDDL domain and problem definition. If the provided PDDL is consistent and correct, reproduce it exactly. Think step by step and provide the resulting PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_audited_plan"
                ],
                "output": "pddl_final_solution",
                "system_prompt": "You are an expert with PDDL planning (Planning Domain Definition Language). You are responsible for compiling the final PDDL files ready for a standard solver like FastDownwards. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received the audited PDDL files for the Blocksworld task:\n{pddl_audited_plan}\nYour task is to finalize this PDDL specification. Ensure the domain and problem structure is valid and ready for execution by a standard PDDL solver. Since this is a single-agent problem, integrate the validated domain and problem into a final set of PDDL files.\nThink step by step and and provide the final PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner_agent.pddl->auditor.pddl",
            "auditor.pddl->orchestrator.pddl"
        ]
    }
}