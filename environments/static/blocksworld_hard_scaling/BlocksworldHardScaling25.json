{
    "name": "BlocksworldHardScaling25",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "block_planner",
            "auditor",
            "orchestrator"
        ],
        "block_planner": {
            "private_information": [
                "I am the sole agent responsible for manipulating blocks.",
                "I must adhere strictly to the rules of movement: only one block handled, empty hand needed for grasping, clear space needed for stacking/placing."
            ],
            "goal": "Achieve the specified final stacking configuration of the blocks: B on Y, Y on O, O on R, starting from the given initial configuration."
        },
        "auditor": {
            "private_information": [
                "I check for temporal and causal consistency.",
                "I ensure the plan strictly follows the fundamental Blocksworld rules and constraints specified in the public information."
            ],
            "goal": "Verify the planning output generated by the block_planner agent, ensuring the PDDL domain and problem definition are sound."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate the final delivery of the verified planning environment specification."
            ],
            "goal": "Produce the final, verified PDDL domain and problem file suitable for a standard PDDL solver (e.g., FastDownwards)."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "This is a Blocksworld environment involving four blocks: Red (R), Blue (B), Yellow (Y), and Orange (O).",
            "Allowed actions are: Pick up a block, Unstack a block, Put down a block, Stack a block.",
            "Constraints: Actions are limited to one block at a time. Picking/Unstacking requires an empty hand. A block must be clear (nothing on top) to be handled or stacked upon.",
            "Initial State: The system starts with an empty hand (HANDEMPTY). The stack configuration is: Orange is on Yellow (ON(O, Y)), Yellow is on Blue (ON(Y, B)), Blue is on Red (ON(B, R)), and Red is on the table (ONTABLE(R)). Orange is clear (CLEAR(O)).",
            "Goal State: Achieve the stack configuration where Blue is on Yellow (ON(B, Y)), Yellow is on Orange (ON(Y, O)), and Orange is on Red (ON(O, R))."
        ]
    },
    "workflow": {
        "block_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_plan",
                "system_prompt": "You are an expert PDDL planner specializing in the Blocksworld domain. You must define the necessary types, predicates, actions (pick-up, unstack, put-down, stack), objects, initial state, and goal state. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is block_planner. You are solving a single-agent Blocksworld task. \nYou are in an environment with the following public information:\n{environment->public_information}\nThis is the global goal to solve:\n{agents->block_planner->goal}\nBased on the provided initial state, goal state, and constraints, generate the complete PDDL domain and problem definition to find a valid sequence of actions.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_plan"
                ],
                "output": "audited_pddl",
                "system_prompt": "You are an expert auditor specializing in validating PDDL definitions, focusing particularly on ensuring temporal and causal consistency within the Blocksworld domain. You must verify that the proposed domain logic (preconditions and effects of actions) aligns perfectly with the specified rules and that the problem instance is solvable given the initial conditions and goal state. Your output must be the verified and potentially corrected PDDL domain and problem. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is auditor. You have received a planning attempt from the block_planner:\n{pddl_plan}\nReview this PDDL solution against the strict rules of Blocksworld and the specific initial and goal states described in the environment. Ensure predicates like 'CLEAR' and 'HANDEMPTY' are handled correctly. Provide the final, verified PDDL domain and problem files.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_pddl"
                ],
                "output": "final_pddl",
                "system_prompt": "You are the final orchestrator, responsible for taking the verified PDDL structure and presenting it cleanly for external execution using solvers like FastDownwards. Ensure the output is solely the PDDL domain and problem.",
                "prompt": "You have received the audited and verified PDDL files:\n{audited_pddl}\nProvide the final PDDL domain and problem, ready for solving. Do not add commentary or instruction, just the PDDL files.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "block_planner.pddl->auditor.review",
            "auditor.review->orchestrator.pddl"
        ]
    }
}