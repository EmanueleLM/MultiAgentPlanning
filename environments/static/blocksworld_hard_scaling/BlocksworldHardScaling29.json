{
    "name": "BlocksworldHardScaling29",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "block_manipulator",
            "auditor",
            "orchestrator"
        ],
        "block_manipulator": {
            "private_information": [
                "I am responsible for proposing the initial solution using the defined Blocksworld actions."
            ],
            "goal": "Arrange the blocks such that the yellow block is on the red block, the red block is on the orange block, and the orange block is on the blue block."
        },
        "auditor": {
            "private_information": [
                "I must ensure that all proposed actions strictly adhere to the physical constraints and temporal logic of the Blocksworld puzzle, especially regarding clearance and hand capacity."
            ],
            "goal": "Verify the planning output for causal consistency and adherence to all environmental constraints."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final, validated PDDL domain and problem file, optimized for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 4
        },
        "public_information": [
            "The environment is a Blocksworld puzzle involving four blocks: Red (R), Yellow (Y), Blue (B), and Orange (O).",
            "Available Actions: Pick up a block (from table), Unstack a block (from another block), Put down a block (onto table), Stack a block (onto another block).",
            "Constraints: Only one block can be picked up/unstacked at a time. A block can only be picked up if it is on the table and clear. A block can only be unstacked if it is clear and truly on the bottom block. Hand must be empty to pick up/unstack. The block being stacked onto must be clear.",
            "Initial State: The red block is clear. The hand is empty. Red is on Yellow. Blue is on Orange. Yellow is on Blue. Orange is on the table.",
            "Target Goal State: Yellow is on Red. Red is on Orange. Orange is on Blue."
        ]
    },
    "workflow": {
        "block_manipulator": {
            "pddl": {
                "input": [],
                "output": "pddl_manipulator",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You are the primary planner for a Blocksworld task. Based on the following environment rules and conditions, generate a complete PDDL domain and problem that represents the task:\nPublic Information:\n{environment->public_information}\nGlobal Goal:\n{agents->block_manipulator->goal}\nThink step by step and provide the PDDL domain and problem to solve this specific configuration. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "pddl": {
                "input": [
                    "pddl_manipulator"
                ],
                "output": "pddl_audited",
                "system_prompt": "You are an expert PDDL auditor focused on temporal and causal consistency. You must analyze the input PDDL, specifically verifying that the proposed actions and resulting states comply absolutely with the physical constraints of the Blocksworld scenario described in the public information. If the input PDDL is valid and complete, you should replicate it exactly. If it contains inconsistencies or ambiguities regarding the constraints (e.g., trying to violate clearance or hand capacity rules), you must propose corrections and output the corrected PDDL domain and problem. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags.",
                "prompt": "You have received the initial PDDL plan from the block_manipulator:\n{pddl_manipulator}\nYour role is to verify this plan against the strict constraints outlined in the Public Information:\n{environment->public_information}\nVerify that the planning actions correctly model preconditions and effects for 'Pick up', 'Unstack', 'Put down', and 'Stack', ensuring especially that the hand capacity (one item) and clearance conditions are met throughout the state transitions. If the PDDL is flawed, correct it. Output the final, verified PDDL domain and problem file. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_audited"
                ],
                "output": "pddl_final",
                "system_prompt": "You are the final orchestrator. Your task is to take the validated PDDL input and format it precisely for execution by a standard PDDL solver like FastDownwards. You ensure the PDDL is ready for consumption. You always provide a PDDL domain and a PDDL problem file. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "The planning agent and the auditor have finalized the PDDL solution for the Blocksworld task. Use the resulting validated PDDL:\n{pddl_audited}\nProduce the final PDDL domain and problem, ensuring the output is perfectly compliant for a PDDL solver.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "block_manipulator.pddl->auditor.pddl",
            "auditor.pddl->orchestrator.pddl"
        ]
    }
}