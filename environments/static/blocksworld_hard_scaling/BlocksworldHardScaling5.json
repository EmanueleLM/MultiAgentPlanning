{
    "name": "BlocksworldHardScaling5",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "I am responsible for generating the initial planning solution."
            ],
            "goal": "Solve the block arrangement problem defined by the initial and goal states using PDDL."
        },
        "auditor": {
            "private_information": [
                "I must verify the logical consistency and adherence to all Blocksworld rules."
            ],
            "goal": "Audit the generated PDDL domain and problem to ensure causal and temporal consistency and correctness against the environment specification."
        },
        "orchestrator": {
            "private_information": [
                "I synthesize and finalize the planning output for execution."
            ],
            "goal": "Produce the final, verified PDDL domain and problem targeting the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "This is a Blocksworld environment involving four unique blocks: red, blue, yellow, and orange.",
            "Available actions include: Pick up a block (from table), Unstack a block (from another block), Put down a block (to table), Stack a block (onto another block).",
            "Restrictions:",
            "1. Only one block can be held at a time (hand must be empty to pick up/unstack).",
            "2. Pick up requires the block to be on the table and clear.",
            "3. Unstack requires the block to be clear and directly on top of the target block.",
            "4. Put down/Stack results in the hand becoming empty.",
            "5. Stacking requires the destination block to be clear.",
            "Initial State Predicates:",
            "HandEmpty.",
            "Clear(red).",
            "Clear(orange).",
            "On(red, blue).",
            "On(blue, yellow).",
            "OnTable(orange).",
            "OnTable(yellow).",
            "Goal State Predicates:",
            "On(blue, yellow).",
            "On(orange, red).",
            "On(yellow, orange)."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags.",
                "prompt": "Your name is planner. Your goal is to solve the block arrangement problem defined by the initial and goal states using PDDL. Analyze the public environment information:\n{environment->public_information}\nGenerate a PDDL domain and problem that accurately reflects the constraints and objectives for a single agent. Think step by step and provide the necessary PDDL files."
            }
        },
        "auditor": {
            "refine": {
                "input": [
                    "pddl_plan"
                ],
                "output": "pddl_audited",
                "system_prompt": "You are an expert auditor specializing in verifying the correctness and consistency of PDDL domain and problem files against specified human requirements. You must ensure temporal and causal consistency and remove any unintended shortcuts.",
                "prompt": "Your name is auditor. You have received a PDDL domain and problem generated by the planner:\n{pddl_plan}\nYour primary goal is to audit this plan to ensure it strictly follows all Blocksworld rules defined in the environment information and that the initial/goal states are correctly represented. If the PDDL is correct and consistent, return the original PDDL wrapped in <domain></domain> and <problem></problem> tags. If refinement is needed, output the corrected PDDL.\nThink step by step and provide the resulting PDDL domain and problem file."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_audited"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert in integrating PDDL plans for delivery to a solver like FastDownwards. Since this is a single-agent task that has been planned and audited, your role is to finalize the verified PDDL output.",
                "prompt": "You have received the audited PDDL domain and problem:\n{pddl_audited}\nConfirm that the PDDL is complete and suitable for the FastDownwards solver. Output the final PDDL domain and problem files, ensuring they are correctly enclosed in <domain></domain> tags and <problem></problem> tags respectively."
            }
        },
        "constraints": [
            "planner.pddl->auditor.refine",
            "auditor.refine->orchestrator.pddl"
        ]
    }
}