{
    "name": "BlocksworldMediumScaling0",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "main_planner",
            "auditor",
            "orchestrator"
        ],
        "main_planner": {
            "private_information": [
                "The blocks involved are Red (R), Blue (B), Yellow (Y), and Orange (O).",
                "Initial State: (clear R), (clear B), (handempty), (on R Y), (on B O), (ontable O), (ontable Y).",
                "Goal State: (on B Y) and (on Y R)."
            ],
            "goal": "Generate a valid PDDL domain and problem specification for the Blocksworld scenario."
        },
        "auditor": {
            "private_information": [
                "Your role is to ensure the generated PDDL adheres strictly to the classic Blocksworld ruleset and the specific environmental constraints provided."
            ],
            "goal": "Review and refine the initial PDDL draft to ensure temporal and causal consistency."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final, validated PDDL output ready for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "blocks": [
                "R",
                "B",
                "Y",
                "O"
            ],
            "grid_size": 1
        },
        "public_information": [
            "This is a Blocksworld scenario involving blocks R, B, Y, O and a table T.",
            "The available actions are: pick up a block (from table), unstack a block (from another block), put down a block (onto table), stack a block (onto another block).",
            "Restrictions: Only one block can be held at a time (hand must be empty to pick/unstack).",
            "Restrictions: A block can only be picked up if it is on the table and clear.",
            "Restrictions: A block is clear if no other blocks are on top of it.",
            "Restrictions: A block can only be unstacked if it is clear and truly on the block it is being removed from.",
            "Effect: Picking up or unstacking results in holding the block.",
            "Restrictions: Putting down or stacking requires holding the block.",
            "Restrictions: Stacking requires the target block to be clear.",
            "Effect: Putting down or stacking results in the hand becoming empty.",
            "Effect: Stacking block X onto block Y makes Y not clear."
        ]
    },
    "workflow": {
        "main_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_initial_draft",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is main_planner. You are setting up a Blocksworld planning task based on the following rules and physical constraints:\n{environment->public_information}\nYou have the following specific knowledge regarding the initial setup and goal:\n{agents->main_planner->private_information}\nYour goal is:\n{agents->main_planner->goal}\nDefine the objects (blocks and table), predicates, and actions necessary based on the provided constraints, and generate the PDDL domain and problem files.\nThink step by step and provide the PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "refine": {
                "input": [
                    "pddl_initial_draft"
                ],
                "output": "pddl_audited",
                "system_prompt": "You are an expert PDDL auditor and validator. Your task is to verify the temporal and causal consistency of the planning documents provided against standard Blocksworld logic and the specified constraints. You ensure that preconditions and effects are correctly defined and that there are no inconsistencies or shortcuts that violate standard planning semantics. You must output a clean, validated PDDL domain and problem.",
                "prompt": "Your name is auditor. Your goal is to review and refine the initial PDDL draft provided below to ensure temporal and causal consistency, strictly following the defined rules:\n{environment->public_information}\nHere is the initial PDDL draft:\n{pddl_initial_draft}\nIf necessary, correct the domain and problem files. If they are correct, reproduce them. Think step by step and provide the refined PDDL domain and problem files.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_audited"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). Your role is to finalize the audited PDDL files for submission to the FastDownwards planner. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are the orchestrator. You have received the validated PDDL output:\n{pddl_audited}\nYour goal is:\n{agents->orchestrator->goal}\nReproduce the final, clean PDDL domain and problem suitable for execution.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "main_planner.pddl->auditor.refine",
            "auditor.refine->orchestrator.pddl"
        ]
    }
}