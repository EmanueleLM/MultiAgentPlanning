{
    "name": "BlocksworldMediumScaling1",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "block_planner",
            "auditor",
            "orchestrator"
        ],
        "block_planner": {
            "private_information": [
                "Actions allowed: Pick up a block (from table), Unstack a block (from another block), Put down a block (to table), Stack a block (on another block).",
                "Restrictions: Can only pick up/unstack one block at a time (hand_empty is pre-condition).",
                "Restrictions: Pick up requires block is on table and clear.",
                "Restrictions: Unstack requires block to be clear and actually on the target block.",
                "Effects: Pick up/Unstack results in holding the block.",
                "Effects: Put down/Stack results in hand being empty.",
                "Effects: Stack makes the lower block not clear.",
                "Initial State: clear(orange), clear(yellow), hand_empty, on(orange, blue), on(yellow, red), on_table(red), on_table(blue)."
            ],
            "goal": "Achieve the final state: on(red, blue)."
        },
        "auditor": {
            "private_information": [
                "Your primary role is to ensure that the PDDL actions strictly adhere to the causality rules defined for Blocksworld.",
                "Verify that actions like 'Stack' correctly handle the 'clear' predicate effect on the underlying block.",
                "Verify that 'Unstack' only happens if the block is 'clear' and the hand is 'empty'."
            ],
            "goal": "Audit the PDDL generated by the Block Planner for temporal/causal consistency and rule compliance."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the initial PDDL draft and the audit report to finalize the Blocksworld planning problem (PDDL domain and problem files)."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1,
            "objects": "Orange, Yellow, Blue, Red, Table"
        },
        "public_information": [
            "This is a Blocksworld problem. The available objects are: Orange, Yellow, Blue, Red, and the Table.",
            "Standard actions are available: Pick up (from table), Unstack (from block), Put down (to table), Stack (on block).",
            "Initial State: clear(orange), clear(yellow), hand_empty, on(orange, blue), on(yellow, red), on_table(red), on_table(blue).",
            "Final Goal: on(red, blue)."
        ]
    },
    "workflow": {
        "block_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_draft",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You will formulate a PDDL domain and a PDDL problem file to solve the provided Blocksworld task. You must strictly adhere to the rules and initial state provided. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is block_planner. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following knowledge:\n{agents->block_planner->private_information}\nThis is the global goal to solve:\n{agents->block_planner->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "critique": {
                "input": [
                    "pddl_draft"
                ],
                "output": "audit_report",
                "system_prompt": "You are a specialized auditor focused on temporal and causal consistency in Planning Domain Definition Language (PDDL). Your role is to analyze a given PDDL domain and problem against established rules, ensuring all preconditions and effects are accurately modeled. You must focus on removing bookkeeping shortcuts.",
                "prompt": "Your name is auditor. You have received an initial PDDL draft for a Blocksworld problem. Your goal is to verify its consistency:\n{agents->auditor->private_information}\nHere is the PDDL draft:\n{pddl_draft}\nAnalyze the PDDL domain definition, specifically checking if the actions (Pick up, Unstack, Put down, Stack) correctly implement the required preconditions (like clear, hand_empty) and effects (like changing 'on' and 'clear' status). Generate an 'audit_report' detailing any potential inconsistencies, shortcomings, or bookkeeping shortcuts found in the PDDL, focusing on adherence to the environmental constraints. If the PDDL is perfect, state that it is consistent."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_draft",
                    "audit_report"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert with PDDL problems, tasked with finalizing and integrating planning components for execution using the FastDownwards planner. You must produce a definitive, runnable PDDL domain and problem file. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is orchestrator. You are tasked with solving the Blocksworld problem: {agents->orchestrator->goal}\nHere is the initial PDDL draft:\n{pddl_draft}\nHere is the audit report regarding potential issues:\n{audit_report}\nReview the draft based on the audit findings. Generate the final, complete, and verified PDDL domain and problem files, ensuring all rules provided to the Block Planner are correctly implemented. Remember the required initial state: clear(orange), clear(yellow), hand_empty, on(orange, blue), on(yellow, red), on_table(red), on_table(blue). The final goal is on(red, blue).\nThink step by step and provide the final PDDL domain and a PDDL problem file to solve the task. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "block_planner.pddl->auditor.critique",
            "block_planner.pddl->orchestrator.pddl",
            "auditor.critique->orchestrator.pddl"
        ]
    }
}