{
    "name": "BlocksworldMediumScaling17",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "hanoi_planner",
            "auditor",
            "orchestrator"
        ],
        "hanoi_planner": {
            "private_information": [
                "Disk A is the smallest, Disk E is the largest (A < B < C < D < E).",
                "Initial state: Right peg holds A (top), B, C, D, E (bottom). Left and Middle pegs are empty.",
                "Goal state: Middle peg holds A (top), B, C, D, E (bottom). Left and Right pegs are empty."
            ],
            "goal": "Move all 5 disks from the Right peg to the Middle peg, following the Tower of Hanoi rules."
        },
        "auditor": {
            "private_information": [
                "The core constraint is that a larger disk can never be placed on top of a smaller disk.",
                "The planning process must be temporally and causally consistent, ensuring all moves adhere strictly to the rules: only top disks move."
            ],
            "goal": "Audit the planning proposal for consistency with the strict Tower of Hanoi rules and causal flow."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Synthesize the planned solution into a single PDDL domain and problem suitable for the FastDownwards solver, ensuring the final output is correct and optimized."
        }
    },
    "environment": {
        "init": {
            "num_disks": 5,
            "num_pegs": 3,
            "start_peg": "Right",
            "target_peg": "Middle"
        },
        "public_information": [
            "This is the Tower of Hanoi puzzle involving 5 disks (A, B, C, D, E) and 3 pegs (Left, Middle, Right).",
            "Disks are sized A (smallest) < B < C < D < E (largest).",
            "Movement Rules: 1) Only one disk moved at a time. 2) Only the top disk of a peg can be moved. 3) Never place a larger disk on a smaller disk."
        ]
    },
    "workflow": {
        "hanoi_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is hanoi_planner. You are solving the Tower of Hanoi puzzle. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following specific knowledge:\n{agents->hanoi_planner->private_information}\nThis is the global goal to solve:\n{agents->hanoi_planner->goal}\nThink step by step and provide a minimal, correct PDDL domain and a PDDL problem file to solve this specific 5-disk Tower of Hanoi problem.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_planner"
                ],
                "output": "review_auditor",
                "system_prompt": "You are an expert auditor specializing in validating PDDL planning solutions against strict environmental rules. Your goal is to ensure temporal and causal consistency and identify any violations of the Tower of Hanoi rules.",
                "prompt": "Your name is auditor. You need to review the PDDL generated by the hanoi_planner based on the Tower of Hanoi rules. You have the following knowledge:\n{agents->auditor->private_information}\nReview the proposed PDDL:\n{pddl_planner}\n\nCritique the domain definition. Specifically, check if the 'move-disk' action correctly enforces all necessary rules (top disk status, size hierarchy). Provide a detailed textual review and suggest specific corrections if necessary. Do not generate PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_planner",
                    "review_auditor"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert PDDL synthesizer and orchestrator. Your final output must be a unified PDDL domain and problem ready for the FastDownwards planner. You must ensure the resulting plan is optimal and adheres strictly to the puzzle rules.",
                "prompt": "Your name is orchestrator. You are finalizing the PDDL solution. You received the initial planning attempt and an audit review.\n\nInitial PDDL Planning Attempt:\n{pddl_planner}\n\nAudit Review:\n{review_auditor}\n\nSynthesize the information. Ensure the PDDL reflects the 5-disk configuration (A to E) and targets the required initial and goal states precisely (R -> M). If the audit suggests flaws, integrate necessary corrections into the final output. The resulting domain and problem must be minimal and correct for FastDownwards.\n\nThink step by step and provide the final, correct PDDL domain and a PDDL problem file. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "hanoi_planner.pddl->auditor.review",
            "hanoi_planner.pddl->orchestrator.pddl",
            "auditor.review->orchestrator.pddl"
        ]
    }
}