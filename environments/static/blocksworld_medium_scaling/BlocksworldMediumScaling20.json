{
    "name": "BlocksworldMediumScaling20",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner_agent",
            "auditor_agent",
            "orchestrator"
        ],
        "planner_agent": {
            "private_information": [],
            "goal": "Arrange the blocks such that the orange block is on top of the red block and the yellow block is on top of the blue block."
        },
        "auditor_agent": {
            "private_information": [
                "The agent must ensure that the PDDL domain adheres strictly to standard Blocksworld constraints (clear, holding, ontable, on, arm-empty).",
                "The agent must check for consistency between the initial state and the goal state provided in the problem definition."
            ],
            "goal": "Verify the structural and causal consistency of the PDDL plan generated by the planner_agent."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Generate the final PDDL domain and problem file suitable for execution by the FastDownwards solver, solving the Blocksworld rearrangement task."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "There are four blocks: red (r), blue (b), yellow (y), orange (o).",
            "The available actions are: Pick up, Unstack, Put down, and Stack.",
            "Initial state setup (from top to bottom): red is clear, red is on blue, blue is on yellow, yellow is on orange, orange is on the table.",
            "The agent's hand is initially empty.",
            "Goal state: orange is on red AND yellow is on blue."
        ]
    },
    "workflow": {
        "planner_agent": {
            "pddl": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language) specialized in Blocksworld domains. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner_agent. You are tasked with solving a Blocksworld problem.\nPublic Information:\n{environment->public_information}\nGlobal Goal:\n{agents->planner_agent->goal}\nDefine the PDDL domain including standard Blocksworld actions (Pick up, Unstack, Put down, Stack) and the PDDL problem defining the initial state and the goal state.\nThink step by step and and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor_agent": {
            "audit": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_reviewed_plan",
                "system_prompt": "You are an expert auditor for PDDL plans. Your role is to ensure the received plan adheres to strict constraints and logic. You must review the domain provided for completeness and the problem for accurate representation of initial and goal states. If consistent, output the reviewed PDDL exactly as input, otherwise provide a critique and a corrected version. You always enclose the reviewed/corrected pddl domain between <domain></domain> tags, and the reviewed/corrected pddl problem between <problem></problem> tags.",
                "prompt": "Your name is auditor_agent. You must audit the PDDL plan provided by the planner agent against the known Blocksworld rules and the specified initial and goal conditions.\nYour internal knowledge includes:\n{agents->auditor_agent->private_information}\nReview the following PDDL plan:\n{pddl_initial_plan}\nEnsure the structure is correct and that no bookkeeping shortcuts or logical inconsistencies exist.\nProvide the final reviewed/corrected PDDL domain and problem.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_reviewed_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the final orchestrator. You receive the audited PDDL plan and must ensure it is ready for execution by a standard PDDL solver (like FastDownwards). You must output the final, integrated PDDL domain and problem. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received the audited PDDL plan necessary to solve the Blocksworld task:\n{pddl_reviewed_plan}\nYour goal is:\n{agents->orchestrator->goal}\nConsolidate and present the final PDDL domain and PDDL problem ready for solving the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner_agent.pddl->auditor_agent.audit",
            "auditor_agent.audit->orchestrator.pddl"
        ]
    }
}