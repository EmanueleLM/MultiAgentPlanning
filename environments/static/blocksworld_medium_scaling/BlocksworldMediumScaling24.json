{
    "name": "BlocksworldMediumScaling24",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "block_planner",
            "constraint_auditor",
            "orchestrator"
        ],
        "block_planner": {
            "private_information": [],
            "goal": "Generate a PDDL domain and problem definition that represents the Blocksworld task and its rules, initial state, and goal state."
        },
        "constraint_auditor": {
            "private_information": [],
            "goal": "Audit the generated PDDL domain definitions against the explicit natural language constraints provided, ensuring temporal and causal consistency."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Finalize the PDDL domain and problem based on the planner's output and the auditor's findings, ensuring the structure is ready for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "This is a Blocksworld task involving blocks Red (R), Blue (B), Yellow (Y), and Orange (O).",
            "Initial State: The red block is clear, the blue block is clear, the yellow block is clear, the hand is empty. The blue block is on top of the orange block. The red block is on the table, the orange block is on the table and the yellow block is on the table.",
            "Goal State: The red block is on top of the blue block, the blue block is on top of the orange block and the orange block is on top of the yellow block.",
            "Movement Constraints:",
            "Pick up or Unstack limit: Only one block at a time. Requires hand to be empty.",
            "Pick Up: Requires block to be on the table and clear.",
            "Unstack: Requires the block being moved to be on top of another block and clear.",
            "Holding State Change: Picking up or unstacking leads to holding the block.",
            "Put Down: Requires holding the block.",
            "Stack: Requires holding the block being stacked, and the target block must be clear.",
            "Post-action State Change: Putting down or stacking results in an empty hand. Stacking B1 on B2 makes B2 no longer clear."
        ]
    },
    "workflow": {
        "block_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You are tasked with generating a PDDL model for a standard Blocksworld environment. Use the defined constraints to build the domain operators.\n\nInitial State:\n{environment->public_information[1]}\n\nGoal State:\n{environment->public_information[2]}\n\nMovement Constraints:\n{environment->public_information[4]}\n{environment->public_information[5]}\n{environment->public_information[6]}\n{environment->public_information[7]}\n{environment->public_information[8]}\n{environment->public_information[9]}\n{environment->public_information[10]}\n\nThink step by step and provide the PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraint_auditor": {
            "report": {
                "input": [
                    "pddl_planner"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor specializing in PDDL syntax and semantics. Your role is to ensure that PDDL domains correctly capture all natural language constraints provided.",
                "prompt": "Review the PDDL domain generated by the 'block_planner' provided below and check if the actions defined (pick-up, unstack, put-down, stack) fully and accurately reflect all the explicit restrictions listed in the environment description. Produce a concise audit report listing any discrepancies found, or confirm full compliance.\n\nReference Constraints:\n{environment->public_information[4]}\n{environment->public_information[5]}\n{environment->public_information[6]}\n{environment->public_information[7]}\n{environment->public_information[8]}\n{environment->public_information[9]}\n{environment->public_information[10]}\n\nPlanner PDDL Output:\n{pddl_planner}\n\nProvide the audit report text."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_planner",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL synthesizer, preparing final PDDL files for the FastDownwards solver. You must ensure the resulting domain and problem are valid and conform to the task requirements.",
                "prompt": "You have received the proposed PDDL solution from the block_planner and a subsequent audit report. Analyze the audit findings and finalize the PDDL domain and problem. If the audit reports discrepancies, incorporate necessary corrections into the final PDDL structure. If the audit confirms compliance, present the planner's PDDL solution unchanged, ensuring it is ready for execution.\n\nPlanner PDDL Output:\n{pddl_planner}\n\nAudit Report:\n{audit_report}\n\nThink step by step and provide the final, validated PDDL domain and PDDL problem file. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "block_planner.pddl->constraint_auditor.report",
            "constraint_auditor.report->orchestrator.pddl",
            "block_planner.pddl->orchestrator.pddl"
        ]
    }
}