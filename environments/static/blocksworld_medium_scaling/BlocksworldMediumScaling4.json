{
    "name": "BlocksworldMediumScaling4",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "block_mover",
            "auditor",
            "orchestrator"
        ],
        "block_mover": {
            "private_information": [
                "I follow the specific rules of Blocksworld defined in the public constraints."
            ],
            "goal": "Determine the sequence of actions required to achieve the goal state from the initial state."
        },
        "auditor": {
            "private_information": [
                "I am responsible for temporal and causal consistency."
            ],
            "goal": "Audit the generated plan for strict adherence to the Blocksworld physical constraints."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final, executable PDDL domain and problem file for the Blocksworld task."
        }
    },
    "environment": {
        "init": {
            "blocks": [
                "red",
                "orange",
                "yellow",
                "blue"
            ],
            "initial_state": [
                "The red block is clear.",
                "The orange block is clear.",
                "The hand is empty.",
                "The red block is on top of the yellow block.",
                "The orange block is on top of the blue block.",
                "The blue block is on the table.",
                "The yellow block is on the table."
            ],
            "grid_size": 1
        },
        "public_information": [
            "This is a standard Blocksworld planning problem involving 4 blocks (Red, Orange, Yellow, Blue).",
            "The available actions are: Pick up, Unstack, Put down, Stack.",
            "Constraints: Only one block can be held at a time. Picking/Unstacking requires a clear block and an empty hand. Stacking/Putting down results in an empty hand. Stacking requires the target base to be clear."
        ],
        "goal": "The final configuration must be: Red on Yellow, and Yellow on Orange."
    },
    "workflow": {
        "block_mover": {
            "pddl": {
                "input": [],
                "output": "pddl_block_mover",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You are the primary agent solving a Blocksworld task. The blocks are Red (R), Orange (O), Yellow (Y), and Blue (B). You must implement the standard Blocksworld domain, incorporating the following rules:\n1. Actions: Pick up, Unstack, Put down, Stack.\n2. Constraints: Only one block can be held at a time. Picking/Unstacking requires the block to be clear and the hand to be empty.\n3. Initial State:\n{environment->init->initial_state}\n4. Goal State:\n{environment->goal}\n\nModel the environment and find the necessary plan. Think step by step and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "pddl_block_mover"
                ],
                "output": "report_auditor",
                "system_prompt": "You are an expert auditor specializing in planning languages and temporal logic. Your task is to verify the causal and temporal consistency of the provided PDDL implementation against the stated physical constraints of the Blocksworld problem.",
                "prompt": "You have received the PDDL output from the block_mover agent. Your mission is to audit this solution. Check if the PDDL domain definition strictly adheres to the provided rules for Pick up, Unstack, Put down, and Stack, ensuring that no bookkeeping shortcuts or inconsistent causality are present. For example, verify that (clear ?y) is a strict prerequisite for stacking on ?y and that (on ?x ?y) is properly established and destroyed by actions.\n\nPDDL received:\n{pddl_block_mover}\n\nProvide a brief report detailing if the PDDL domain and problem are consistent and valid for the task, focusing on temporal/causal integrity."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_block_mover",
                    "report_auditor"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert with PDDL planning integration. Your final goal is to produce a single, coherent PDDL domain and problem file suitable for the FastDownwards planner.",
                "prompt": "You have received the initial PDDL plan and an audit report for a single-agent Blocksworld task. Since this is a single-agent task, your role is to finalize the PDDL provided by the 'block_mover' agent, ensuring it is structurally sound and ready for execution, potentially using insights from the audit report.\n\nBlock Mover PDDL:\n{pddl_block_mover}\n\nAuditor Report:\n{report_auditor}\n\nCombine the necessary PDDL domain and problem files into a single output. Think step by step and and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "block_mover.pddl->auditor.audit",
            "block_mover.pddl->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}