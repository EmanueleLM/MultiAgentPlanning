{
    "name": "BlocksworldMediumScaling8",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "I must define the disk sizes correctly (A < B < C < D < E) and model the necessary size predicates (e.g., smaller/larger)."
            ],
            "goal": "Generate a PDDL domain and problem to solve the 5-disk Tower of Hanoi puzzle, moving all disks from the Middle peg to the Right peg, using the Left peg as auxiliary."
        },
        "auditor": {
            "private_information": [
                "The core constraints are temporal and causal: disks must maintain strict size hierarchy (a larger disk cannot be placed on a smaller disk)."
            ],
            "goal": "Audit the generated PDDL plan for causal consistency, ensuring strict adherence to the rule: a larger disk can never be placed on a smaller disk. I must check the action preconditions carefully."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the initial PDDL plan and the auditor's feedback to finalize the correct PDDL domain and problem file ready for execution by a planning solver (FastDownwards)."
        }
    },
    "environment": {
        "init": {
            "num_disks": 5,
            "num_pegs": 3,
            "visibility": 3
        },
        "public_information": [
            "The task is the Tower of Hanoi puzzle with 5 disks (A, B, C, D, E). Disk A is the smallest, E is the largest (A < B < C < D < E).",
            "There are three pegs: Left (L), Middle (M), and Right (R).",
            "Initial State: Peg M holds E (bottom), D, C, B, A (top). Pegs L and R are empty.",
            "Goal State: Peg R holds E (bottom), D, C, B, A (top). Pegs L and M are empty.",
            "Action: Move the top disk from one peg to another.",
            "Rules: Only one disk can be moved at a time; only the top disk of a stack can be moved; a larger disk can never be placed on top of a smaller disk."
        ]
    },
    "workflow": {
        "planner": {
            "generate_pddl": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must provide a PDDL domain and a PDDL problem file to solve the 5-disk Tower of Hanoi puzzle. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags.",
                "prompt": "Your name is planner. You are generating a plan for the Tower of Hanoi puzzle. Review the following public information:\n{environment->public_information}\nThis is your goal:\n{agents->planner->goal}\nDefine the disk sizes (A is smallest, E is largest) and the necessary predicates to enforce the rule: a larger disk cannot be placed on a smaller disk. Think step by step and provide the PDDL domain and problem file.\nEnclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review_pddl": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_audited_feedback",
                "system_prompt": "You are a causal consistency auditor. Your primary goal is to ensure that PDDL domains strictly adhere to physical constraints and rules, specifically checking for violations in size hierarchy and temporal sequencing. You must remove any elements that rely on external bookkeeping or shortcuts.",
                "prompt": "Your name is auditor. You need to review the PDDL generated by the planner against the strict rules of the Tower of Hanoi puzzle. The crucial rule is: a larger disk can never be placed on a smaller disk.\nHere is the initial PDDL plan:\n{pddl_initial_plan}\nAnalyze the domain's predicates and the 'move' action definition. Do they correctly model disk size constraints (A < B < C < D < E)? Specifically check if the preconditions prevent placing a disk on an object (peg or another disk) that is smaller than it.\nProvide a detailed assessment and specify any necessary corrections to the PDDL structure. Wrap your assessment in <audit_report></audit_report> tags."
            }
        },
        "orchestrator": {
            "finalize_pddl": {
                "input": [
                    "pddl_initial_plan",
                    "pddl_audited_feedback"
                ],
                "output": "pddl_final_output",
                "system_prompt": "You are an expert PDDL integrator and orchestrator. You finalize PDDL files for execution, ensuring they are syntactically correct and incorporate any necessary revisions based on feedback. You always provide a PDDL domain and a PDDL problem file ready for the FastDownwards solver. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are the orchestrator. You have received the initial PDDL plan and an audit report. Your task is to produce the definitive PDDL files to solve the 5-disk Tower of Hanoi puzzle.\nInitial PDDL Plan:\n{pddl_initial_plan}\nAudit Report:\n{pddl_audited_feedback}\nReview the audit feedback. If corrections are suggested regarding the size hierarchy constraints, implement them in the final PDDL. If the plan is confirmed valid, present the original PDDL unchanged as the final output.\nThink step by step and provide the final PDDL domain and PDDL problem file.\nEnclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.generate_pddl->auditor.review_pddl",
            "planner.generate_pddl->orchestrator.finalize_pddl",
            "auditor.review_pddl->orchestrator.finalize_pddl"
        ]
    }
}