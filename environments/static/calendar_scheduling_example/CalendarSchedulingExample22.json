{
    "name": "CalendarSchedulingExample22",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "theresa",
            "charles",
            "betty",
            "temporal_auditor",
            "orchestrator"
        ],
        "theresa": {
            "private_information": [
                "Busy Monday 09:00-09:30",
                "Busy Monday 12:30-13:30",
                "Busy Monday 14:00-15:00",
                "Busy Monday 16:30-17:00"
            ],
            "goal": "Find one 60 minute slot on Monday between 09:00 and 17:00 that works for Theresa, Charles, and Betty."
        },
        "charles": {
            "private_information": [
                "Busy Monday 10:00-10:30",
                "Busy Monday 11:30-12:30",
                "Busy Monday 14:00-15:30"
            ],
            "goal": "Find one 60 minute slot on Monday between 09:00 and 17:00 that works for Theresa, Charles, and Betty."
        },
        "betty": {
            "private_information": [
                "Busy Monday 09:00-10:30",
                "Busy Monday 12:00-12:30",
                "Busy Monday 13:00-14:00",
                "Busy Monday 15:00-16:00"
            ],
            "goal": "Find one 60 minute slot on Monday between 09:00 and 17:00 that works for Theresa, Charles, and Betty."
        },
        "temporal_auditor": {
            "private_information": [
                "Role: audit temporal and causal consistency. Remove bookkeeping shortcuts such as quota tokens and post-hoc penalties."
            ],
            "goal": "Validate and normalize reported availabilities, ensure no hidden overlaps or shortcuts, and flag inconsistencies."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate participants' availabilities and the auditor report and produce a PDDL domain and problem for FastDownwards that schedules the requested one hour meeting on Monday between 09:00 and 17:00."
        }
    },
    "environment": {
        "init": {
            "day": "Monday",
            "work_hours": {
                "start": "09:00",
                "end": "17:00"
            },
            "meeting_duration_minutes": 60,
            "time_slot_granularity_minutes": 30,
            "visibility": 1
        },
        "public_information": [
            "Meeting participants: Theresa, Charles, Betty",
            "Meeting duration required: 60 minutes",
            "Allowed scheduling window: Monday 09:00 to 17:00",
            "There exists at least one solution that fits every participant's existing schedule"
        ]
    },
    "workflow": {
        "theresa": {
            "report_availability": {
                "input": [],
                "output": "avail_theresa",
                "system_prompt": "You are an assistant that converts a participant's private schedule into a set of free time windows within the given work hours. Provide structured availability intervals that are at least as long as the requested meeting duration. Do not produce PDDL. Output a concise list of free intervals in the format HH:MM-HH:MM.",
                "prompt": "Agent name: theresa. Public information: {environment->public_information}. Private schedule: {agents->theresa->private_information}. Goal: {agents->theresa->goal}. Provide Theresa's free time windows on Monday between the work hours that are at least {environment->init->meeting_duration_minutes} minutes long. Use the output name avail_theresa."
            }
        },
        "charles": {
            "report_availability": {
                "input": [],
                "output": "avail_charles",
                "system_prompt": "You are an assistant that converts a participant's private schedule into a set of free time windows within the given work hours. Provide structured availability intervals that are at least as long as the requested meeting duration. Do not produce PDDL. Output a concise list of free intervals in the format HH:MM-HH:MM.",
                "prompt": "Agent name: charles. Public information: {environment->public_information}. Private schedule: {agents->charles->private_information}. Goal: {agents->charles->goal}. Provide Charles's free time windows on Monday between the work hours that are at least {environment->init->meeting_duration_minutes} minutes long. Use the output name avail_charles."
            }
        },
        "betty": {
            "report_availability": {
                "input": [],
                "output": "avail_betty",
                "system_prompt": "You are an assistant that converts a participant's private schedule into a set of free time windows within the given work hours. Provide structured availability intervals that are at least as long as the requested meeting duration. Do not produce PDDL. Output a concise list of free intervals in the format HH:MM-HH:MM.",
                "prompt": "Agent name: betty. Public information: {environment->public_information}. Private schedule: {agents->betty->private_information}. Goal: {agents->betty->goal}. Provide Betty's free time windows on Monday between the work hours that are at least {environment->init->meeting_duration_minutes} minutes long. Use the output name avail_betty."
            }
        },
        "temporal_auditor": {
            "audit": {
                "input": [
                    "avail_theresa",
                    "avail_charles",
                    "avail_betty"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert temporal auditor. Your job is to check temporal and causal consistency, normalize intervals to the declared granularity, remove any bookkeeping shortcuts, and flag or correct overlapping or ambiguous intervals. Provide a cleaned combined availability representation suitable for planning.",
                "prompt": "Audit the following reported availabilities: {avail_theresa}, {avail_charles}, {avail_betty}. Use public information {environment->public_information} and your role {agents->temporal_auditor->private_information}. Normalize intervals to {environment->init->time_slot_granularity_minutes} minute granularity, ensure each free interval is at least {environment->init->meeting_duration_minutes} minutes where applicable, and produce a cleaned availability summary named audit_report. If you find contradictions or assumptions, state them explicitly and correct them conservatively."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "avail_theresa",
                    "avail_charles",
                    "avail_betty",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert at producing PDDL for classical planners, and you target the FastDownwards solver. Using the cleaned availabilities and auditor output, produce a PDDL domain and a PDDL problem that models scheduling a single meeting of the requested duration between the participants within the allowed work hours. Keep action definitions clear and discrete and model time in a way compatible with FastDownwards, for example by discretizing into slots. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Do not assume unavailable information without noting it.",
                "prompt": "You are the orchestrator. Inputs available: {avail_theresa}, {avail_charles}, {avail_betty}, {audit_report}. Global goal: {agents->orchestrator->goal}. Public information: {environment->public_information}. Create a PDDL domain and problem pair that schedules one 60 minute meeting on Monday between 09:00 and 17:00 respecting all cleaned availabilities. Use discrete time slots consistent with {environment->init->time_slot_granularity_minutes} and target the FastDownwards solver. Enclose the domain in <domain></domain> and the problem in <problem></problem> and label the output as pddl_orchestrator."
            }
        },
        "constraints": [
            "theresa.report_availability->temporal_auditor.audit",
            "charles.report_availability->temporal_auditor.audit",
            "betty.report_availability->temporal_auditor.audit",
            "theresa.report_availability->orchestrator.pddl",
            "charles.report_availability->orchestrator.pddl",
            "betty.report_availability->orchestrator.pddl",
            "temporal_auditor.audit->orchestrator.pddl"
        ]
    }
}