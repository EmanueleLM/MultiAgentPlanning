{
    "name": "Depots1",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "loader",
            "driver",
            "auditor",
            "orchestrator"
        ],
        "loader": {
            "private_information": [
                "I manage hoist operations and know hoist preconditions and effects for lift, drop, load, and unload.",
                "I know that hoists must be co-located with the object and be available to lift, and that lifting makes the hoist unavailable."
            ],
            "goal": "Produce a clear, structured specification of hoist actions, preconditions, and effects that can be integrated into a multi-agent PDDL model."
        },
        "driver": {
            "private_information": [
                "I manage truck movement and know drive preconditions and effects for moving trucks between places.",
                "I know that trucks can be driven only from their current location and after driving the truck's location changes to the destination."
            ],
            "goal": "Produce a clear, structured specification of driving actions, preconditions, and effects that can be integrated into a multi-agent PDDL model."
        },
        "auditor": {
            "private_information": [
                "I inspect temporal and causal consistency and identify bookkeeping shortcuts like quota tokens or ad-hoc flags.",
                "I ensure action descriptions are causally complete and that no silent state changes are assumed."
            ],
            "goal": "Audit the specifications from loader and driver for temporal and causal consistency, remove bookkeeping shortcuts, and produce a corrected specification report."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the specifications and audit outputs into a final PDDL domain and problem pair targeting the FastDownward planner, keeping agent actions distinct."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "surfaces": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3",
                "crate0",
                "crate1",
                "crate2"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "state": [
                "crate0 at depot0",
                "crate1 at depot0",
                "crate2 at depot2",
                "hoist0 at depot0",
                "hoist1 at depot1",
                "hoist2 at depot2",
                "hoist3 at distributor0",
                "pallet0 at depot0",
                "pallet1 at depot1",
                "pallet2 at depot2",
                "pallet3 at distributor0",
                "truck0 at depot0",
                "truck1 at depot1",
                "truck2 at depot0",
                "hoist0 available",
                "hoist1 available",
                "hoist2 available",
                "hoist3 available",
                "crate1 clear",
                "crate2 clear",
                "pallet1 clear",
                "pallet3 clear",
                "crate0 on pallet0",
                "crate1 on crate0",
                "crate2 on pallet2"
            ]
        },
        "public_information": [
            "Places are of two kinds: depots and distributors.",
            "Pallets and crates are surfaces that can support crates.",
            "Depots and distributors are connected by roads; trucks can drive between any two places.",
            "Actions exist for driving trucks, and for hoist operations: lift, drop, load, unload.",
            "Key action rules: a truck can be driven only if it is at the origin; after driving, its location is updated to the destination.",
            "Hoist lift preconditions: hoist and crate co-located, hoist available, crate clear. Effects: hoist lifts crate, hoist not available, crate removed from surface and place, surface becomes clear.",
            "Hoist drop preconditions: hoist lifting crate, hoist and surface co-located, surface clear. Effects: crate placed on surface, crate at place, surface becomes not clear, crate becomes clear, hoist becomes available and stops lifting.",
            "Hoist load preconditions: hoist lifting crate, hoist and truck co-located. Effects: crate becomes in truck and no longer at place or on surface, hoist becomes available and stops lifting.",
            "Hoist unload preconditions: hoist available, hoist and truck co-located, crate in truck. Effects: hoist lifts crate (hoist not available) and crate is removed from truck.",
            "The global goal is to make crate0 on pallet3, crate1 on pallet0, and crate2 on crate0."
        ]
    },
    "workflow": {
        "loader": {
            "spec": {
                "input": [],
                "output": "loader_spec",
                "system_prompt": "You are an expert on hoist operations and action modeling. Provide a clear structured specification (not raw PDDL) of the hoist actions: lift, drop, load, unload. For each action include parameter types, preconditions, effects, and any invariants. Do not emit PDDL; produce a machine-readable specification and small illustrative examples if useful.",
                "prompt": "You are the loader agent. Use the environment public information and your private knowledge to produce a structured, unambiguous specification of hoist actions including parameters, preconditions, positive and negative effects, and notes on concurrency and resource occupation. Keep the specification self-contained."
            }
        },
        "driver": {
            "spec": {
                "input": [],
                "output": "driver_spec",
                "system_prompt": "You are an expert on vehicle movement and action modeling. Provide a clear structured specification (not raw PDDL) of the drive action for trucks. For the action include parameter types, preconditions, effects, and any invariants about place connectivity. Do not emit PDDL; produce a machine-readable specification and small illustrative examples if useful.",
                "prompt": "You are the driver agent. Use the environment public information and your private knowledge to produce a structured, unambiguous specification of the drive action including parameters, preconditions, and effects. Clarify assumptions about roads and simultaneous movement."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "loader_spec",
                    "driver_spec"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor of modeling consistency, causal ordering, and temporal constraints. Inspect provided action specifications and remove or flag bookkeeping shortcuts such as ad-hoc tokens, hidden state changes, or post-hoc penalties. Produce a corrected specification report that enforces causal completeness and explicit resource constraints.",
                "prompt": "You are the auditor. Receive the loader_spec and driver_spec and produce an audit_report that lists inconsistencies, suggests concrete corrections, enforces explicit causal links (e.g., resource occupation/release), and ensures actions can be translated to classical PDDL with clear preconditions and effects."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "loader_spec",
                    "driver_spec",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert at constructing PDDL domains and problems for FastDownward. Integrate the agent specifications and the auditor report into a single multi-agent PDDL domain and problem. Keep actions of different agents distinct by prefixing action names with agent identifiers. Ensure the PDDL targets FastDownward compatibility (STRIPS/typed predicates allowed) and include type declarations where appropriate. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are the orchestrator. Use loader_spec, driver_spec, and audit_report to produce a complete PDDL domain and a PDDL problem that encodes the initial state and the stated goals. Keep hoist and truck actions distinct and include types for places, hoists, trucks, and surfaces. Do not assume undocumented shortcuts. Enclose the domain in <domain> tags and the problem in <problem> tags."
            }
        },
        "constraints": [
            "loader.spec->orchestrator.pddl",
            "driver.spec->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}