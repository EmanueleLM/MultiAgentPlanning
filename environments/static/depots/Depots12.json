{
    "name": "Depots12",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_planner",
            "hoist_planner",
            "auditor",
            "orchestrator"
        ],
        "truck_planner": {
            "private_information": [
                "I specialize in modelling trucks, places, and roads and the driving action between places",
                "I know that trucks can only be driven if they are at the origin place and that driving moves the truck from origin to destination"
            ],
            "goal": "Provide a clear and unambiguous model fragment describing truck related predicates, action schemas, objects and relevant initial facts that concern trucks and places"
        },
        "hoist_planner": {
            "private_information": [
                "I specialize in modelling hoists, surfaces, and crate manipulations using hoists",
                "I know lifting, dropping, loading into trucks, and unloading from trucks semantics and typical preconditions and effects"
            ],
            "goal": "Provide a clear and unambiguous model fragment describing hoist related predicates, action schemas, objects and relevant initial facts that concern hoists, surfaces and crates"
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts such as tokens or post hoc penalties",
                "I validate that preconditions and effects are causally consistent and that no action uses a bookkeeping shortcut instead of explicit preconditions and effects"
            ],
            "goal": "Produce an audit report that identifies missing causal links, temporal inconsistencies, and any bookkeeping shortcuts in the model fragments provided by other agents and recommend corrections"
        },
        "orchestrator": {
            "private_information": [
                "I coordinate integration of model fragments into a single multiagent PDDL domain and problem for the FastDownwards solver",
                "I must keep actions belonging to different agents distinct and preserve clear object naming and typing"
            ],
            "goal": "Integrate the model fragments and the auditor report to produce a final PDDL domain and PDDL problem targeted to the FastDownwards solver that achieves the global goal"
        }
    },
    "environment": {
        "init": {
            "places_total": 6,
            "pallets_total": 4,
            "crates_total": 3,
            "trucks_total": 3,
            "hoists_total": 4
        },
        "public_information": [
            "There are two kinds of place types: depot and distributor",
            "A depot is a type of place",
            "A distributor is a type of place",
            "A pallet is a type of surface",
            "A crate is a type of surface",
            "Trucks can drive between any two depots or distributors by roads",
            "Actions available include driving a truck from one place to another, using a hoist to lift a crate from a surface, dropping a crate to a surface, loading a crate into a truck with a hoist, and unloading a crate from a truck with a hoist",
            "Driving a truck is only possible if the truck is at the origin place and results in the truck being at the destination and not at the origin",
            "Lifting a crate by a hoist requires the hoist and crate at the same place, the hoist available, and the crate clear. Lifting makes the crate not at the place, the hoist lifting the crate, the hoist not available, the source surface clear, and the crate not on that surface",
            "Dropping a crate by a hoist to a surface requires the hoist and the surface at the place, the surface clear, and the hoist lifting the crate. Dropping makes the hoist available, the hoist not lifting, the crate at the place, the surface not clear, the crate clear, and the crate on the surface",
            "Loading a crate into a truck with a hoist requires the hoist at the same place, the truck at the same place, and the hoist lifting the crate. Loading places the crate in the truck and updates hoist and surface state accordingly",
            "Unloading a crate from a truck with a hoist requires the hoist at the same place as the truck, the hoist available, and the crate in the truck. Unloading results in the crate not in the truck, the hoist not available, and the hoist lifting the crate",
            "Initial facts: crate0 is at depot2",
            "Initial facts: crate1 is at distributor0",
            "Initial facts: crate2 is at distributor0",
            "Initial facts: hoist0 is at depot0",
            "Initial facts: hoist1 is at depot1",
            "Initial facts: hoist2 is at depot2",
            "Initial facts: hoist3 is at distributor0",
            "Initial facts: pallet0 is at depot0",
            "Initial facts: pallet1 is at depot1",
            "Initial facts: pallet2 is at depot2",
            "Initial facts: pallet3 is at distributor0",
            "Initial facts: truck0 is at depot1",
            "Initial facts: truck1 is at depot0",
            "Initial facts: truck2 is at depot1",
            "Initial facts: hoist0 is available",
            "Initial facts: hoist1 is available",
            "Initial facts: hoist2 is available",
            "Initial facts: hoist3 is available",
            "Initial facts: crate0 is clear",
            "Initial facts: crate2 is clear",
            "Initial facts: pallet0 is clear",
            "Initial facts: pallet1 is clear",
            "Initial facts: crate0 is on pallet2",
            "Initial facts: crate1 is on pallet3",
            "Initial facts: crate2 is on crate1",
            "Goal facts: crate0 is on crate1",
            "Goal facts: crate1 is on pallet3",
            "Goal facts: crate2 is on pallet1"
        ]
    },
    "workflow": {
        "truck_planner": {
            "model_fragment": {
                "input": [],
                "output": "truck_fragment",
                "system_prompt": "You are an expert in modelling transportation and road networks. Provide a precise model fragment that defines the truck related object types, predicates relevant to trucks and places, a list of truck action schemas with explicit preconditions and effects using clear predicate names, and the set of truck related initial facts you rely on. Do not emit full PDDL domain or problem. Use structured enumerations and keep names that will be directly usable by the orchestrator.",
                "prompt": "You are truck_planner. Given the public information and your private knowledge, enumerate the object types, predicates, and actions relevant to trucks and driving that you propose. List each action name with its preconditions and effects in a concise structured form. List the truck related initial facts you assume from the public information. Do not output PDDL. Keep naming consistent and avoid shortcuts."
            }
        },
        "hoist_planner": {
            "model_fragment": {
                "input": [],
                "output": "hoist_fragment",
                "system_prompt": "You are an expert in modelling manipulation with hoists and stacking on surfaces. Provide a precise model fragment that defines hoist, crate, and surface related object types, predicates relevant to lifting dropping loading and unloading, and action schemas with explicit preconditions and effects. Do not emit full PDDL domain or problem. Use structured enumerations and keep names that will be directly usable by the orchestrator.",
                "prompt": "You are hoist_planner. Given the public information and your private knowledge, enumerate object types, predicates, and actions relevant to hoists, lifting, dropping, loading, and unloading. For each action provide preconditions and effects in a concise structured form. List the hoist and surface related initial facts you assume. Do not output PDDL. Avoid bookkeeping shortcuts and be explicit about causal effects."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_fragment",
                    "hoist_fragment"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor for planning models. Your job is to validate temporal and causal consistency and to remove or flag bookkeeping shortcuts. Produce a structured audit report listing any missing causal links, conflicting assumptions, naming mismatches, unsafe shortcuts, and recommended corrections. Do not produce PDDL. Your report will be used by the orchestrator to revise and integrate model fragments.",
                "prompt": "You are auditor. Review the truck_fragment and hoist_fragment for causal completeness and temporal consistency. Identify any missing preconditions or effects, any places where a bookkeeping shortcut is used instead of explicit modelling, and any naming inconsistencies across fragments. Provide actionable corrections and notes for the orchestrator."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_fragment",
                    "hoist_fragment",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert integrator and PDDL engineer targeting the FastDownwards planner. Integrate the model fragments and the auditor report into a single coherent multiagent PDDL domain and a PDDL problem that encodes the full initial state and the specified goal. Keep actions from different agents distinct by prefixing or namespacing where appropriate. Ensure types, predicates, action parameter names, and object names are consistent. Produce a domain and a problem fully compatible with FastDownwards. Enclose the pddl domain between <domain></domain> tags and the pddl problem between <problem></problem> tags.",
                "prompt": "You are orchestrator. Receive the truck_fragment, the hoist_fragment, and the audit_report. Apply the auditor recommendations and integrate the fragments into a single PDDL domain and a single PDDL problem suitable for FastDownwards. Ensure that driving, lifting, dropping, loading, and unloading actions are modeled with correct preconditions and effects and that agent specific actions remain distinguishable. Emit the final PDDL domain and problem. Enclose the pddl domain between <domain></domain> tags and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_planner.model_fragment->orchestrator.pddl",
            "hoist_planner.model_fragment->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}