{
    "name": "Depots14",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_driver",
            "hoist_operator",
            "auditor",
            "orchestrator"
        ],
        "truck_driver": {
            "private_information": [
                "Trucks and their current locations: truck0 at distributor0, truck1 at depot0, truck2 at depot0",
                "Road network: depots and distributors are fully connected by roads, a truck can drive between any two places",
                "Drive action semantics: a truck can be driven only if the truck is at the origin place and after driving it is located at the destination place"
            ],
            "goal": "Propose feasible truck movement sequences and constraints to support placing crates on target pallets according to the global goal"
        },
        "hoist_operator": {
            "private_information": [
                "Hoists and availability: hoist0 at depot0 available, hoist1 at depot1 available, hoist2 at depot2 available, hoist3 at distributor0 available",
                "Surfaces and locations: pallet0 at depot0 clear, pallet1 at depot1 clear, pallet2 at depot2 clear, pallet3 at distributor0 clear",
                "Crates initial placements: crate0 at depot2 on pallet2 clear, crate1 at distributor0 on pallet3, crate2 at distributor0 on crate1 and crate2 is clear",
                "Hoist action semantics: lift, drop, load, unload preconditions and effects as described in the environment public rules"
            ],
            "goal": "Produce safe and detailed hoist operation sequences and surface state transitions needed to realize the global goal while respecting hoist availability and clearance constraints"
        },
        "auditor": {
            "private_information": [
                "I am responsible for auditing temporal and causal consistency of proposed subplans",
                "I will detect and remove bookkeeping shortcuts such as implicit availability tokens, post-hoc penalties, and other non-physical bookkeeping artifacts",
                "I know the action restrictions: drive preconditions and effects, hoist lift/drop/load/unload preconditions and effects as listed in the environment public rules"
            ],
            "goal": "Audit and certify that the truck and hoist subplans are temporally and causally consistent, remove bookkeeping shortcuts, and produce a corrected set of actionable predicates for the orchestrator"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate reports, corrected predicates, and the environment model to produce a final PDDL domain and problem for the FastDownwards solver that achieves: crate0 on pallet0, crate1 on pallet2, crate2 on pallet1"
        }
    },
    "environment": {
        "init": {
            "num_depots": 3,
            "depots": [
                "depot0",
                "depot1",
                "depot2"
            ],
            "num_distributors": 1,
            "distributors": [
                "distributor0"
            ],
            "num_trucks": 3,
            "num_hoists": 4,
            "num_pallets": 4,
            "num_crates": 3,
            "visibility": 1
        },
        "public_information": [
            "Types: place (depot or distributor), surface (pallet or crate), truck, hoist",
            "There are roads connecting every pair of depots and distributors. Trucks can drive between any two places.",
            "Action summaries: drive(truck, from, to), hoist_lift(hoist, crate, surface, place), hoist_drop(hoist, crate, surface, place), hoist_load(hoist, crate, truck, place), hoist_unload(hoist, crate, truck, place)",
            "Drive restriction: a truck can be driven from one place to another only if the truck is at the origin place. After driving the truck is at the destination and not at the origin.",
            "Hoist lift restriction: a crate can be lifted by a hoist only if the hoist is at the same place as the crate, the hoist is available, and the crate is clear. After lifting the crate is not at the place surface, the hoist is lifting the crate, the hoist becomes not available, the surface becomes clear, and the crate is no longer on the surface.",
            "Hoist drop restriction: a crate can be dropped by a hoist to a surface only if the hoist and surface are at the place, the surface is clear, and the hoist is lifting the crate. After dropping the crate the hoist becomes available, the hoist is not lifting the crate, the crate is at the place, the surface becomes not clear, the crate is clear, and the crate is on the surface.",
            "Hoist load restriction: a crate can be loaded by a hoist into a truck at a place only if the hoist is at the same place, the truck is at the same place, and the hoist is lifting the crate. After loading the crate it becomes in the truck. Loading also frees or occupies surfaces and hoists according to the hoist semantics.",
            "Hoist unload restriction: a crate can be unloaded by a hoist from a truck at a place only if the hoist is at the same place as the truck, the hoist is available, and the crate is in the truck. After unloading the crate it is not in the truck, the hoist becomes not available, and the hoist is lifting the crate.",
            "Initial state facts: crate0 at depot2, crate1 at distributor0, crate2 at distributor0, hoist0 at depot0 available, hoist1 at depot1 available, hoist2 at depot2 available, hoist3 at distributor0 available, pallet0 at depot0 clear, pallet1 at depot1 clear, pallet2 at depot2 clear, pallet3 at distributor0 clear, crate0 on pallet2 clear, crate1 on pallet3, crate2 on crate1 clear, truck0 at distributor0, truck1 at depot0, truck2 at depot0",
            "Global goal facts: crate0 on pallet0, crate1 on pallet2, crate2 on pallet1"
        ]
    },
    "workflow": {
        "truck_driver": {
            "report": {
                "input": [],
                "output": "report_truck_driver",
                "system_prompt": "You are the truck_driver agent. Your role is to analyze truck movement feasibility and produce a structured report of truck-related predicates and recommended drive sequences. Provide explicit preconditions and effects for each proposed drive step, enumerate reachable places for each truck, and highlight potential conflicts with hoist schedules. Do not emit PDDL. Produce a concise machine-readable report listing predicates and ordered move suggestions.",
                "prompt": "Agent: truck_driver. Environment public information: {environment->public_information}. Your private information: {agents->truck_driver->private_information}. Global goal: {agents->orchestrator->goal}. Produce a structured report: current truck locations, valid drive preconditions, candidate drive sequences to enable crate relocations, and any unresolved ambiguities or missing information for planning."
            }
        },
        "hoist_operator": {
            "report": {
                "input": [],
                "output": "report_hoist_operator",
                "system_prompt": "You are the hoist_operator agent. Your role is to analyze hoist and surface operations and produce a structured report of hoist-related predicates and recommended hoist action sequences (lift, drop, load, unload). Enumerate which crates are liftable by which hoists, surface clearance transitions, and temporal constraints implied by hoist availability. Do not emit PDDL. Provide a clear list of preconditions and effects for each suggested hoist step.",
                "prompt": "Agent: hoist_operator. Environment public information: {environment->public_information}. Your private information: {agents->hoist_operator->private_information}. Global goal: {agents->orchestrator->goal}. Produce a structured report describing which hoists can operate on which crates, required surface preparations, ordered hoist actions to realize crate moves, and any concurrency constraints."
            }
        },
        "auditor": {
            "audit": {
                "input": [],
                "output": "audit_report",
                "system_prompt": "You are the auditor agent. Your role is to perform temporal and causal auditing of proposed subplans and to eliminate bookkeeping shortcuts. Specifically detect and remove implicit availability tokens, post-hoc penalties, quota tokens, and other non-physical constructs. Translate any such shortcuts into explicit actionable predicates and ordering constraints. Do not emit PDDL. Provide a corrected consistency report.",
                "prompt": "Agent: auditor. Environment public information: {environment->public_information}. Your private information: {agents->auditor->private_information}. Global goal: {agents->orchestrator->goal}. When given subplan fragments from truck_driver and hoist_operator, produce a corrected, temporally and causally consistent set of predicates and ordering constraints suitable for encoding in PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "report_truck_driver",
                    "report_hoist_operator",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator. Your responsibility is to integrate the reports and audited predicates into a single correct multi-agent planning model and produce a PDDL domain and a PDDL problem file suitable for the FastDownwards solver. Keep actions belonging to trucks and hoists distinct. Encode types, predicates, actions, and initial and goal states clearly. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target FastDownwards compatibility and avoid planner-specific extensions incompatible with FastDownwards.",
                "prompt": "Agent: orchestrator. Use the following inputs: report from truck_driver: {report_truck_driver}, report from hoist_operator: {report_hoist_operator}, audit corrections: {audit_report}. Your task is to produce a complete PDDL domain and a PDDL problem that implements the environment rules and achieves the global goal: crate0 on pallet0, crate1 on pallet2, crate2 on pallet1. Keep truck actions distinct from hoist actions. Enclose the domain between <domain></domain> and the problem between <problem></problem>. The produced PDDL must be ready for FastDownwards."
            }
        },
        "constraints": [
            "truck_driver.report->orchestrator.pddl",
            "hoist_operator.report->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}