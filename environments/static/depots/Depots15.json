{
    "name": "Depots15",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "planner_engineer",
            "hoist_operator",
            "truck_dispatcher",
            "auditor",
            "orchestrator"
        ],
        "planner_engineer": {
            "private_information": [
                "Expert in modeling places, surfaces, and object relationships",
                "Focus on crates and pallets semantics and stacking constraints"
            ],
            "goal": "Achieve the goal state: crate0 on pallet3, crate1 on crate2, crate2 on pallet2 by providing a precise domain model and action semantics."
        },
        "hoist_operator": {
            "private_information": [
                "Expert in hoist capabilities, availability, lift and drop mechanics",
                "Knows the hoists and their physical constraints"
            ],
            "goal": "Provide accurate preconditions and effects for hoist-related actions and note any concurrency or mutual exclusion constraints."
        },
        "truck_dispatcher": {
            "private_information": [
                "Expert in truck mobility, locations, and driving preconditions and effects",
                "Knows that roads connect every pair of places"
            ],
            "goal": "Provide accurate preconditions and effects for truck drive actions and note assumptions about accessibility."
        },
        "auditor": {
            "private_information": [
                "Role: audit temporal and causal consistency, remove bookkeeping shortcuts and highlight implicit assumptions",
                "Detects missing frame axioms, resource conflicts, and post-hoc penalties"
            ],
            "goal": "Produce an audit report identifying potential temporal, causal, and bookkeeping issues in the partial specifications and recommend fixes."
        },
        "orchestrator": {
            "private_information": [
                "Will integrate analyses into a single PDDL domain and problem suitable for the FastDownward planner",
                "Responsible for keeping agent actions distinct and resolving naming mismatches"
            ],
            "goal": "Produce the final PDDL domain and problem targeted at FastDownward that implements the logistics plan and achieves the goal."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "pallets": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3"
            ],
            "crates": [
                "crate0",
                "crate1",
                "crate2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ]
        },
        "public_information": [
            "There are places of type depot and distributor. Depots and distributors are directly connected by roads and any truck can drive between any two places.",
            "A depot is a type of place.",
            "A distributor is a type of place.",
            "A pallet is a type of surface.",
            "A crate is a type of surface.",
            "Available actions include: drive a truck from one place to another, hoist lift crate from a surface at a place, hoist drop crate to a surface at a place, hoist load crate into truck at a place, hoist unload crate from truck at a place.",
            "Drive preconditions and effects: a truck can be driven only if it is at the origin place; after driving it is at the destination and no longer at the origin.",
            "Hoist lift preconditions and effects: hoist and crate must be at same place, hoist must be available, and crate must be clear; after lift the crate is held by the hoist, hoist becomes unavailable, the original surface becomes clear, and the crate is no longer on that surface or at that place.",
            "Hoist drop preconditions and effects: hoist and surface must be at same place, surface must be clear, hoist must be lifting the crate; after drop the hoist becomes available, hoist no longer lifts the crate, the crate is at the place, the surface becomes not clear, the crate is clear, and the crate is on the surface.",
            "Hoist load preconditions and effects: hoist and truck must be at same place and hoist must be lifting the crate; after load the crate is in the truck and the hoist becomes available and no longer lifting the crate.",
            "Hoist unload preconditions and effects: hoist must be at same place as the truck, hoist must be available, and the crate must be in the truck; after unload the crate is not in the truck, the hoist becomes unavailable and is lifting the crate.",
            "Initial conditions: crate0 is at depot2, crate1 is at depot1, crate2 is at depot2, hoist0 is at depot0, hoist1 is at depot1, hoist2 is at depot2, hoist3 is at distributor0, pallet0 is at depot0, pallet1 is at depot1, pallet2 is at depot2, pallet3 is at distributor0, truck0 is at depot2, truck1 is at depot2, truck2 is at depot1, hoist0 is available, hoist1 is available, hoist2 is available, hoist3 is available, crate1 is clear, crate2 is clear, pallet0 is clear, pallet3 is clear, crate0 is on pallet2, crate1 is on pallet1, crate2 is on crate0.",
            "Goal: crate0 is on pallet3, crate1 is on crate2, crate2 is on pallet2."
        ]
    },
    "workflow": {
        "planner_engineer": {
            "analysis": {
                "input": [],
                "output": "planner_spec",
                "system_prompt": "You are an expert modeler of object types, surfaces, and stacking relations. Your task is to read the public information and your private information and produce a concise structured analysis that lists the domain objects and types, predicates needed to represent locations and on relations, the invariants about surfaces and clear predicates, and any naming ambiguities that other agents should be aware of. Do not emit PDDL. Focus on precision of predicates, typing, and invariants.",
                "prompt": "Agent name: planner_engineer. Use the environment public information: {environment->public_information} and your private information: {agents->planner_engineer->private_information}. Produce a structured analysis containing: objects and types to include, predicates required, invariants and frame axioms that are necessary to avoid bookkeeping shortcuts, and any open questions you cannot resolve from the given information."
            }
        },
        "hoist_operator": {
            "analysis": {
                "input": [],
                "output": "hoist_spec",
                "system_prompt": "You are an expert in hoist mechanics and resource modeling. Read the public information and your private information and produce a precise description of hoist-related actions including preconditions, effects, resource usage (availability), and concurrency constraints. Do not emit PDDL. Highlight any implicit assumptions about lifting, surfaces, and truck interactions.",
                "prompt": "Agent name: hoist_operator. Use the environment public information: {environment->public_information} and your private information: {agents->hoist_operator->private_information}. Produce a structured action semantics description for hoist-lift, hoist-drop, hoist-load, and hoist-unload actions including required predicates, mutual exclusions, and state changes."
            }
        },
        "truck_dispatcher": {
            "analysis": {
                "input": [],
                "output": "truck_spec",
                "system_prompt": "You are an expert in vehicle mobility modeling. Read the public information and your private information and produce a precise description of the drive action, required location predicates, effects, and any assumptions about roads and reachability. Do not emit PDDL. Identify necessary frame axioms and when truck location changes must be represented.",
                "prompt": "Agent name: truck_dispatcher. Use the environment public information: {environment->public_information} and your private information: {agents->truck_dispatcher->private_information}. Produce a structured action semantics description for drive actions including preconditions, effects, and notes about concurrent operations with hoists and loading operations."
            }
        },
        "auditor": {
            "audit": {
                "input": [],
                "output": "audit_report",
                "system_prompt": "You are a temporal and causal consistency auditor. Read the public information and the other agents' expected roles and produce a report that finds missing frame axioms, resource bookkeeping shortcuts, potential race conditions, and recommended explicit modeling changes to ensure causal correctness and planner compatibility. Do not emit PDDL. Your role is to remove bookkeeping shortcuts and propose explicit predicates or mutex constraints.",
                "prompt": "Agent name: auditor. Use the environment public information: {environment->public_information} and your private information: {agents->auditor->private_information}. Produce an audit report listing problems that would prevent a planner from correctly reasoning about actions, and recommend concrete fixes such as additional predicates, resource tokens, or mutex constraints."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "planner_spec",
                    "hoist_spec",
                    "truck_spec",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL integration and in generating PDDL compatible with the FastDownward planner. You will receive structured analyses and an audit report from other agents. Your task is to resolve naming mismatches, keep agent actions distinct, incorporate auditor recommendations to remove bookkeeping shortcuts, and produce a single coherent PDDL domain and a problem file targeting FastDownward. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem>. Use types, typed predicates, and STRIPS-compatible constructs supported by FastDownward. Explicitly mark actions belonging to different agents via action name prefixes if needed.",
                "prompt": "Agent name: orchestrator. Integrate the following inputs: planner analysis: {planner_spec} hoist analysis: {hoist_spec} truck analysis: {truck_spec} auditor report: {audit_report} and the public information: {environment->public_information} and produce a final PDDL domain and problem targeted to the FastDownward solver that achieves the goal: crate0 on pallet3, crate1 on crate2, crate2 on pallet2. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner_engineer.analysis->orchestrator.pddl",
            "hoist_operator.analysis->orchestrator.pddl",
            "truck_dispatcher.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}