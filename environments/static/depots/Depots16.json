{
    "name": "Depots16",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "driver",
            "hoist_operator",
            "auditor",
            "orchestrator"
        ],
        "driver": {
            "private_information": [
                "I control trucks and plan their movements between places",
                "Trucks can drive between any two depots or distributors if located at the origin"
            ],
            "goal": "Plan driving sequences so trucks are at the required places to support crate movements"
        },
        "hoist_operator": {
            "private_information": [
                "I operate hoists to lift, drop, load, and unload crates",
                "A hoist must be co-located with an object to operate on it",
                "A hoist becomes unavailable when lifting and becomes available when not lifting"
            ],
            "goal": "Plan hoist operations to move crates between surfaces and trucks while respecting availability and clearance constraints"
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts such as quota tokens or post-hoc penalties",
                "I check that all preconditions and effects are explicit and that no implicit assumptions remain"
            ],
            "goal": "Produce an audit report identifying potential causal or temporal inconsistencies and recommend concrete fixes to models"
        },
        "orchestrator": {
            "private_information": [
                "I integrate partial models from other agents and produce a final planning problem"
            ],
            "goal": "Integrate models and the audit findings to produce a final PDDL domain and problem targeted to the FastDownwards solver that achieves the global goal"
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "pallets": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3"
            ],
            "crates": [
                "crate0",
                "crate1",
                "crate2"
            ],
            "connectivity": "Roads fully connect all depots and distributors; trucks can drive between any two places"
        },
        "public_information": [
            "A depot is a type of place",
            "A distributor is a type of place",
            "A pallet is a type of surface",
            "A crate is a type of surface",
            "Actions available: drive a truck, hoist lift, hoist drop, hoist load into truck, hoist unload from truck",
            "Drive precondition: truck must be at origin place",
            "Drive effect: truck not at origin and is at destination",
            "Hoist lift preconditions: hoist at same place as crate, hoist available, crate clear",
            "Hoist lift effects: crate not at place, hoist lifts crate, hoist not available, surface becomes clear, crate not on surface",
            "Hoist drop preconditions: hoist and surface at same place, surface clear, hoist lifting crate",
            "Hoist drop effects: hoist available, hoist not lifting crate, crate at place, surface not clear, crate clear, crate on surface",
            "Hoist load preconditions: hoist at same place, truck at same place, hoist lifting crate",
            "Hoist load effects: crate is in truck, hoist available, hoist not lifting crate (implicit by load)",
            "Hoist unload preconditions: hoist at same place as truck, hoist available, crate in truck",
            "Hoist unload effects: crate not in truck, hoist not available, hoist lifting crate",
            "Initial facts: crate0 is at depot0",
            "Initial facts: crate1 is at depot2",
            "Initial facts: crate2 is at depot0",
            "Initial facts: hoist0 is at depot0",
            "Initial facts: hoist1 is at depot1",
            "Initial facts: hoist2 is at depot2",
            "Initial facts: hoist3 is at distributor0",
            "Initial facts: pallet0 is at depot0",
            "Initial facts: pallet1 is at depot1",
            "Initial facts: pallet2 is at depot2",
            "Initial facts: pallet3 is at distributor0",
            "Initial facts: truck0 is at depot0",
            "Initial facts: truck1 is at depot1",
            "Initial facts: truck2 is at depot2",
            "Initial facts: hoist0 is available",
            "Initial facts: hoist1 is available",
            "Initial facts: hoist2 is available",
            "Initial facts: hoist3 is available",
            "Initial facts: crate1 is clear",
            "Initial facts: crate2 is clear",
            "Initial facts: pallet1 is clear",
            "Initial facts: pallet3 is clear",
            "Initial facts: crate0 is on pallet0",
            "Initial facts: crate1 is on pallet2",
            "Initial facts: crate2 is on crate0",
            "Goal: crate0 is on crate1",
            "Goal: crate1 is on pallet0",
            "Goal: crate2 is on pallet2"
        ]
    },
    "workflow": {
        "driver": {
            "model": {
                "input": [],
                "output": "model_driver",
                "system_prompt": "You are the driver domain expert. Produce an explicit structured description of the driving actions, their preconditions, and effects. Do not emit PDDL. Focus on trucks, places, and road connectivity and any invariants or implicit assumptions that must be made explicit.",
                "prompt": "Agent name driver. Use the following public information: {environment->public_information}. Use your private knowledge: {agents->driver->private_information}. Your goal is: {agents->driver->goal}. Provide a structured model of the drive actions and any required predicates and invariants."
            }
        },
        "hoist_operator": {
            "model": {
                "input": [],
                "output": "model_hoist",
                "system_prompt": "You are the hoist operations expert. Produce an explicit structured description of hoist-related actions, their precise preconditions, and effects. Do not emit PDDL. Make explicit any concurrency or resource constraints such as hoist availability and clearance.",
                "prompt": "Agent name hoist_operator. Use the following public information: {environment->public_information}. Use your private knowledge: {agents->hoist_operator->private_information}. Your goal is: {agents->hoist_operator->goal}. Provide a structured model of hoist lift, drop, load, and unload actions including required predicates and effects."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_driver",
                    "model_hoist"
                ],
                "output": "audit_report",
                "system_prompt": "You are a temporal and causal auditor. Consume the partial models and produce a report that identifies missing preconditions, unintended shortcuts, bookkeeping tokens, cyclic dependencies, or implicit effects. Propose concrete fixes to the models so they are explicit and solver-friendly.",
                "prompt": "Agent name auditor. You receive models: {model_driver} and {model_hoist}. Use your private knowledge: {agents->auditor->private_information}. Your goal is: {agents->auditor->goal}. Produce an audit_report that lists issues and recommended model corrections. Do not produce PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_driver",
                    "model_hoist",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator. Integrate the driver and hoist models and the auditor report and produce a single PDDL domain and a PDDL problem file targeting the FastDownwards planner. Keep actions distinct where appropriate. Emphasize explicit preconditions and effects, avoid bookkeeping shortcuts, and ensure compatibility with FastDownwards. Enclose the PDDL domain between <domain> and </domain> tags and the PDDL problem between <problem> and </problem> tags.",
                "prompt": "Agent name orchestrator. You receive model_driver: {model_driver}, model_hoist: {model_hoist}, and audit_report: {audit_report}. Use the public information: {environment->public_information}. Use your private knowledge: {agents->orchestrator->private_information}. Your goal is: {agents->orchestrator->goal}. Integrate the inputs and produce a PDDL domain and a PDDL problem suitable for FastDownwards. Enclose the PDDL domain between <domain> and </domain> tags and the PDDL problem between <problem> and </problem> tags."
            }
        },
        "constraints": [
            "driver.model->orchestrator.pddl",
            "hoist_operator.model->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}