{
    "name": "Depots2",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "planner",
            "simulator",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "Role: analyze the domain-level action descriptions and the human plan",
                "Output: structured symbolic analysis of preconditions and effects mapped to canonical predicate names"
            ],
            "goal": "Produce a clear mapping from the described actions to standard PDDL-style predicates and identify any missing or ambiguous references in the plan or initial statements."
        },
        "simulator": {
            "private_information": [
                "Role: perform deterministic forward simulation of action sequences on the provided initial states",
                "Output: state transition traces and detected mismatches between required preconditions and actual state"
            ],
            "goal": "Simulate the given plans step by step on the initial states and report resulting states and any failures or unexpected side effects."
        },
        "auditor": {
            "private_information": [
                "Role: audit temporal and causal consistency and remove bookkeeping shortcuts such as quota tokens or post-hoc penalties",
                "Output: a conservative corrected constraint set and recommendations that eliminate post-hoc adjustments and ensure causal monotonicity"
            ],
            "goal": "Detect and correct temporal, causal, and bookkeeping shortcuts in the action models and plan traces so the orchestrator can produce an honest PDDL encoding suitable for automated planners."
        },
        "orchestrator": {
            "private_information": [
                "Role: integrate analyses and produce the final PDDL domain and problem files targeting the FastDownwards solver",
                "Keep agent contributions distinct and ensure the final encoding is executable by FastDownwards"
            ],
            "goal": "Emit a complete PDDL domain and a PDDL problem compatible with FastDownwards that achieves the stated goals for the given initial conditions after integrating planner, simulator, and auditor outputs."
        }
    },
    "environment": {
        "init": {
            "grid_size": 4,
            "visibility": 1
        },
        "public_information": [
            "Objects present: object_0 object_1 object_2 object_3 object_4 object_5 object_6 object_7 object_8",
            "Actions and arities: paltry(object_0,object_1,object_2), sip(object_0,object_1,object_2), clip(object_0,object_1,object_2), wretched(object_0,object_1,object_2,object_3), memory(object_0,object_1,object_2), tightfisted(object_0,object_1,object_2)",
            "paltry preconditions: hand O0, cats O1, texture O2, vase O0 O1, next O1 O2; paltry effects: add next O0 O2; del vase O0 O1",
            "sip preconditions: hand O0, cats O1, texture O2, next O0 O2, next O1 O2; sip effects: add vase O0 O1; del next O0 O2",
            "clip preconditions: hand O0, sneeze O1, texture O2, next O1 O2, next O0 O2; clip effects: add vase O0 O1; del next O0 O2",
            "wretched preconditions: sneeze O0, texture O1, texture O2, stupendous O3, next O0 O1, collect O1 O3, collect O2 O3; wretched effects: add next O0 O2; del next O0 O1",
            "memory preconditions: cats O0, spring O1, spring O2, next O0 O1; memory effects: add next O0 O2; del next O0 O1",
            "tightfisted preconditions: hand O0, sneeze O1, texture O2, next O1 O2, vase O0 O1; tightfisted effects: add next O0 O2; del vase O0 O1",
            "Initial statement A: cats object_0, collect object_5 object_1, collect object_6 object_2, hand object_7, hand object_8, next object_0 object_6, next object_3 object_5, next object_4 object_6, next object_7 object_6, next object_8 object_6, sneeze object_3, sneeze object_4, spring object_5, spring object_6, stupendous object_1, stupendous object_2, texture object_5, texture object_6",
            "Goal A: next object_7 object_6 and next object_8 object_6",
            "Plan A: memory object_0 object_6 object_5 ; sip object_8 object_0 object_5 ; memory object_0 object_5 object_6 ; paltry object_8 object_0 object_6",
            "Initial statement B: cats object_0, collect object_5 object_1, collect object_6 object_2, hand object_7, hand object_8, next object_0 object_6, next object_3 object_5, next object_4 object_6, next object_7 object_6, next object_8 object_6, sneeze object_3, sneeze object_4, spring object_5, spring object_6, stupendous object_1, stupendous object_2, texture object_5, texture object_6",
            "Goal B: next object_7 object_5 and next object_8 object_5",
            "Plan B: (not provided) the human left the second plan blank and expects analysis and a validity check"
        ]
    },
    "workflow": {
        "planner": {
            "analysis": {
                "input": [],
                "output": "planner_analysis",
                "system_prompt": "You are the planner analyst. Inspect the environment public information and the human plan and produce a concise structured mapping from the described natural-language action schemas to canonical predicate names and parameter roles. Do not produce final PDDL files here; instead output a canonical action table with preconditions, add effects, delete effects, and any explicit ambiguities or missing references.",
                "prompt": "Agent name: planner. Use the environment public information: {environment->public_information}. Use the planner private information: {agents->planner->private_information}. Goal: {agents->planner->goal}. Provide a step-by-step symbolic analysis of actions and the given plan, listing for each action the required preconditions, add effects, delete effects, parameter bindings as understood, and any ambiguities to resolve."
            }
        },
        "simulator": {
            "trace": {
                "input": [],
                "output": "simulator_trace",
                "system_prompt": "You are the deterministic simulator. Take an initial state and a candidate plan and simulate each action application, producing the state trace after each step and any precondition failures or unexpected deletions. Do not write PDDL domain or problem files; produce an execution trace and a summary of failures or successful goal attainment.",
                "prompt": "Agent name: simulator. Use the environment public information: {environment->public_information}. Use the simulator private information: {agents->simulator->private_information}. Goal: {agents->simulator->goal}. Simulate the human plan(s) on the matching initial statement(s) and provide a stepwise state trace and a final assessment whether the goal is reached, and if not, why."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "planner_analysis",
                    "simulator_trace"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor of temporal and causal consistency. Your job is to remove bookkeeping shortcuts and post-hoc adjustments, detect temporal reversals or non-monotonic effects, and propose conservative corrections and constraints so the model is honest and planner-friendly. Produce an explicit list of corrected preconditions/effects and additional invariants the orchestrator must enforce.",
                "prompt": "Agent name: auditor. Use the planner analysis: {planner_analysis} and the simulator trace: {simulator_trace}. Use auditor private information: {agents->auditor->private_information}. Goal: {agents->auditor->goal}. Identify any quota tokens, post-hoc penalties, or bookkeeping shortcuts, explain why they are problematic for automated planning, and provide corrected causal constraints and invariants."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "planner_analysis",
                    "simulator_trace",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator. Integrate the planner analysis, simulator trace, and the auditor report and produce a complete PDDL domain and a PDDL problem file targeted specifically for the FastDownwards solver. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure types, predicates, action schemas, initial state and goal are consistent, conservative with auditor corrections, and that multi-agent responsibilities remain distinct if relevant.",
                "prompt": "Agent name: orchestrator. You receive the following inputs: planner analysis: {planner_analysis} ; simulator trace: {simulator_trace} ; auditor report: {audit_report}. Use orchestrator private information: {agents->orchestrator->private_information}. Global goal: {agents->orchestrator->goal}. Integrate the inputs, resolve naming ambiguities, enforce auditor constraints, and emit a FastDownwards-compatible PDDL domain and problem. Enclose the domain in <domain></domain> and the problem in <problem></problem>."
            }
        },
        "constraints": [
            "planner.analysis->orchestrator.pddl",
            "simulator.trace->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}