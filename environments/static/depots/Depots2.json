{
    "name": "Depots2",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "TruckManager",
            "LoadingSpecialist",
            "orchestrator"
        ],
        "TruckManager": {
            "private_information": [
                "I am responsible for managing the trucks and their movement between places (depots and distributors).",
                "Roads connect all places, enabling direct transit."
            ],
            "goal": "Plan the optimal movement of trucks to support the delivery goal."
        },
        "LoadingSpecialist": {
            "private_information": [
                "I am responsible for managing the hoists and handling all lifting, dropping, loading, and unloading operations of crates.",
                "Hoists operate only at their current location."
            ],
            "goal": "Ensure all necessary loading and unloading operations are planned efficiently."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Coordinate transportation and loading activities to achieve the goal: crate1 is on pallet0 and crate2 is on pallet3."
        }
    },
    "environment": {
        "init": {
            "grid_size": 4,
            "visibility": 1
        },
        "public_information": [
            "This is a logistics environment involving Depots (depot0, depot1, depot2) and Distributors (distributor0), connected by roads.",
            "Types defined: place, surface, crate, pallet, truck, hoist.",
            "Entities: Trucks (truck0, truck1, truck2), Hoists (hoist0, hoist1, hoist2, hoist3), Crates (crate0, crate1, crate2), Pallets (pallet0, pallet1, pallet2, pallet3).",
            "Initial State Locations:",
            "Trucks: truck0@depot2, truck1@depot0, truck2@depot2.",
            "Hoists: hoist0@depot0, hoist1@depot1, hoist2@depot2, hoist3@distributor0.",
            "Surfaces: pallet0@depot0, pallet1@depot1, pallet2@depot2, pallet3@distributor0.",
            "Crates: crate0@depot2, crate1@depot0, crate2@depot2.",
            "Initial State Conditions:",
            "Availability: All hoists (hoist0, 1, 2, 3) are available.",
            "Clearance: crate1, crate2, pallet1, pallet3 are clear.",
            "Stacking: crate0 is on pallet2, crate1 is on pallet0, crate2 is on crate0.",
            "Goal: Achieve the state where crate1 is on pallet0 AND crate2 is on pallet3."
        ]
    },
    "workflow": {
        "TruckManager": {
            "pddl": {
                "input": [],
                "output": "pddl_tm",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You focus only on the movement aspects of the logistics environment. Define the necessary types, predicates (like location), and the DRIVE action. You always provide a PDDL domain and a PDDL problem file to solve the movement aspects of the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is TruckManager. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following knowledge:\n{agents->TruckManager->private_information}\nThis is the global goal to solve:\n{agents->TruckManager->goal}\nFocus exclusively on modeling truck movement (DRIVE action) and relevant location predicates. Think step by step and provide a PDDL domain and a PDDL problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "LoadingSpecialist": {
            "pddl": {
                "input": [],
                "output": "pddl_ls",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You focus only on the hoisting and loading aspects of the logistics environment. Define the necessary types, predicates (like 'clear', 'lifting', 'on', 'in'), and the hoisting actions (LIFT, DROP, LOAD, UNLOAD). You always provide a PDDL domain and a PDDL problem file to solve the loading aspects of the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is LoadingSpecialist. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following knowledge:\n{agents->LoadingSpecialist->private_information}\nThis is the global goal to solve:\n{agents->LoadingSpecialist->goal}\nFocus exclusively on modeling hoisting operations (LIFT, DROP, LOAD, UNLOAD actions) and relevant object state predicates, ensuring they capture the provided restrictions. Think step by step and provide a PDDL domain and a PDDL problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_tm",
                    "pddl_ls"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). Your task is to combine fragmented domain knowledge provided by specialized agents into a single, cohesive PDDL domain and problem definition suitable for the FastDownwards solver. You must ensure all objects, initial states, goal states, and required actions (DRIVE, LIFT, DROP, LOAD, UNLOAD) are correctly integrated and defined according to the overall logistics requirements. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags.",
                "prompt": "You need to integrate the PDDL components provided by the TruckManager and the LoadingSpecialist to solve the comprehensive logistics task defined by the overall goal: {agents->orchestrator->goal}.\n\nTruckManager's PDDL (Movement focus):\n{pddl_tm}\n\nLoadingSpecialist's PDDL (Hoisting focus):\n{pddl_ls}\n\nReview the provided fragments, unify types and predicates, ensure all necessary object locations and state dependencies are correctly modeled across all actions (Drive, Lift, Drop, Load, Unload), and define the complete initial state and the final goal state based on the environment public information.\n\nThink step by step and provide the unified PDDL domain and PDDL problem files.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "TruckManager.pddl->orchestrator.pddl",
            "LoadingSpecialist.pddl->orchestrator.pddl"
        ]
    }
}