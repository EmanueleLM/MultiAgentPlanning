{
    "name": "Depots23",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "truck_driver",
            "hoist_operator",
            "logistics_coordinator",
            "auditor",
            "orchestrator"
        ],
        "truck_driver": {
            "private_information": [
                "I can drive trucks between any two places if the truck is at the origin place.",
                "Trucks initial positions: truck0 at distributor0, truck1 at depot1, truck2 at distributor0."
            ],
            "goal": "Support moving crates according to the global goal by driving trucks where needed."
        },
        "hoist_operator": {
            "private_information": [
                "I operate hoists that can lift drop load and unload crates at a place.",
                "Hoists initial positions and availability: hoist0 at depot0 available, hoist1 at depot1 available, hoist2 at depot2 available, hoist3 at distributor0 available.",
                "Surfaces: pallet0 at depot0, pallet1 at depot1, pallet2 at depot2, pallet3 at distributor0."
            ],
            "goal": "Enable crates to be moved between surfaces and trucks using hoists while respecting availability and clear constraints."
        },
        "logistics_coordinator": {
            "private_information": [
                "I know that depots and distributors are types of places and that roads connect any two places so trucks may drive between any two depots or distributors.",
                "I know the global goal and initial configuration of crates hoists pallets and trucks from public information."
            ],
            "goal": "Propose a feasible high level sequence of hoist load drive and unload steps that can achieve the global goal."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts such as quota tokens post-hoc penalties or other non-causal bookkeeping.",
                "I ensure plans respect preconditions and effects and that resource usage is consistent across temporal steps."
            ],
            "goal": "Ensure proposed plans are temporally and causally consistent and remove bookkeeping shortcuts so the plan is implementable."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final PDDL domain and problem targeting the FastDownwards solver that encodes the domain actions and the stated goal respecting all restrictions."
        }
    },
    "environment": {
        "init": {
            "grid_size": 8,
            "visibility": 2
        },
        "public_information": [
            "There are places of type depot and type distributor.",
            "A depot is a type of place.",
            "A distributor is a type of place.",
            "A pallet is a type of surface.",
            "A crate is a type of surface.",
            "Actions available: drive a truck from one place to another, hoist lift crate from a surface at a place, hoist drop crate to a surface at a place, hoist load crate into a truck at a place, hoist unload crate from a truck at a place.",
            "Restrictions: A truck can be driven from one place to another only if the truck is at the origin place. After driving the truck is at the destination place and not at the origin place.",
            "Restrictions: A crate can be lifted by a hoist only if the hoist is at the same place as the crate the hoist is available and the crate is clear. After lifting the crate the crate is not at the place the hoist is lifting the crate the hoist is not available the original surface becomes clear and the crate is not on the surface.",
            "Restrictions: A crate can be dropped by a hoist to a surface only if the hoist and surface are both at the place the surface is clear and the hoist is lifting the crate. After dropping the crate the hoist is available the hoist is not lifting the crate the crate is at the place the surface is not clear the crate is clear and the crate is on the surface.",
            "Restrictions: A crate can be loaded by a hoist into a truck at a place only if the hoist is at the same place the truck is at the same place and the hoist is lifting the crate. After loading the crate it is in the truck and the hoist becomes available and not lifting the crate. A crate can be unloaded by a hoist from a truck at a place only if the hoist is at the same place as the truck the hoist is available and the crate is in the truck. After unloading the crate the crate is not in the truck the hoist is not available and the hoist is lifting the crate.",
            "Initial facts: crate0 is at depot0 and crate1 is at depot0 and crate2 is at distributor0.",
            "Initial facts: hoist0 is at depot0 and hoist1 is at depot1 and hoist2 is at depot2 and hoist3 is at distributor0.",
            "Initial facts: pallet0 is at depot0 and pallet1 is at depot1 and pallet2 is at depot2 and pallet3 is at distributor0.",
            "Initial facts: truck0 is at distributor0 and truck1 is at depot1 and truck2 is at distributor0.",
            "Initial facts: hoist0 is available and hoist1 is available and hoist2 is available and hoist3 is available.",
            "Initial facts: crate1 is clear and crate2 is clear and pallet1 is clear and pallet2 is clear.",
            "Initial facts: crate0 is on pallet0 and crate1 is on crate0 and crate2 is on pallet3.",
            "Global goal: crate0 is on pallet2 and crate1 is on crate0 and crate2 is on pallet0."
        ]
    },
    "workflow": {
        "truck_driver": {
            "report": {
                "input": [],
                "output": "report_truck_driver",
                "system_prompt": "You are the truck driver agent. Produce a structured report that lists each truck its current location feasible drive moves and any constraints relevant to driving operations. Do not emit PDDL. Focus on mobility capabilities constraints on driving and which trucks could be used to transport crates when combined with hoist actions."
            }
        },
        "hoist_operator": {
            "report": {
                "input": [],
                "output": "report_hoist_operator",
                "system_prompt": "You are the hoist operator agent. Produce a structured report that lists each hoist its location availability which crates and surfaces are immediately liftable which crates can be loaded or unloaded at which places and any constraints on hoist operations. Do not emit PDDL. Provide clear precondition-effect style descriptions for each hoist action."
            }
        },
        "logistics_coordinator": {
            "proposal": {
                "input": [
                    "report_truck_driver",
                    "report_hoist_operator"
                ],
                "output": "proposal",
                "system_prompt": "You are the logistics coordinator. Integrate the truck and hoist reports and propose a high level sequence of actions. The proposal should include a temporal ordering of load drive and unload steps a mapping of crates to trucks and hoists and notes on resource contention. Do not emit final PDDL. Produce a clear step by step plan and identify any open assumptions."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "proposal"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor responsible for temporal and causal consistency. Analyze the proposal and identify any violations of preconditions or effects resource conflicts or implicit bookkeeping shortcuts. Remove shortcuts and produce corrected annotations and a vetted plan. Do not produce PDDL. Ensure the plan is implementable without post-hoc penalties or quota tokens."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "report_truck_driver",
                    "report_hoist_operator",
                    "proposal",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator. Integrate the reports the coordinator proposal and the auditor report and produce the final PDDL domain and PDDL problem files suitable for the FastDownwards planner. Model types predicates and actions for drive hoist lift drop load and unload and encode the restrictions and initial state and goal. Keep actions of distinct agents separate when relevant. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target FastDownwards."
            }
        },
        "constraints": [
            "truck_driver.report->logistics_coordinator.proposal",
            "hoist_operator.report->logistics_coordinator.proposal",
            "logistics_coordinator.proposal->auditor.audit",
            "auditor.audit->orchestrator.pddl",
            "truck_driver.report->orchestrator.pddl",
            "hoist_operator.report->orchestrator.pddl",
            "logistics_coordinator.proposal->orchestrator.pddl"
        ]
    }
}