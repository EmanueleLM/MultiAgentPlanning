{
    "name": "Depots29",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "depot_operator",
            "hoist_operator",
            "auditor",
            "orchestrator"
        ],
        "depot_operator": {
            "private_information": [
                "I coordinate trucks, depots, distributors, pallets and crates from a depot perspective.",
                "I know the topology: depots and distributors are pairwise reachable by road."
            ],
            "goal": "Provide a precise, machine-friendly specification of places, trucks, pallets, crates, initial locations and drive action preconditions and effects."
        },
        "hoist_operator": {
            "private_information": [
                "I know hoist capabilities and constraints for lifting, dropping, loading and unloading crates.",
                "Hoists operate only when co-located with the object and change availability state while lifting."
            ],
            "goal": "Provide a precise, machine-friendly specification of hoist actions, their preconditions and effects and of surface semantics (pallets, crates as surfaces)."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and identify bookkeeping shortcuts (quota tokens, post-hoc penalties or unrealistic implicit persistence)."
            ],
            "goal": "Analyze the models produced by other agents for temporal and causal consistency, remove or flag bookkeeping shortcuts, propose corrections and produce an audit report suitable for a planner integrator."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the specifications and the audit, synthesize a complete PDDL domain and problem targeted at the FastDownwards solver that achieves the goal crate1 on pallet1 and crate2 on pallet2."
        }
    },
    "environment": {
        "init": {
            "num_depots": 3,
            "num_distributors": 1,
            "num_crates": 3,
            "num_pallets": 4,
            "num_hoists": 4,
            "num_trucks": 3
        },
        "public_information": [
            "A depot is a type of place.",
            "A distributor is a type of place.",
            "A pallet is a type of surface.",
            "A crate is a type of surface.",
            "Trucks can drive between any two depots or distributors via roads.",
            "Actions available: drive truck, hoist lift, hoist drop, hoist load into truck, hoist unload from truck.",
            "Drive precondition: truck must be at the origin place. Drive effect: truck is at destination and no longer at origin.",
            "Hoist lift preconditions: hoist and crate at same place, hoist available, crate clear. Hoist lift effects: crate not at place, hoist is lifting crate, hoist not available, surface becomes clear, crate not on the surface.",
            "Hoist drop preconditions: hoist and surface at same place, surface clear, hoist lifting the crate. Hoist drop effects: hoist available, hoist not lifting crate, crate at place, surface not clear, crate clear, crate on surface.",
            "Hoist load into truck preconditions: hoist at same place, truck at same place, hoist lifting crate. Hoist load effects: crate in truck, hoist available, hoist not lifting crate.",
            "Hoist unload from truck preconditions: hoist at same place as truck, hoist available, crate in truck. Hoist unload effects: crate not in truck, hoist not available, hoist lifting crate.",
            "Initial state facts: crate0 is at distributor0, crate1 is at depot0, crate2 is at depot0.",
            "Initial state facts: hoist0 is at depot0, hoist1 is at depot1, hoist2 is at depot2, hoist3 is at distributor0.",
            "Initial state facts: pallet0 is at depot0, pallet1 is at depot1, pallet2 is at depot2, pallet3 is at distributor0.",
            "Initial state facts: truck0 is at depot0, truck1 is at depot1, truck2 is at depot2.",
            "Initial state facts: hoist0 is available, hoist1 is available, hoist2 is available, hoist3 is available.",
            "Initial state facts: crate0 is clear, crate2 is clear, pallet1 is clear, pallet2 is clear.",
            "Initial state facts: crate0 is on pallet3, crate1 is on pallet0, crate2 is on crate1.",
            "Global goal: crate1 is on pallet1 and crate2 is on pallet2."
        ]
    },
    "workflow": {
        "depot_operator": {
            "spec": {
                "input": [],
                "output": "model_depot_operator",
                "system_prompt": "You are the depot operator responsible for specifying places, trucks, pallets, crates and roads. Produce a precise structured specification describing objects, types, initial locations and the drive action signature with preconditions and effects. Do not emit PDDL. Provide explicit names for all objects and unambiguous semantics for predicates such as at, in-truck, on, clear. Be explicit about assumptions and list any omitted details that you cannot infer.",
                "prompt": "Provide a machine-friendly model that enumerates objects (depots, distributors, trucks, pallets, crates), the initial placement facts taken from the environment public information, and a formal description of the drive action with preconditions and effects. Use concise lists and structured bullet-like entries. Do not output PDDL."
            }
        },
        "hoist_operator": {
            "spec": {
                "input": [],
                "output": "model_hoist_operator",
                "system_prompt": "You are the hoist operator responsible for specifying hoist mechanics and the semantics of lift, drop, load and unload actions. Produce a precise structured specification describing hoist states, availability, lifting relations and surface semantics. Do not emit PDDL. Make explicit the exact preconditions and effects for hoist lift, drop, load and unload, and state any frame axioms or persistence assumptions you rely on.",
                "prompt": "Provide a machine-friendly model that defines hoist actions, their preconditions and effects, and the meaning of predicates such as lifting, available, on, clear and in-truck. Include any constraints about co-location and that surfaces are either clear or not. Do not output PDDL."
            }
        },
        "auditor": {
            "spec": {
                "input": [
                    "model_depot_operator",
                    "model_hoist_operator"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor for temporal and causal consistency. Given the models produced by other agents, identify implicit bookkeeping shortcuts, unrealistic persistence assumptions, and any causal cycles. Produce a corrective audit report that enumerates required clarifications, proposed fixes, and recommended additional fluents or constraints so a planner can reason temporally and causally without shortcuts.",
                "prompt": "Analyze the two provided models for drive and hoist actions. List any missing preconditions or overlooked effects that could create unrealistic shortcuts. Recommend explicit frame axioms or additional predicates to ensure sound causal and temporal behavior, and return a prioritized set of corrections suitable for integration by an orchestrator. Do not output PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_depot_operator",
                    "model_hoist_operator",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL and in integrating structured models into a single PDDL domain and problem. Produce a domain and a problem targeted at the FastDownwards planner. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep agent actions distinct where relevant and follow the corrected semantics from the audit report to avoid bookkeeping shortcuts. The final PDDL must be consistent and solvable for the given initial state and goal.",
                "prompt": "Integrate the depot operator model, the hoist operator model and the auditor's report to produce a complete PDDL domain and problem that achieve the goal crate1 on pallet1 and crate2 on pallet2 from the stated initial conditions. Target the FastDownwards solver and ensure the domain includes all necessary predicates, types, action definitions with preconditions and effects, and any required auxiliary predicates recommended by the auditor. Enclose domain and problem in <domain> and <problem> tags respectively."
            }
        },
        "constraints": [
            "depot_operator.spec->orchestrator.pddl",
            "hoist_operator.spec->orchestrator.pddl",
            "auditor.spec->orchestrator.pddl"
        ]
    }
}