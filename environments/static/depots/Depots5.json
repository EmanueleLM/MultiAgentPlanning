{
    "name": "Depots5",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "TruckManager",
            "CargoHandler",
            "orchestrator"
        ],
        "TruckManager": {
            "private_information": [
                "I specialize in managing truck logistics and movement between locations (places, depots, distributors)."
            ],
            "goal": "Define all PDDL types, predicates, and the DRIVE action required for truck logistics, based on the global requirement to achieve: crate1 is on pallet1 and crate2 is on pallet2."
        },
        "CargoHandler": {
            "private_information": [
                "I specialize in operating hoists and manipulating cargo (crates) on various surfaces (pallets, crates, trucks)."
            ],
            "goal": "Define all PDDL types, predicates, and actions (LIFT, DROP, LOAD, UNLOAD) required for cargo handling, based on the global requirement to achieve: crate1 is on pallet1 and crate2 is on pallet2."
        },
        "orchestrator": {
            "private_information": [
                "My role is to audit the plans provided by the specialist agents for temporal and causal consistency, and integrate them into a complete, executable logistics plan compatible with FastDownwards."
            ],
            "goal": "Plan the complete logistics process to achieve: crate1 is on pallet1 and crate2 is on pallet2."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "crates": [
                "crate0",
                "crate1",
                "crate2"
            ],
            "pallets": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "initial_state": [
                "crate0 is at distributor0",
                "crate1 is at distributor0",
                "crate2 is at distributor0",
                "hoist0 is at depot0",
                "hoist1 is at depot1",
                "hoist2 is at depot2",
                "hoist3 is at distributor0",
                "pallet0 is at depot0",
                "pallet1 is at depot1",
                "pallet2 is at depot2",
                "pallet3 is at distributor0",
                "truck0 is at depot0",
                "truck1 is at depot0",
                "truck2 is at depot1",
                "hoist0 is available",
                "hoist1 is available",
                "hoist2 is available",
                "hoist3 is available",
                "crate2 is clear",
                "pallet0 is clear",
                "pallet1 is clear",
                "pallet2 is clear",
                "crate0 is on pallet3",
                "crate1 is on crate0",
                "crate2 is on crate1"
            ],
            "final_goal": [
                "crate1 is on pallet1",
                "crate2 is on pallet2"
            ]
        },
        "public_information": [
            "The environment consists of Depots and Distributors (Places), connected by roads.",
            "Pallets and Crates are types of Surface.",
            "Hoists are used to move Crates between surfaces (Pallets, other Crates, or Trucks).",
            "The complete set of actions includes Drive, Lift, Drop, Load, and Unload, with specific spatial and state preconditions and effects."
        ]
    },
    "workflow": {
        "TruckManager": {
            "pddl": {
                "input": [],
                "output": "pddl_truck_manager",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is TruckManager. Your task is to define the necessary actions and predicates related ONLY to truck movement (DRIVE action) between places (depots/distributors). Do not include actions related to hoisting or cargo manipulation. Use the initial state facts provided in the environment description. \n\nGlobal Context:\n{environment->public_information}\nInitial State Facts:\n{environment->init->initial_state}\nGlobal Goal:\n{agents->TruckManager->goal}\n\nDefine the types, objects, and predicates necessary to support the truck movement logic. Provide a PDDL domain and a PDDL problem file that includes all movement objects but only the movement actions, aiming towards the global goal.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "CargoHandler": {
            "pddl": {
                "input": [],
                "output": "pddl_cargo_handler",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is CargoHandler. Your task is to define the necessary actions and predicates related ONLY to hoisting and cargo manipulation (LIFT, DROP, LOAD, UNLOAD actions). Do not include actions related to truck movement. Use the initial state facts provided in the environment description.\n\nGlobal Context:\n{environment->public_information}\nInitial State Facts:\n{environment->init->initial_state}\nGlobal Goal:\n{agents->CargoHandler->goal}\n\nDefine the types, objects, and predicates necessary to support the hoisting logic. Provide a PDDL domain and a PDDL problem file that includes all cargo manipulation objects but only the cargo manipulation actions, aiming towards the global goal.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_truck_manager",
                    "pddl_cargo_handler"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems (Planning Domain Definition Language) focusing on logistics and resource coordination. You are also required to audit the provided input plans for causal and temporal consistency, ensuring all necessary prerequisites are met and no bookkeeping shortcuts are present. You always provide a final, integrated PDDL domain and a PDDL problem file targeting the FastDownwards planner. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are the Orchestrator. You receive specialized PDDL segments from two planning agents: TruckManager (movement focus) and CargoHandler (hoisting focus). Your job is to integrate these segments into a single, comprehensive PDDL domain and problem that solves the entire logistics task. Crucially, you must audit the provided partial domains and problems, ensuring that all predicates, types, and initial conditions are consistent and cover the full scope of the required actions and state changes described in the original scenario.\n\nOriginal scenario Goal: {agents->orchestrator->goal}\nFinal Goal State: {environment->init->final_goal}\n\nTruckManager's PDDL (Movement Focus):\n{pddl_truck_manager}\n\nCargoHandler's PDDL (Hoisting Focus):\n{pddl_cargo_handler}\n\n1. Review the input PDDL segments for completeness and compatibility.\n2. Combine all types, objects, predicates, initial state facts, and actions from both segments.\n3. Ensure the integrated domain adheres strictly to the action constraints provided in the original use case.\n4. Define the final integrated problem using the initial state facts and the final goal state.\n\nThink step by step and provide the final audited and integrated PDDL domain and PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "TruckManager.pddl->orchestrator.pddl",
            "CargoHandler.pddl->orchestrator.pddl"
        ]
    }
}