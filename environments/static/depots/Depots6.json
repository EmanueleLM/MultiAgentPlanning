{
    "name": "Depots6",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "drivers",
            "hoist_ops",
            "auditor",
            "orchestrator"
        ],
        "drivers": {
            "private_information": [
                "Trucks can drive between any two depots or distributors.",
                "A truck can be driven only if it is currently at the origin place.",
                "Driving moves the truck from the origin place to the destination place."
            ],
            "goal": "Provide movement models and constraints for trucks so crates can be transported between places."
        },
        "hoist_ops": {
            "private_information": [
                "Hoists operate at places, can be available or lifting, and can change state when lifting or placing crates.",
                "Hoist actions include lift from a surface, drop to a surface, load into a truck, and unload from a truck.",
                "Hoist preconditions include co-location with the crate or truck and availability or lifting state as appropriate."
            ],
            "goal": "Provide action schemas and resource constraints for hoist operations to move crates between surfaces and trucks."
        },
        "auditor": {
            "private_information": [
                "Auditor must detect and remove bookkeeping shortcuts and ensure temporal and causal consistency.",
                "Bookkeeping shortcuts to flag include quota tokens, ad-hoc penalties, or any non-physical bookkeeping predicates that simplify causal flow."
            ],
            "goal": "Audit the partial models for causal and temporal consistency and produce a cleaned, minimal set of requirements for the orchestrator."
        },
        "orchestrator": {
            "private_information": [
                "You will receive models and reports from the other agents and must integrate them into a single PDDL domain and problem.",
                "The final PDDL should be compatible with the FastDownwards solver and keep agent actions distinct when needed."
            ],
            "goal": "Integrate models and produce a final PDDL domain and PDDL problem targeting the FastDownwards solver that achieves the global goal."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "crates": [
                "crate0",
                "crate1",
                "crate2"
            ],
            "pallets": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "initial_facts": [
                "crate0 is at depot2",
                "crate1 is at depot0",
                "crate2 is at depot0",
                "hoist0 is at depot0",
                "hoist1 is at depot1",
                "hoist2 is at depot2",
                "hoist3 is at distributor0",
                "pallet0 is at depot0",
                "pallet1 is at depot1",
                "pallet2 is at depot2",
                "pallet3 is at distributor0",
                "truck0 is at distributor0",
                "truck1 is at distributor0",
                "truck2 is at depot2",
                "hoist0 is available",
                "hoist1 is available",
                "hoist2 is available",
                "hoist3 is available",
                "crate0 is clear",
                "crate2 is clear",
                "pallet1 is clear",
                "pallet3 is clear",
                "crate0 is on pallet2",
                "crate1 is on pallet0",
                "crate2 is on crate1"
            ],
            "goal": [
                "crate0 is on crate2",
                "crate1 is on pallet2",
                "crate2 is on pallet1"
            ]
        },
        "public_information": [
            "A depot is a type of place.",
            "A distributor is a type of place.",
            "A pallet is a type of surface.",
            "A crate is a type of surface.",
            "Trucks can drive between any two depots or distributors.",
            "Actions available include drive a truck, hoist lift from surface, hoist drop to surface, hoist load into truck, and hoist unload from truck.",
            "Drive precondition: truck must be at the origin place. Drive effect: truck is not at origin and is at destination.",
            "Hoist lift preconditions: hoist at same place as crate, hoist available, and crate clear. Lift effects: crate not at place, hoist lifting crate, hoist not available, surface becomes clear, crate not on surface.",
            "Hoist drop preconditions: hoist and surface both at place, surface clear, hoist lifting the crate. Drop effects: hoist available, hoist not lifting crate, crate at place, surface not clear, crate clear, crate on surface.",
            "Hoist load preconditions: hoist at same place, truck at same place, hoist lifting crate. Loading places crate into truck and changes hoist and crate state accordingly.",
            "Hoist unload preconditions: hoist at same place as truck, hoist available, crate in truck. Unload effects: crate not in truck, hoist not available, hoist lifting crate."
        ]
    },
    "workflow": {
        "drivers": {
            "analysis": {
                "input": [],
                "output": "drivers_model",
                "system_prompt": "You are an expert in vehicle routing and truck movement modeling. Your task is to analyze the driving action and produce a clear specification of the driving operator as preconditions and effects, note necessary object types and fluents, and propose representation choices and invariants that the orchestrator should consider. Do not emit PDDL. Provide structured recommendations, examples of operator signatures, and potential naming conflicts to watch for.",
                "prompt": "You are the drivers agent. Use the environment public information and the initial conditions to produce a compact, unambiguous model of truck movement including preconditions, effects, and suggested predicate names. Highlight any assumptions and ambiguities that must be resolved by the orchestrator."
            }
        },
        "hoist_ops": {
            "analysis": {
                "input": [],
                "output": "hoists_model",
                "system_prompt": "You are an expert in modeling manipulation and hoist operations. Your task is to analyze lift, drop, load, and unload actions and produce clear preconditions, effects, resource usage, concurrency considerations, and suggested predicate names and types. Do not emit PDDL. Emphasize physical causality and constraints and avoid bookkeeping shortcuts.",
                "prompt": "You are the hoist_ops agent. Use the environment public information and the initial conditions to produce a structured description of hoist action schemas, resource constraints, and the intended semantics of surfaces, crates, and hoists. Identify any potential naming mismatches or missing information for integration."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "drivers_model",
                    "hoists_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor of planning models focused on temporal and causal consistency. Your job is to inspect models for implicit bookkeeping shortcuts and remove or refactor them into physically meaningful constructs. Examples of shortcuts to flag include quota tokens, ad-hoc penalty predicates, or any predicates that bypass causal chains. Provide a remediation plan and a clean set of constraints for the orchestrator. Do not emit PDDL.",
                "prompt": "You are the auditor agent. Receive the drivers and hoists models, check for cycles, missing causal links, or bookkeeping predicates, and produce a prioritized report that lists required corrections, clarifications, and minimal additions so the orchestrator can produce a correct PDDL domain and problem. Provide example fixes and exact predicates to remove or rename."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "drivers_model",
                    "hoists_model",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert integrator and PDDL author targeting the FastDownwards solver. Integrate the inputs from the other agents into a single coherent PDDL domain and PDDL problem. Keep actions of different agents distinct when appropriate. Ensure types, predicates, and action schemas follow standard STRIPS/ADL constructs supported by FastDownwards. Output a PDDL domain and a PDDL problem. Enclose the PDDL domain inside <domain></domain> tags and the PDDL problem inside <problem></problem> tags. Do not include extraneous bookkeeping predicates introduced by the agents; follow auditor recommendations.",
                "prompt": "You are the orchestrator. Use the drivers model, the hoists model, and the auditor report to synthesize a complete PDDL domain and a PDDL problem that encodes the initial facts and the goal. The PDDL must be compatible with FastDownwards and must keep the driving actions, hoist actions, and load/unload actions clearly separated or typed so the planner can use them without ambiguity. Think step by step and produce final PDDL domain and problem enclosed in <domain> and <problem> tags."
            }
        },
        "constraints": [
            "drivers.analysis->orchestrator.pddl",
            "hoist_ops.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}