{
    "name": "Depots8",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "planner_A",
            "planner_B",
            "orchestrator",
            "auditor"
        ],
        "planner_A": {
            "private_information": [
                "My core responsibility is focusing on the transport sequence for crate0."
            ],
            "goal": "Ensure crate0 is placed on pallet0."
        },
        "planner_B": {
            "private_information": [
                "My core responsibility is focusing on the transport sequence for crate2."
            ],
            "goal": "Ensure crate2 is placed on pallet1."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Achieve the overall state where crate0 is on pallet0 AND crate2 is on pallet1 by integrating the plans of planner_A and planner_B."
        },
        "auditor": {
            "private_information": [],
            "goal": "Review and validate the final orchestrated plan for causal consistency and efficiency."
        }
    },
    "environment": {
        "init": {
            "grid_size": 10,
            "visibility": 5
        },
        "public_information": [
            "The environment consists of Places (Depots: depot0, depot1, depot2; Distributors: distributor0), Surfaces (Pallets: pallet0, pallet1, pallet2, pallet3; Crates: crate0, crate1, crate2), Hoists (hoist0, hoist1, hoist2, hoist3), and Trucks (truck0, truck1, truck2).",
            "Road Network: All Places are directly connected.",
            "Initial State Facts:",
            "Crate Location/Containment: crate0 is at depot1, on pallet1. crate1 is at distributor0, on pallet3. crate2 is at depot1, on crate0.",
            "Object Clear Status: crate1 is clear, crate2 is clear, pallet0 is clear, pallet2 is clear.",
            "Hoists Status/Location: hoist0 at depot0 (available), hoist1 at depot1 (available), hoist2 at depot2 (available), hoist3 at distributor0 (available).",
            "Pallet Location: pallet0 at depot0, pallet1 at depot1, pallet2 at depot2, pallet3 at distributor0.",
            "Truck Location: truck0 at depot1, truck1 at depot2, truck2 at distributor0.",
            "Goal: (on crate0 pallet0) AND (on crate2 pallet1).",
            "Action Definitions (Preconditions / Effects):",
            "Drive (Truck T, Place From, Place To): P: T is at From. E: T not at From, T is at To.",
            "Lift Crate (Hoist H, Crate C, Surface S, Place P): P: H at P, C at P, H available, C clear, C on S. E: C not at P, H lifting C, H not available, S clear, C not on S.",
            "Drop Crate (Hoist H, Crate C, Surface S, Place P): P: H at P, S at P, S clear, H lifting C. E: H available, H not lifting C, C at P, S not clear, C clear, C on S.",
            "Load Crate (Hoist H, Crate C, Truck T, Place P): P: H at P, T at P, H lifting C. E: C in T, H available, H not lifting C.",
            "Unload Crate (Hoist H, Crate C, Truck T, Place P): P: H at P, T at P, H available, C in T. E: C not in T, H not available, H lifting C, C at P, C clear."
        ]
    },
    "workflow": {
        "planner_A": {
            "pddl": {
                "input": [],
                "output": "pddl_A",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must define the necessary types and predicates based on the environment description and your assigned goal. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner_A. You are planning logistics actions given the public information:\n{environment->public_information}\nYour knowledge:\n{agents->planner_A->private_information}\nYour goal is:\n{agents->planner_A->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to achieve your sub-goal, ensuring you correctly model the Drive, Lift, Drop, Load, and Unload actions."
            }
        },
        "planner_B": {
            "pddl": {
                "input": [],
                "output": "pddl_B",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must define the necessary types and predicates based on the environment description and your assigned goal. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner_B. You are planning logistics actions given the public information:\n{environment->public_information}\nYour knowledge:\n{agents->planner_B->private_information}\nYour goal is:\n{agents->planner_B->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to achieve your sub-goal, ensuring you correctly model the Drive, Lift, Drop, Load, and Unload actions."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_A",
                    "pddl_B"
                ],
                "output": "pddl_final_plan",
                "system_prompt": "You are an expert with multi-agent PDDL problems (Planning Domain Definition Language). You integrate partial plans into a single coherent plan aimed at a global goal. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags. You must resolve temporal dependencies, such as crate2 being initially on crate0.",
                "prompt": "You are the orchestrator. The global goal is:\n{agents->orchestrator->goal}\nYou received planning attempts from two agents:\nPlanner A's input:\n{pddl_A}\nPlanner B's input:\n{pddl_B}\nIntegrate these partial PDDL domains and problems. You must ensure the overall goal is achievable given the constraints, especially managing resources (hoists, trucks) and object dependencies (like crate2 being on crate0 initially). Provide the unified PDDL domain and problem."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_final_plan"
                ],
                "output": "pddl_audited",
                "system_prompt": "You are a planning auditor. Your job is to review proposed PDDL domains and problems for logical consistency, efficiency, and adherence to physical constraints. You must ensure temporal and causal dependencies are respected and eliminate any planning shortcuts or ambiguities. The final output must be ready for execution by a FastDownwards solver.",
                "prompt": "Review the following integrated PDDL plan focusing on the logistics domain elements (hoists, trucks, loading/unloading sequences) and the overall goal (crate0 on pallet0 and crate2 on pallet1).\nInput PDDL:\n{pddl_final_plan}\n\nProvide the final, optimized, and validated PDDL domain and problem. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner_A.pddl->orchestrator.pddl",
            "planner_B.pddl->orchestrator.pddl",
            "orchestrator.pddl->auditor.review"
        ]
    }
}