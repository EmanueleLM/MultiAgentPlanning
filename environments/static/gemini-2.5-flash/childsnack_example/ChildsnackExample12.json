{
    "name": "ChildsnackExample12",
    "author": "Human",
    "agents": {
        "number": 1,
        "names": [
            "orchestrator"
        ],
        "orchestrator": {
            "private_information": [],
            "goal": "Generate a valid, solvable PDDL domain and PDDL problem for the Child-Snack scenario with 12 children, integrating the provided natural language descriptions and filling in the structure of the domain template."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "The goal is to solve the child-snack planning problem.",
            "Domain NL description provided. Actions include: make_sandwich_no_gluten, make_sandwich, put_on_tray, serve_sandwich_no_gluten, serve_sandwich, move_tray.",
            "make_sandwich_no_gluten requires gluten-free ingredients and results in a gluten-free sandwich in the kitchen.",
            "make_sandwich requires regular ingredients and results in a regular sandwich in the kitchen.",
            "put_on_tray moves a sandwich from the kitchen onto a tray located in the kitchen.",
            "serve_sandwich_no_gluten requires a gluten-allergic child waiting at a place P, and a gluten-free sandwich on a tray at P. The effect is the child is served.",
            "serve_sandwich requires a non-allergic child waiting at a place P, and a regular sandwich on a tray at P. The effect is the child is served.",
            "move_tray moves a tray between two places.",
            "Problem NL description: 12 children (4 allergic), 12 portions of bread/content, 3 trays, 3 tables (places). Goal: all 12 children served with appropriate sandwich type."
        ],
        "templates": {
            "domain": "(define (domain child-snack)\n  (:requirements :typing :equality)\n  (:types child bread-portion content-portion sandwich tray place)\n  (:constants kitchen - place)\n\n  (:predicates)\n\n  (:action make_sandwich_no_gluten\n    :parameters (?s - sandwich ?b - bread-portion ?c - content-portion)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action make_sandwich\n    :parameters (?s - sandwich ?b - bread-portion ?c - content-portion)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action put_on_tray\n    :parameters (?s - sandwich ?t - tray)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action serve_sandwich_no_gluten\n    :parameters (?s - sandwich ?c - child ?t - tray ?p - place)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action serve_sandwich\n    :parameters (?s - sandwich ?c - child ?t - tray ?p - place)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action move_tray\n    :parameters (?t - tray ?p1 ?p2 - place)\n    :precondition ()\n    :effect ()\n  )\n)",
            "problem": "; child-snack task with 12 children and 0.4 gluten factor \n; constant factor of 1.3\n; random seed: 101\n\n(define (problem prob-snack)\n  (:domain child-snack)\n  (:objects\n    child1 child2 child3 child4 child5 child6 child7 child8 child9 child10 child11 child12 - child\n    bread1 bread2 bread3 bread4 bread5 bread6 bread7 bread8 bread9 bread10 bread11 bread12 - bread-portion\n    content1 content2 content3 content4 content5 content6 content7 content8 content9 content10 content11 content12 - content-portion\n    tray1 tray2 tray3 - tray\n    table1 table2 table3 - place\n    sandw1 sandw2 sandw3 sandw4 sandw5 sandw6 sandw7 sandw8 sandw9 sandw10 sandw11 sandw12 sandw13 sandw14 sandw15 sandw16 - sandwich\n  )\n  (:init\n     (at tray1 kitchen)\n     (at tray2 kitchen)\n     (at tray3 kitchen)\n     (at_kitchen_bread bread1)\n     (at_kitchen_bread bread2)\n     (at_kitchen_bread bread3)\n     (at_kitchen_bread bread4)\n     (at_kitchen_bread bread5)\n     (at_kitchen_bread bread6)\n     (at_kitchen_bread bread7)\n     (at_kitchen_bread bread8)\n     (at_kitchen_bread bread9)\n     (at_kitchen_bread bread10)\n     (at_kitchen_bread bread11)\n     (at_kitchen_bread bread12)\n     (at_kitchen_content content1)\n     (at_kitchen_content content2)\n     (at_kitchen_content content3)\n     (at_kitchen_content content4)\n     (at_kitchen_content content5)\n     (at_kitchen_content content6)\n     (at_kitchen_content content7)\n     (at_kitchen_content content8)\n     (at_kitchen_content content9)\n     (at_kitchen_content content10)\n     (at_kitchen_content content11)\n     (at_kitchen_content content12)\n     (no_gluten_bread bread7)\n     (no_gluten_bread bread3)\n     (no_gluten_bread bread10)\n     (no_gluten_bread bread9)\n     (no_gluten_content content6)\n     (no_gluten_content content8)\n     (no_gluten_content content3)\n     (no_gluten_content content2)\n     (allergic_gluten child8)\n     (allergic_gluten child9)\n     (allergic_gluten child3)\n     (allergic_gluten child4)\n     (not_allergic_gluten child12)\n     (not_allergic_gluten child1)\n     (not_allergic_gluten child2)\n     (not_allergic_gluten child11)\n     (not_allergic_gluten child5)\n     (not_allergic_gluten child6)\n     (not_allergic_gluten child7)\n     (not_allergic_gluten child10)\n     (waiting child1 table1)\n     (waiting child2 table1)\n     (waiting child3 table1)\n     (waiting child4 table3)\n     (waiting child5 table2)\n     (waiting child6 table2)\n     (waiting child7 table1)\n     (waiting child8 table2)\n     (waiting child9 table2)\n     (waiting child10 table1)\n     (waiting child11 table2)\n     (waiting child12 table1)\n     (notexist sandw1)\n     (notexist sandw2)\n     (notexist sandw3)\n     (notexist sandw4)\n     (notexist sandw5)\n     (notexist sandw6)\n     (notexist sandw7)\n     (notexist sandw8)\n     (notexist sandw9)\n     (notexist sandw10)\n     (notexist sandw11)\n     (notexist sandw12)\n     (notexist sandw13)\n     (notexist sandw14)\n     (notexist sandw15)\n     (notexist sandw16)\n  )\n  (:goal\n    (and\n     (served child1)\n     (served child2)\n     (served child3)\n     (served child4)\n     (served child5)\n     (served child6)\n     (served child7)\n     (served child8)\n     (served child9)\n     (served child10)\n     (served child11)\n     (served child12)\n    )\n  )\n)"
        }
    },
    "workflow": {
        "orchestrator": {
            "pddl": {
                "input": [],
                "output": "pddl_childsnack_solution",
                "system_prompt": "You are an expert PDDL planner capable of synthesizing complete PDDL domains and problems based on natural language descriptions and templates. Your final output must be a valid PDDL domain and problem file suitable for the FastDownwards planner. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You are tasked with generating the complete PDDL definition for the Child-Snack planning problem. You must fill in the predicates, preconditions, and effects for all actions defined in the domain template using the constraints provided in the natural language domain description. \n\nContextual Information:\n{environment->public_information}\n\nHere is the PDDL domain template:\n{environment->templates->domain}\n\nHere is the PDDL problem initialization template:\n{environment->templates->problem}\n\nYour task is to produce the final, runnable PDDL domain and PDDL problem. Ensure the PDDL domain includes all necessary predicates implied by the actions and constraints."
            }
        },
        "constraints": []
    }
}