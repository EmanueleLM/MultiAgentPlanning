{
    "name": "ChildsnackExample3",
    "author": "Human",
    "agents": {
        "number": 2,
        "names": [
            "pddl_generator",
            "auditor"
        ],
        "pddl_generator": {
            "private_information": [
                "I am an expert in PDDL and planning domain modeling.",
                "The target planner is FastDownwards."
            ],
            "goal": "Generate a valid, complete PDDL domain and problem file based on the provided natural language descriptions and templates."
        },
        "auditor": {
            "private_information": [
                "I audit temporal/causal consistency and remove non-standard PDDL shortcuts."
            ],
            "goal": "Audit the generated PDDL for consistency with the natural language requirements and standard PDDL syntax."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Coordinate the generation and verification of the PDDL files to produce the final, runnable solution."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "This environment requires constructing a PDDL domain and problem for the Child-Snack planning task.",
            "The task involves preparing and serving sandwiches (some gluten-free) to 8 children (some allergic to gluten)."
        ]
    },
    "workflow": {
        "pddl_generator": {
            "generate": {
                "input": [
                    "domain_nl_input",
                    "problem_nl_input",
                    "domain_template_input",
                    "problem_template_input"
                ],
                "output": "raw_pddl_output",
                "system_prompt": "You are an expert PDDL modeler. Your task is to integrate the provided Natural Language Domain and Problem descriptions into the corresponding PDDL templates to create a complete and valid PDDL domain and problem file compatible with the FastDownwards planner. You must accurately translate all constraints, objects, initial states, and goals from the NL descriptions into the PDDL structures provided. The NL descriptions define all required predicates, objects, and action effects.",
                "prompt": "Here are the components:\n\n1. Natural Language Domain Description:\n{domain_nl_input}\n\n2. Natural Language Problem Description:\n{problem_nl_input}\n\n3. PDDL Domain Template:\n{domain_template_input}\n\n4. PDDL Problem Template (Initial state and goal provided):\n{problem_template_input}\n\nYour task is to fill the missing predicates and effects in the PDDL Domain Template based on the NL Domain description, ensuring all constraints are met. You must also ensure the PDDL Problem Template is correctly formatted and complete based on the NL Problem description.\n\nOutput the completed PDDL Domain between <domain></domain> tags and the completed PDDL Problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "raw_pddl_output"
                ],
                "output": "audited_pddl_output",
                "system_prompt": "You are an auditor specialized in PDDL syntax and semantics. Ensure the provided PDDL domain and problem are complete, consistent, and strictly adhere to standard PDDL requirements suitable for FastDownwards, especially regarding causal consistency and typing. Verify that all NL rules regarding gluten allergies and resource consumption are correctly modeled.",
                "prompt": "Review the PDDL output for the Child-Snack domain/problem and verify its correctness:\n{raw_pddl_output}\n\nIf valid, reproduce the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. If errors are found, explain the errors but still provide the corrected PDDL."
            }
        },
        "orchestrator": {
            "final_pddl": {
                "input": [
                    "audited_pddl_output"
                ],
                "output": "final_solution",
                "system_prompt": "You are the final output handler. Present the validated PDDL Domain and Problem derived from the Child-Snack planning task.",
                "prompt": "The audited and validated PDDL files are:\n{audited_pddl_output}\n\nPlease ensure the output is exactly what is required to run the planning task."
            }
        },
        "constraints": [
            "pddl_generator.generate->auditor.audit",
            "auditor.audit->orchestrator.final_pddl"
        ]
    }
}