{
    "name": "Depots0",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "logistics_planner",
            "depot_manager",
            "auditor",
            "orchestrator"
        ],
        "logistics_planner": {
            "private_information": [
                "My primary responsibility is modeling the movement of trucks between places.",
                "Actions include driving a truck between any depot or distributor."
            ],
            "goal": "Ensure all required truck movements are integrated into the final logistics plan."
        },
        "depot_manager": {
            "private_information": [
                "My primary responsibility is modeling the loading, unloading, lifting, and dropping of crates using hoists."
            ],
            "goal": "Ensure all required material handling operations are integrated into the final logistics plan."
        },
        "auditor": {
            "private_information": [
                "I check for temporal and causal consistency in the plans generated by the specialized agents.",
                "I synthesize definitions to ensure a unified and conflict-free PDDL environment."
            ],
            "goal": "Audit the partial PDDL definitions for consistency and completeness before they are passed to the orchestrator."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Achieve the final state where crate1 is on pallet1 and crate2 is on pallet3, by integrating the planning segments."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 4
        },
        "public_information": [
            "The environment contains depots (depot0, depot1, depot2) and distributors (distributor0), all connected by roads (places).",
            "Objects include crates (crate0, crate1, crate2), pallets (pallet0, pallet1, pallet2, pallet3), hoists (hoist0, hoist1, hoist2, hoist3), and trucks (truck0, truck1, truck2).",
            "Initial State:",
            "- Locations: crate0 at depot1, crate1 at depot1, crate2 at depot0.",
            "- Locations: hoist0 at depot0, hoist1 at depot1, hoist2 at depot2, hoist3 at distributor0.",
            "- Locations: pallet0 at depot0, pallet1 at depot1, pallet2 at depot2, pallet3 at distributor0.",
            "- Locations: truck0 at depot1, truck1 at depot1, truck2 at distributor0.",
            "- Status: All hoists are available: hoist0, hoist1, hoist2, hoist3.",
            "- Stacking: crate0 is on pallet1, crate1 is on crate0, and crate2 is on pallet0.",
            "- Clearness: crate1 is clear, crate2 is clear, pallet2 is clear, pallet3 is clear."
        ]
    },
    "workflow": {
        "logistics_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_logistics_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You focus on defining objects, predicates, and the 'Drive' action necessary for transportation between places. You always provide a PDDL domain and a PDDL problem file to model your specialized task aspect. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is logistics_planner. Given the environment state and the actions allowed ('Drive a truck from one place to another place'), formulate the objects, types, predicates, and the 'Drive' action definition required to support the transport goal, without defining handling actions. The goal is to move crate2 from depot0 to distributor0. Provide the necessary PDDL domain and problem structure."
            }
        },
        "depot_manager": {
            "pddl": {
                "input": [],
                "output": "pddl_depot_manager",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You focus solely on defining the handling actions: Lift, Drop, Load, and Unload using hoists. You always provide a PDDL domain and a PDDL problem file to model your specialized task aspect. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is depot_manager. Given the environment state and the actions allowed (Lift, Drop, Load, Unload), formulate the objects, types, predicates, and the handling action definitions required to support the overall goal, focusing only on local operations within a single place. Provide the necessary PDDL domain and problem structure."
            }
        },
        "auditor": {
            "check": {
                "input": [
                    "pddl_logistics_planner",
                    "pddl_depot_manager"
                ],
                "output": "audited_pddl_components",
                "system_prompt": "You are an expert auditor specializing in multi-component PDDL definitions. Your task is to review the proposed PDDL domain and problem segments provided by specialized agents. You must identify inconsistencies, ambiguities (e.g., conflicting definitions for shared predicates or objects), or incomplete definitions necessary for the global task resolution. You do not generate a final plan, but rather combine and harmonize the inputs, ensuring all required types, predicates, and actions (Drive, Lift, Drop, Load, Unload) are consistently defined across the domain and the initial state definitions are complete in the problem file, ready for orchestration. Report your findings and the harmonized combined PDDL definitions.",
                "prompt": "Review the two PDDL inputs based on the unified planning task description. Input 1 (Logistics Planner):\n{pddl_logistics_planner}\nInput 2 (Depot Manager):\n{pddl_depot_manager}\nEnsure consistency in definitions, especially for shared concepts like locations, objects, and status predicates (at, clear, available). Synthesize the necessary combined Domain and Initial Problem setup, ready for the Orchestrator to define the final plan goal. Output the combined domain structure enclosed in <unified_domain></unified_domain> and the combined problem structure (including all initial states) enclosed in <unified_problem_init></unified_problem_init>."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "audited_pddl_components"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert orchestrator specialized in generating complete PDDL plans from unified domain/problem definitions. You must define the final goal state and integrate it with the provided audited PDDL components to produce a solvable planning task targeting FastDownwards. You must ensure all actions (Drive, Lift, Drop, Load, Unload) are correctly implemented based on the provided constraints.",
                "prompt": "You have received the harmonized PDDL components from the Auditor:\n{audited_pddl_components}\nYour global goal is to achieve: crate1 is on pallet1 and crate2 is on pallet3. \nUsing the provided definitions, define the final PDDL Domain and PDDL Problem files necessary to solve the global goal.\nEnclose the final pddl domain between <domain></domain> tags, and the final pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "logistics_planner.pddl->auditor.check",
            "depot_manager.pddl->auditor.check",
            "auditor.check->orchestrator.pddl"
        ]
    }
}