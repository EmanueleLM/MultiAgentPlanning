{
    "name": "Depots10",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "TruckDriver",
            "HoistPlanner",
            "orchestrator"
        ],
        "TruckDriver": {
            "private_information": [
                "Trucks and Places: truck0 is at depot2, truck1 is at distributor0, truck2 is at depot1.",
                "Crate locations needed for context: crate0 and crate1 are at depot1, crate2 is at depot0.",
                "All places (depot0, depot1, depot2, distributor0) are connected by roads."
            ],
            "goal": "Ensure all required crates (crate0, crate1, crate2) are transported to their final destination locations using available trucks."
        },
        "HoistPlanner": {
            "private_information": [
                "Hoists and their status: hoist0 at depot0 (available), hoist1 at depot1 (available), hoist2 at depot2 (available), hoist3 at distributor0 (available).",
                "Surface locations: pallet0 at depot0, pallet1 at depot1, pallet2 at depot2, pallet3 at distributor0.",
                "Initial stacking: crate0 is on pallet1, crate1 is on crate0, crate2 is on pallet0.",
                "Initially clear objects: crate1, crate2, pallet2, pallet3."
            ],
            "goal": "Ensure all required crates (crate0, crate1, crate2) are loaded, unloaded, and stacked correctly to achieve the final goal state."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Achieve the final logistics goal: crate0 is on pallet2, crate1 is on pallet0, and crate2 is on pallet1, by integrating the plans of the TruckDriver and HoistPlanner."
        },
        "auditor": {
            "private_information": [],
            "goal": "Audit the final plan for temporal and causal consistency, ensuring resource constraints (hoists, trucks) are respected."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1,
            "objects": "Crates (crate0, crate1, crate2), Pallets (pallet0, pallet1, pallet2, pallet3), Trucks (truck0, truck1, truck2), Hoists (hoist0, hoist1, hoist2, hoist3), Places (depot0, depot1, depot2, distributor0)."
        },
        "public_information": [
            "The objective is to plan the logistics of transporting crates between depots and distributors.",
            "Depots and Distributors are types of Places.",
            "Pallets and Crates are types of Surfaces.",
            "Depots and distributors are directly connected by roads.",
            "Goal State: crate0 is on pallet2, crate1 is on pallet0, and crate2 is on pallet1."
        ]
    },
    "workflow": {
        "TruckDriver": {
            "pddl": {
                "input": [],
                "output": "pddl_truck_driver",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags. Focus exclusively on the 'Drive Truck' action and the movement necessary to position trucks for loading/unloading.",
                "prompt": "Your name is TruckDriver. You are managing the truck movement aspects of the logistics task. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following specific knowledge:\n{agents->TruckDriver->private_information}\nThis is the global goal to solve:\n{agents->TruckDriver->goal}\nThink step by step and and provide a PDDL domain and a PDDL problem file that focuses on defining places, trucks, and the 'Drive' action necessary to move crates between locations, even if you cannot fully achieve the final stacking goal yourself.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "HoistPlanner": {
            "pddl": {
                "input": [],
                "output": "pddl_hoist_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags. Focus exclusively on the manipulation actions: Lift, Drop, Load, Unload.",
                "prompt": "Your name is HoistPlanner. You are managing the cargo manipulation aspects of the logistics task. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following specific knowledge:\n{agents->HoistPlanner->private_information}\nThis is the global goal to solve:\n{agents->HoistPlanner->goal}\nThink step by step and and provide a PDDL domain and a PDDL problem file that focuses on defining hoists, crates, pallets, and the necessary manipulation actions (Lift, Drop, Load, Unload) to move crates onto/off surfaces and trucks.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_truck_driver",
                    "pddl_hoist_planner"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems (Planning Domain Definition Language) specialized in integrating disjoint domains (like movement and manipulation) into a single cohesive logistics plan targeting the FastDownwards solver. You must ensure all defined actions (Drive, Lift, Drop, Load, Unload) and objects are present in the final domain. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received PDDL fragments from the TruckDriver and the HoistPlanner. Your task is to integrate these fragments into a complete, unified PDDL plan to solve the logistics challenge defined by the overall goal: {agents->orchestrator->goal}.\n\nRefer to the following initial state facts for completeness:\n- Trucks: truck0 at depot2, truck1 at distributor0, truck2 at depot1.\n- Hoists: hoist0 at depot0 (available), hoist1 at depot1 (available), hoist2 at depot2 (available), hoist3 at distributor0 (available).\n- Crates/Pallets Locations: crate0, crate1, pallet1, truck2 are at depot1. crate2, pallet0, hoist0 are at depot0. pallet2, truck0, hoist2 are at depot2. pallet3, truck1, hoist3 are at distributor0.\n- Initial Stacking: crate0 is on pallet1, crate1 is on crate0, crate2 is on pallet0.\n- Initially Clear: crate1, crate2, pallet2, pallet3.\n\nHere's the PDDL response from the TruckDriver:\n{pddl_truck_driver}\nHere's the PDDL response from the HoistPlanner:\n{pddl_hoist_planner}\n\nIntegrate the types, predicates, objects, initial state facts, actions (Drive, Lift, Drop, Load, Unload), and the final goal into a single comprehensive PDDL domain and problem file.\nThink step by step and and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "text_output": {
                "input": [
                    "pddl_orchestrator"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditing agent specializing in planning problems. Your role is to analyze the generated PDDL plan (Domain and Problem) for logical consistency, compliance with the stated constraints, and resource management (e.g., ensuring hoists are used sequentially).",
                "prompt": "Analyze the integrated PDDL plan provided by the orchestrator below and identify if it correctly reflects the complex multi-step logistics task (driving, lifting, loading, unloading, dropping) required to achieve the goal state: crate0 on pallet2, crate1 on pallet0, and crate2 on pallet1. Specifically, comment on whether the plan structure correctly enforces the constraint that trucks must be driven between locations and hoists must be present at the same location to perform manipulation.\n\nPDDL Plan:\n{pddl_orchestrator}"
            }
        },
        "constraints": [
            "TruckDriver.pddl->orchestrator.pddl",
            "HoistPlanner.pddl->orchestrator.pddl",
            "orchestrator.pddl->auditor.text_output"
        ]
    }
}