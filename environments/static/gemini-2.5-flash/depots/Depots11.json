{
    "name": "Depots11",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "Planner",
            "Auditor",
            "orchestrator"
        ],
        "Planner": {
            "private_information": [
                "This agent is responsible for logistics planning, managing trucks, hoists, and crates.",
                "The task involves defining types (Place, Surface, Hoist, Truck, Crate, Pallet), initial states, actions (Drive, Lift, Drop, Load, Unload), and the final goal state for the movement of crates."
            ],
            "goal": "Generate the full PDDL Domain and Problem defining the logistics task described."
        },
        "Auditor": {
            "private_information": [
                "I must check the temporal and causal consistency of the planning inputs.",
                "I must ensure that the PDDL domain accurately reflects all movement and state change restrictions defined in the task description, avoiding any non-standard planning shortcuts."
            ],
            "goal": "Verify the structural and causal integrity of the PDDL generated by the Planner."
        },
        "orchestrator": {
            "private_information": [
                "I finalize the integrated PDDL plan for execution by the FastDownwards solver."
            ],
            "goal": "Produce the final, integrated PDDL Domain and Problem file that solves the logistics task."
        }
    },
    "environment": {
        "init": {
            "grid_size": 100,
            "visibility": 100,
            "domain_description": "Logistics planning involving Depots, Distributors, Trucks, Hoists, Crates, and Pallets."
        },
        "public_information": [
            "Depots and Distributors are Places.",
            "Pallets and Crates are Surfaces.",
            "Initial conditions: crate0, crate1, crate2 are at depot0. hoist0 is at depot0, hoist1@depot1, hoist2@depot2, hoist3@distributor0. All hoists are available. Pallet1, pallet2, pallet3 are clear. truck0@distributor0, truck1@depot0, truck2@depot0.",
            "Stacking: crate0 is on pallet0. crate1 is on crate0. crate2 is on crate1. Crate2 is clear."
        ]
    },
    "workflow": {
        "Planner": {
            "pddl_draft": {
                "input": [],
                "output": "pddl_draft_planner",
                "system_prompt": "You are an expert in PDDL (Planning Domain Definition Language). You must define a PDDL domain and problem that accurately reflects the provided logistics task, including all specified types, predicates, initial state, actions, and goal state. Ensure that action preconditions and effects strictly follow the provided restrictions.",
                "prompt": "Based on the environment description and the detailed action restrictions provided, generate the complete PDDL domain and problem. The final goal is to achieve: crate0 is on pallet1, crate1 is on crate2, and crate2 is on pallet0. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "Auditor": {
            "audit": {
                "input": [
                    "pddl_draft_planner"
                ],
                "output": "audit_result_auditor",
                "system_prompt": "You are a PDDL consistency auditor. Your primary role is to ensure the generated PDDL is causally sound, temporally consistent, and avoids non-standard solver shortcuts (like quota tokens or post-hoc penalties). You must assess the PDDL received.",
                "prompt": "Review the following PDDL draft for consistency, especially focusing on how `clear` status, `on` relations, and hoist `lifting`/`available` statuses are maintained across actions (Drive, Lift, Drop, Load, Unload). If corrections are needed to ensure strict causal integrity, propose them clearly. If the PDDL is sound and compliant with classical planning standards, state 'Audit Passed'.\n\nPDDL Input:\n{pddl_draft_planner}"
            }
        },
        "orchestrator": {
            "pddl_final": {
                "input": [
                    "pddl_draft_planner",
                    "audit_result_auditor"
                ],
                "output": "pddl_final_orchestrator",
                "system_prompt": "You are the orchestrator. You finalize the planning process by integrating the validated PDDL inputs into the final domain and problem files ready for the FastDownwards planner. Ensure the final output is clean and well-formed PDDL, reflecting all constraints provided in the original task description.",
                "prompt": "Review the PDDL draft and the Audit results.\nDraft PDDL:\n{pddl_draft_planner}\n\nAudit Result:\n{audit_result_auditor}\n\nIf the audit passed, finalize the draft PDDL. If corrections were proposed, integrate them. Provide the final PDDL domain and PDDL problem file suitable for FastDownwards. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "Planner.pddl_draft->Auditor.audit",
            "Auditor.audit->orchestrator.pddl_final"
        ]
    }
}