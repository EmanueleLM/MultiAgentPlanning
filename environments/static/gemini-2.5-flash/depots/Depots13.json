{
    "name": "Depots13",
    "author": "Human",
    "agents": {
        "number": 2,
        "names": [
            "orchestrator",
            "auditor"
        ],
        "orchestrator": {
            "private_information": [],
            "goal": "Plan the transportation and manipulation of crates to achieve the final required placement: crate0 on pallet1 and crate2 on top of crate0."
        },
        "auditor": {
            "private_information": [
                "The core constraints involve complex manipulation rules for hoists (available, lifting) and careful tracking of object locations (at, in, on, clear)."
            ],
            "goal": "Audit the temporal and causal consistency of the PDDL plan generated by the orchestrator against the defined action rules and initial state."
        }
    },
    "environment": {
        "init": {
            "grid_size": 10,
            "visibility": 5
        },
        "public_information": [
            "The environment consists of Depots and Distributors (Places), connected by roads.",
            "Movement is performed by Trucks (drive action).",
            "Manipulation is performed by Hoists (lift/drop/load/unload actions) on Crates and Pallets (Surfaces).",
            "Initial State: crate0@depot2 (on pallet2); crate1@depot0 (on pallet0); crate2@depot1 (on pallet1). Hoists and other entities are located as specified.",
            "Goal State: crate0 must be on pallet1, and crate2 must be on crate0."
        ]
    },
    "workflow": {
        "orchestrator": {
            "pddl": {
                "input": [],
                "output": "pddl_solution",
                "system_prompt": "You are an expert in classical PDDL planning (Planning Domain Definition Language). Your goal is to generate a comprehensive PDDL domain and problem file that models the logistics environment and solves the given transportation task. You must use primitive types derived from the description (place, surface, truck, hoist, crate, pallet). You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is orchestrator. You must generate a PDDL model for a logistics environment involving depots, distributors, hoists, trucks, pallets, and crates. You are in an environment with the following public information:\n{environment->public_information}\nThis is the global goal to solve:\n{agents->orchestrator->goal}\n\nDefine the actions (drive, lift, drop, load, unload) precisely based on the following restrictions:\n\nDrive a truck: requires truck at origin. Effect: truck leaves origin, arrives at destination.\nLift a crate: requires hoist at place, crate at place, hoist available, crate clear. Effect: hoist lifting crate, hoist not available, surface clear, crate not at place/not on surface.\nDrop a crate: requires hoist/surface at place, surface clear, hoist lifting crate. Effect: hoist available, crate at place, surface not clear, crate clear, crate on surface.\nLoad a crate: requires hoist at place, truck at place, hoist lifting crate. Effect: crate is in truck (and state changes related to hoist movement, if any, based on lift effects).\nUnload a crate: requires hoist at place, truck at place, hoist available, crate in truck. Effect: crate not in truck, hoist not available, hoist lifting crate.\n\nUse the specific instances and initial/goal facts provided in the environment description. Think step by step and provide a complete PDDL domain and problem file. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_solution"
                ],
                "output": "audit_report",
                "system_prompt": "You are a critical auditor specializing in planning languages, particularly PDDL. Your task is to review the received PDDL solution for temporal sequencing errors, causal violations, and adherence to the defined action prerequisites and effects. Do not attempt to re-plan; strictly audit the provided logic.",
                "prompt": "Your name is auditor. You have received a PDDL solution for a logistics planning problem. Your goal is to verify that the domain and problem correctly model the constraints and achieve the desired goal.\n\nReview the following PDDL solution:\n{pddl_solution}\n\n1. Verify that the initial state and goal state match the specification provided in the public environment information.\n2. Ensure the defined actions (drive, lift, drop, load, unload) adhere to the required causal consistency, ensuring preconditions are correctly consumed and effects are correctly generated, especially concerning 'clear', 'available', and spatial/containment predicates.\n\nProvide an audit report detailing any potential inconsistencies or errors found."
            }
        },
        "constraints": [
            "orchestrator.pddl->auditor.review"
        ]
    }
}