{
    "name": "Depots15",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [],
            "goal": "Generate a valid PDDL plan to transport the crates according to the specified initial and goal conditions."
        },
        "auditor": {
            "private_information": [],
            "goal": "Audit the PDDL plan generated by the planner for temporal and causal consistency, avoiding bookkeeping shortcuts."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Finalize the PDDL domain and problem specification for the FastDownwards solver, integrating inputs and audit findings."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "This is a logistics planning problem involving depots, distributors, crates, pallets, hoists, and trucks.",
            "Types defined: place (depot, distributor), surface (pallet, crate), truck, hoist.",
            "Initial State: crate0 is at depot2, crate1 is at depot1, crate2 is at depot2, hoist0 is at depot0, hoist1 is at depot1, hoist2 is at depot2, hoist3 is at distributor0, pallet0 is at depot0, pallet1 is at depot1, pallet2 is at depot2, pallet3 is at distributor0, truck0 is at depot2, truck1 is at depot2, truck2 is at depot1.",
            "Initial State Statuses: hoist0 is available, hoist1 is available, hoist2 is available, hoist3 is available, crate1 is clear, crate2 is clear, pallet0 is clear, pallet3 is clear.",
            "Initial State Stacking: crate0 is on pallet2, crate1 is on pallet1, and crate2 is on crate0.",
            "Goal State: crate0 is on pallet3, crate1 is on crate2, and crate2 is on pallet2.",
            "Actions and Constraints: Trucks can drive between places. Hoists can lift/drop crates from surfaces, or load/unload crates into trucks. Standard constraints apply regarding availability, clearance, and location matching."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner. Your task is to model and solve the logistics planning problem described in the public information. Define the necessary objects, predicates, and actions (Drive Truck, Lift Crate, Drop Crate, Load Crate, Unload Crate) based on the provided rules. \nPublic Information:\n{environment->public_information}\nThis is the global goal to solve:\n{agents->planner->goal}\nThink step by step and provide a complete PDDL domain and problem file to achieve the goal state from the initial state. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "pddl_planner"
                ],
                "output": "audit_report",
                "system_prompt": "You are a planning auditor specializing in PDDL verification. Your role is to critically assess planning artifacts for validity, causal consistency, and adherence to logical constraints. You must identify any attempt to use artificial bookkeeping elements (like token counting or abstract quotas) or temporal shortcuts that bypass physical constraints.",
                "prompt": "Review the following PDDL submission from the planner agent, focusing strictly on ensuring all state transitions and causal links (especially involving truck contents, hoist status, and object locations) are valid and physically realistic according to the logistics domain rules.\nPDDL Submission:\n{pddl_planner}\nProvide a brief report detailing any inconsistencies or violations found. If the submission is sound, state 'Audit Passed'. Enclose your findings in a report."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_planner",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the final authority for generating validated PDDL solutions compatible with the FastDownwards solver. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received a proposed PDDL plan and domain from the planner, along with an audit report.\nPlanner PDDL Output:\n{pddl_planner}\nAudit Report:\n{audit_report}\nIf the audit report indicates issues, you must prioritize correcting the PDDL based on the audit findings before finalizing the solution. Otherwise, confirm and present the finalized PDDL domain and problem specification suitable for execution, ensuring the goal:\n{agents->orchestrator->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl->auditor.audit",
            "planner.pddl->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}