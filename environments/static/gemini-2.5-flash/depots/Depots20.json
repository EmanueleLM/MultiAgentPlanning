{
    "name": "Depots20",
    "author": "Human",
    "agents": {
        "number": 2,
        "names": [
            "LogisticsPlanner",
            "orchestrator"
        ],
        "LogisticsPlanner": {
            "private_information": [
                "I must define the PDDL domain including the complex interaction constraints between hoists, trucks, crates, and locations.",
                "The task requires careful sequencing of transportation and loading/unloading operations."
            ],
            "goal": "Generate a valid PDDL plan to achieve the final crate arrangement: crate0 on pallet2, crate1 on pallet1, and crate2 on pallet0."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Verify the planning output provided by the LogisticsPlanner for temporal/causal consistency and present the final PDDL solution ready for execution by a solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 0,
            "visibility": 4
        },
        "public_information": [
            "Entities: Places (depot0, depot1, depot2, distributor0), Crates (crate0, crate1, crate2), Pallets (pallet0, pallet1, pallet2, pallet3), Trucks (truck0, truck1, truck2), Hoists (hoist0, hoist1, hoist2, hoist3).",
            "All places are interconnected by roads.",
            "Initial Locations: truck0@depot1, truck1@depot2, truck2@distributor0.",
            "Initial Locations: hoist0@depot0, hoist1@depot1, hoist2@depot2, hoist3@distributor0.",
            "Initial Locations: pallet0@depot0, pallet1@depot1, pallet2@depot2, pallet3@distributor0.",
            "Initial Locations: crate0@depot1, crate1@depot2, crate2@depot0.",
            "Initial State Relations: All hoists are available. crate0 is on pallet1, crate1 is on pallet2, crate2 is on pallet0. crate0, crate1, crate2, and pallet3 are clear.",
            "Goal State: crate0 on pallet2, crate1 on pallet1, crate2 on pallet0."
        ]
    },
    "workflow": {
        "LogisticsPlanner": {
            "pddl": {
                "input": [],
                "output": "pddl_logistics_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must define a domain that supports the actions required for moving crates (Drive, Lift, Drop, Load, Unload) and generate a PDDL problem file based on the initial conditions and goal. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is LogisticsPlanner. You are tasked with solving a logistics planning problem involving crates, pallets, hoists, trucks, depots, and distributors. The domain must support the following actions with their exact constraints:\n1. Drive Truck (from P1 to P2): Requires truck@P1. Effects: not truck@P1, truck@P2.\n2. Lift Crate (from Surface S at P): Requires hoist@P, crate@P, available hoist, clear crate. Effects: not crate@P, hoist lifting crate, not available hoist, clear surface S, not crate on S.\n3. Drop Crate (to Surface S at P): Requires hoist@P, surface S@P, clear S, hoist lifting crate. Effects: available hoist, not hoist lifting crate, crate@P, not clear S, clear crate, crate on S.\n4. Load Crate (onto Truck T at P): Requires hoist@P, truck T@P, hoist lifting crate. Effects: not hoist lifting crate, hoist available, crate in T.\n5. Unload Crate (from Truck T at P): Requires hoist@P, truck T@P, available hoist, crate in T. Effects: not crate in T, not available hoist, hoist lifting crate.\n\nPublic Information:\n{environment->public_information}\nGoal:\n{agents->LogisticsPlanner->goal}\n\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_logistics_plan"
                ],
                "output": "pddl_final_solution",
                "system_prompt": "You are an expert in validating PDDL planning problems, specifically focusing on complex logistics and resource management domains. Your role is to audit the provided PDDL plan for temporal and causal consistency, ensuring that the modeled resources (hoists, trucks, locations) and objects (crates, pallets) adhere strictly to the described constraints and that the initial state is correctly defined. You must confirm that the PDDL is solvable by standard solvers like Fast Downwards. You always provide a valid PDDL domain and a PDDL problem file derived from the input. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received the proposed PDDL domain and problem from the LogisticsPlanner:\n{pddl_logistics_plan}\nYour task is to review this PDDL to ensure it accurately reflects the environment described, specifically regarding the constraints on driving trucks and using hoists (Lift/Drop/Load/Unload actions) and the correct definition of the initial state and goal state as detailed in the public information.\n\nReview the input and provide the verified, final PDDL domain and problem suitable for solving the logistics task:\n{agents->orchestrator->goal}\n\nThink step by step, perform the audit, and then provide the final PDDL domain and PDDL problem file. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "LogisticsPlanner.pddl->orchestrator.pddl"
        ]
    }
}