{
    "name": "Depots24",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner_agent",
            "auditor_agent",
            "orchestrator"
        ],
        "planner_agent": {
            "private_information": [],
            "goal": "Generate the initial PDDL domain and problem definition for the logistics task, accurately reflecting the initial state, actions, and goal."
        },
        "auditor_agent": {
            "private_information": [
                "I am responsible for auditing temporal/causal consistency.",
                "I must remove unnecessary bookkeeping shortcuts."
            ],
            "goal": "Validate and refine the PDDL generated by the planner agent, ensuring strict compliance with physical constraints."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce the final, validated PDDL domain and problem file targeting the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 10,
            "visibility": 5
        },
        "public_information": [
            "The task is to plan the logistics of transporting crates between depots and distributors using trucks and hoists.",
            "Type Hierarchy: Depots (Place), Distributors (Place), Pallets (Surface), Crates (Surface).",
            "Places include: depot0, depot1, depot2 and distributor0.",
            "Surfaces include: pallet0, pallet1, pallet2, pallet3 and crate0, crate1, crate2.",
            "Vehicles/Equipment: truck0, truck1, truck2 and hoist0, hoist1, hoist2, hoist3.",
            "Initial conditions:",
            " - crate0 is at depot0, crate1 is at distributor0, crate2 is at depot2.",
            " - Hoists are located: hoist0@depot0, hoist1@depot1, hoist2@depot2, hoist3@distributor0.",
            " - Pallets are located: pallet0@depot0, pallet1@depot1, pallet2@depot2, pallet3@distributor0.",
            " - Trucks are located: truck0@depot2, truck1@depot0, truck2@depot2.",
            " - All hoists (0-3) are available.",
            " - crate0, crate1, crate2, and pallet1 are clear.",
            " - Stacking: crate0 is on pallet0, crate1 is on pallet3, and crate2 is on pallet2.",
            "Goal conditions: crate0 is on crate2, crate1 is on pallet2, and crate2 is on pallet0."
        ]
    },
    "workflow": {
        "planner_agent": {
            "pddl_draft": {
                "input": [],
                "output": "pddl_draft",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must analyze the provided logistics scenario and generate a complete PDDL domain and a PDDL problem file.",
                "prompt": "Your role is to act as the planner agent. You must define the types, predicates, and actions necessary to model the logistics task described in the Public Information:\n{environment->public_information}\nThis is the goal to solve:\n{agents->planner_agent->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task, fully capturing the initial and goal states.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor_agent": {
            "review_pddl": {
                "input": [
                    "pddl_draft"
                ],
                "output": "pddl_reviewed",
                "system_prompt": "You are an expert PDDL auditor and validator. Your primary responsibility is ensuring the temporal and causal consistency of PDDL plans and removing planning shortcuts (like extraneous fluents or unnecessary initial conditions). You always provide a PDDL domain and a PDDL problem file.",
                "prompt": "You have received a PDDL draft from the planner agent:\n{pddl_draft}\nReview the PDDL draft against the public task description and refine the PDDL domain and problem to ensure strict causal consistency, particularly verifying the preconditions and effects for handling crates (Lift, Drop, Load, Unload) and truck movements (Drive).\nProvide the finalized, cleaned PDDL Domain and Problem.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_reviewed"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert PDDL orchestrator dedicated to generating optimized plans for the FastDownwards solver. You always provide a PDDL domain and a PDDL problem file.",
                "prompt": "You have received the validated and reviewed PDDL domain and problem file:\n{pddl_reviewed}\nYour goal is:\n{agents->orchestrator->goal}\nConfirm the structure is sound and generate the final PDDL Domain and PDDL Problem file, ensuring the required structure for the solver.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner_agent.pddl_draft->auditor_agent.review_pddl",
            "auditor_agent.review_pddl->orchestrator.pddl"
        ]
    }
}