{
    "name": "FloortileExample4",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "robot1",
            "robot2",
            "orchestrator"
        ],
        "robot1": {
            "private_information": [
                "I am robot1.",
                "I start at tile_4-1 and have the white spray gun."
            ],
            "goal": "Collaborate to paint the floor tiles according to the specified checkerboard pattern, minimizing total cost."
        },
        "robot2": {
            "private_information": [
                "I am robot2.",
                "I start at tile_2-4 and have the black spray gun."
            ],
            "goal": "Collaborate to paint the floor tiles according to the specified checkerboard pattern, minimizing total cost."
        },
        "orchestrator": {
            "private_information": [
                "The task involves two robots working on a 4x4 grid.",
                "PDDL action costs must be strictly enforced: change-color (5), up (3), down/right/left (1), paint (2)."
            ],
            "goal": "Integrate the individual plans of robot1 and robot2 into a single, cohesive PDDL plan that achieves the global goal while strictly minimizing the total action cost."
        }
    },
    "environment": {
        "init": {
            "grid_size": "4x4",
            "initial_robots": [
                "robot1@tile_4-1 (white)",
                "robot2@tile_2-4 (black)"
            ]
        },
        "public_information": [
            "The environment is a floor-tile grid planning domain.",
            "Robots must coordinate movement and painting to achieve a specific checkerboard pattern.",
            "Movement actions have differing costs.",
            "Painted tiles cannot be occupied by robots."
        ]
    },
    "workflow": {
        "robot1": {
            "pddl_initial": {
                "input": [],
                "output": "pddl_robot1_partial",
                "system_prompt": "You are robot1, an expert PDDL planner. Generate a PDDL representation focusing on your role and initial state.",
                "prompt": "You are robot1. You are equipped with white paint and start at tile_4-1. Based on the domain rules and the global goal to paint the checkerboard pattern minimizing cost, generate a PDDL domain and problem. Assume you are coordinating with other agents, but focus your initial representation on your specific resources. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "robot2": {
            "pddl_initial": {
                "input": [],
                "output": "pddl_robot2_partial",
                "system_prompt": "You are robot2, an expert PDDL planner. Generate a PDDL representation focusing on your role and initial state.",
                "prompt": "You are robot2. You are equipped with black paint and start at tile_2-4. Based on the domain rules and the global goal to paint the checkerboard pattern minimizing cost, generate a PDDL domain and problem. Assume you are coordinating with other agents, but focus your initial representation on your specific resources. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl_final": {
                "input": [
                    "pddl_robot1_partial",
                    "pddl_robot2_partial"
                ],
                "output": "pddl_final_output",
                "system_prompt": "You are the Orchestrator, an expert in Multi-Agent PDDL integration and optimization. You must audit the consistency and temporal/causal constraints of the received plans. Your primary task is to generate the final, single, cohesive PDDL Domain and PDDL Problem file. You must ensure the PDDL domain is fully defined with all necessary predicates and actions/costs exactly as specified in the Natural Language Domain description, and the PDDL problem includes all initial conditions and the full goal state from the Problem description, targeting the FastDownwards solver (using the provided templates as guides).",
                "prompt": "You have received partial PDDL descriptions from robot1 and robot2. Your goal is to generate the final, comprehensive PDDL Domain and PDDL Problem file for the Floor-Tile task, ensuring it uses the multi-agent representation and incorporates all constraints (movement rules, costs, initial state, and global goal).\n\nUse the Natural Language Descriptions and PDDL Templates provided below to ensure absolute correctness in the final output:\n\nNatural Language Domain Description:\n{domain_nl}\n\nNatural Language Problem Description:\n{problem_nl}\n\nPDDL Domain Template:\n{domain_template}\n\nPDDL Problem Template:\n{problem_pddl}\n\nAgent 1 Input:\n{pddl_robot1_partial}\n\nAgent 2 Input:\n{pddl_robot2_partial}\n\nThink step by step, integrate the information, complete the definitions, and provide the final PDDL domain and problem. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "inputs_nl": {
                    "domain_nl": "The floor-tile domain is designed for planning the actions of robots to paint floor tiles with two colors. Each robot can move in four directions (up, down, right, left), change the color of paint it is carrying, and paint adjacent tiles. The domain also tracks the total cost of actions performed.\n\nThe actions defined in this domain include:\n\n1. change-color: This action allows a robot to change the color it has. The preconditions are that the robot currently has a color and the new color is available. The effect is that the robot no longer has the old color and now has the new color. This action increases the total cost by 5.\n\n2. paint-up: This action allows a robot to paint the tile above its current position. The preconditions are that the robot has a color, is at a certain tile, the tile above is clear, and the robot can move up. The effect is that the tile above is no longer clear and is now painted with the robot's color. This action increases the total cost by 2.\n\n3. paint-down: This action allows a robot to paint the tile below its current position. The preconditions are that the robot has a color, is at a certain tile, the tile below is clear, and the robot can move down. The effect is that the tile below is no longer clear and is now painted with the robot's color. This action increases the total cost by 2.\n\n4. up: This action allows a robot to move up to the tile above its current position. The preconditions are that the robot is at a certain tile, the tile above is clear, and the robot can move up. The effect is that the robot is now at the tile above, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 3.\n\n5. down: This action allows a robot to move down to the tile below its current position. The preconditions are that the robot is at a certain tile, the tile below is clear, and the robot can move down. The effect is that the robot is now at the tile below, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 1.\n\n6. right: This action allows a robot to move to the right to the tile adjacent to its current position. The preconditions are that the robot is at a certain tile, the tile to the right is clear, and the robot can move right. The effect is that the robot is now at the tile to the right, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 1.\n\n7. left: This action allows a robot to move to the left to the tile adjacent to its current position. The preconditions are that the robot is at a certain tile, the tile to the left is clear, and the robot can move left. The effect is that the robot is now at the tile to the left, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 1.",
                    "problem_nl": "You control a set of robots that can paint floor tiles with different colors. The robots can move in four directions: up, down, left, and right. They can paint with one color at a time and can change the color of their spray guns. Tiles can only be painted in the front (up) or behind (down) the robot, and once a tile is painted, no robot can stand on it.\n\nInitially:\n- There are sixteen tiles arranged in a 4x4 grid (tile_0-1 to tile_4-4).\n- Robot1 is at tile_4-1 and has a white spray gun.\n- Robot2 is at tile_2-4 and has a black spray gun.\n- The colors white and black are available for painting.\n- All tiles except tile_2-4 are clear and unpainted.\n- The tiles have directional relationships with each other, allowing the robots to move up, down, left, and right between adjacent tiles.\n\nYour goal is to paint the following tiles with the specified colors:\n- Tile tile_1-1 should be painted white.\n- Tile tile_1-2 should be painted black.\n- Tile tile_1-3 should be painted white.\n- Tile tile_1-4 should be painted black.\n- Tile tile_2-1 should be painted black.\n- Tile tile_2-2 should be painted white.\n- Tile tile_2-3 should be painted black.\n- Tile tile_2-4 should be painted white.\n- Tile tile_3-1 should be painted white.\n- Tile tile_3-2 should be painted black.\n- Tile tile_3-3 should be painted white.\n- Tile tile_3-4 should be painted black.\n- Tile tile_4-1 should be painted black.\n- Tile tile_4-2 should be painted white.\n- Tile tile_4-3 should be painted black.\n- Tile tile_4-4 should be painted white.\n\nAdditionally, you aim to minimize the total cost of the actions taken to achieve this goal.",
                    "domain_template": "(define (domain floor-tile)\n  (:requirements :typing :action-costs)\n  (:types robot tile color - object)\n  (:predicates)\n  (:functions (total-cost))\n\n  (:action change-color\n    :parameters (?r - robot ?c - color ?c2 - color)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action paint-up\n    :parameters (?r - robot ?y - tile ?x - tile ?c - color)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action paint-down\n    :parameters (?r - robot ?y - tile ?x - tile ?c - color)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action up\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action down\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action right\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action left\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n)",
                    "problem_pddl": "(define (problem p05-442)\n (:domain floor-tile)\n (:objects tile_0-1 tile_0-2 tile_0-3 tile_0-4 \n           tile_1-1 tile_1-2 tile_1-3 tile_1-4 \n           tile_2-1 tile_2-2 tile_2-3 tile_2-4 \n           tile_3-1 tile_3-2 tile_3-3 tile_3-4 \n           tile_4-1 tile_4-2 tile_4-3 tile_4-4 - tile\n           robot1 robot2 - robot\n           white black - color\n)\n (:init \n   (= (total-cost) 0)\n   (robot-at robot1 tile_4-1)\n   (robot-has robot1 white)\n   (robot-at robot2 tile_2-4)\n   (robot-has robot2 black)\n   (available-color white)\n   (available-color black)\n   (clear tile_0-1)\n   (clear tile_0-2)\n   (clear tile_0-3)\n   (clear tile_0-4)\n   (clear tile_1-1)\n   (clear tile_1-2)\n   (clear tile_1-3)\n   (clear tile_1-4)\n   (clear tile_2-1)\n   (clear tile_2-2)\n   (clear tile_2-3)\n   (clear tile_3-1)\n   (clear tile_3-2)\n   (clear tile_3-3)\n   (clear tile_3-4)\n   (clear tile_4-2)\n   (clear tile_4-3)\n   (clear tile_4-4)\n   (up tile_1-1 tile_0-1)\n   (up tile_1-2 tile_0-2)\n   (up tile_1-3 tile_0-3)\n   (up tile_1-4 tile_0-4)\n   (up tile_2-1 tile_1-1)\n   (up tile_2-2 tile_1-2)\n   (up tile_2-3 tile_1-3)\n   (up tile_2-4 tile_1-4)\n   (up tile_3-1 tile_2-1)\n   (up tile_3-2 tile_2-2)\n   (up tile_3-3 tile_2-3)\n   (up tile_3-4 tile_2-4)\n   (up tile_4-1 tile_3-1)\n   (up tile_4-2 tile_3-2)\n   (up tile_4-3 tile_3-3)\n   (up tile_4-4 tile_3-4)\n   (down tile_0-1 tile_1-1)\n   (down tile_0-2 tile_1-2)\n   (down tile_0-3 tile_1-3)\n   (down tile_0-4 tile_1-4)\n   (down tile_1-1 tile_2-1)\n   (down tile_1-2 tile_2-2)\n   (down tile_1-3 tile_2-3)\n   (down tile_1-4 tile_2-4)\n   (down tile_2-1 tile_3-1)\n   (down tile_2-2 tile_3-2)\n   (down tile_2-3 tile_3-3)\n   (down tile_2-4 tile_3-4)\n   (down tile_3-1 tile_4-1)\n   (down tile_3-2 tile_4-2)\n   (down tile_3-3 tile_4-3)\n   (down tile_3-4 tile_4-4)\n   (right tile_0-2 tile_0-1)\n   (right tile_0-3 tile_0-2)\n   (right tile_0-4 tile_0-3)\n   (right tile_1-2 tile_1-1)\n   (right tile_1-3 tile_1-2)\n   (right tile_1-4 tile_1-3)\n   (right tile_2-2 tile_2-1)\n   (right tile_2-3 tile_2-2)\n   (right tile_2-4 tile_2-3)\n   (right tile_3-2 tile_3-1)\n   (right tile_3-3 tile_3-2)\n   (right tile_3-4 tile_3-3)\n   (right tile_4-2 tile_4-1)\n   (right tile_4-3 tile_4-2)\n   (right tile_4-4 tile_4-3)\n   (left tile_0-1 tile_0-2)\n   (left tile_0-2 tile_0-3)\n   (left tile_0-3 tile_0-4)\n   (left tile_1-1 tile_1-2)\n   (left tile_1-2 tile_1-3)\n   (left tile_1-3 tile_1-4)\n   (left tile_2-1 tile_2-2)\n   (left tile_2-2 tile_2-3)\n   (left tile_2-3 tile_2-4)\n   (left tile_3-1 tile_3-2)\n   (left tile_3-2 tile_3-3)\n   (left tile_3-3 tile_3-4)\n   (left tile_4-1 tile_4-2)\n   (left tile_4-2 tile_4-3)\n   (left tile_4-3 tile_4-4)\n)\n (:goal (and\n    (painted tile_1-1 white)\n    (painted tile_1-2 black)\n    (painted tile_1-3 white)\n    (painted tile_1-4 black)\n    (painted tile_2-1 black)\n    (painted tile_2-2 white)\n    (painted tile_2-3 black)\n    (painted tile_2-4 white)\n    (painted tile_3-1 white)\n    (painted tile_3-2 black)\n    (painted tile_3-3 white)\n    (painted tile_3-4 black)\n    (painted tile_4-1 black)\n    (painted tile_4-2 white)\n    (painted tile_4-3 black)\n    (painted tile_4-4 white)\n))\n (:metric minimize (total-cost))\n)"
                }
            }
        },
        "constraints": [
            "robot1.pddl_initial->orchestrator.pddl_final",
            "robot2.pddl_initial->orchestrator.pddl_final"
        ]
    }
}