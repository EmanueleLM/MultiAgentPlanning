{
    "name": "FloortileExample5",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "expert_domain_filler",
            "problem_validator",
            "orchestrator"
        ],
        "expert_domain_filler": {
            "private_information": [
                "I am an expert in PDDL Domain definition.",
                "My primary task is to define predicates, preconditions, effects, and costs for all actions."
            ],
            "goal": "Generate the complete PDDL domain file for the floor-tile domain based on the natural language description and template provided."
        },
        "problem_validator": {
            "private_information": [
                "I am an expert in PDDL Problem definition and validation.",
                "My task is to ensure the initial state, goal state, and optimization metric align perfectly with the natural language description."
            ],
            "goal": "Generate the complete and correct PDDL problem file that represents the floor-tile scenario, minimizing total cost."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Combine the PDDL domain and problem generated by other agents into a single, cohesive output suitable for the FastDownwards solver, ensuring compliance with the minimize total cost metric."
        }
    },
    "environment": {
        "init": {
            "grid_size": "4x4",
            "number_of_robots": 2,
            "colors_available": 2
        },
        "public_information": [
            "The domain involves robots painting floor tiles (4x4 grid) with white or black paint.",
            "Robots can move (cost 1 or 3), change color (cost 5), or paint (cost 2).",
            "Painting only occurs up or down relative to the robot's position.",
            "Painted tiles cannot be occupied by robots."
        ]
    },
    "workflow": {
        "expert_domain_filler": {
            "pddl": {
                "input": [],
                "output": "pddl_domain_output",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must complete the provided PDDL domain template by defining all necessary predicates, preconditions, effects, and action costs based strictly on the natural language domain description provided. You will output the final, complete PDDL domain wrapped in <domain_content></domain_content> tags.",
                "prompt": "Here is the natural language description of the domain:\n<domain_nl>\nThe floor-tile domain is designed for planning the actions of robots to paint floor tiles with two colors. Each robot can move in four directions (up, down, right, left), change the color of paint it is carrying, and paint adjacent tiles. The domain also tracks the total cost of actions performed.\n\nThe actions defined in this domain include:\n\n1. change-color: This action allows a robot to change the color it has. The preconditions are that the robot currently has a color and the new color is available. The effect is that the robot no longer has the old color and now has the new color. This action increases the total cost by 5.\n\n2. paint-up: This action allows a robot to paint the tile above its current position. The preconditions are that the robot has a color, is at a certain tile, the tile above is clear, and the robot can move up. The effect is that the tile above is no longer clear and is now painted with the robot's color. This action increases the total cost by 2.\n\n3. paint-down: This action allows a robot to paint the tile below its current position. The preconditions are that the robot has a color, is at a certain tile, the tile below is clear, and the robot can move down. The effect is that the tile below is no longer clear and is now painted with the robot's color. This action increases the total cost by 2.\n\n4. up: This action allows a robot to move up to the tile above its current position. The preconditions are that the robot is at a certain tile, the tile above is clear, and the robot can move up. The effect is that the robot is now at the tile above, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 3.\n\n5. down: This action allows a robot to move down to the tile below its current position. The preconditions are that the robot is at a certain tile, the tile below is clear, and the robot can move down. The effect is that the robot is now at the tile below, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 1.\n\n6. right: This action allows a robot to move to the right to the tile adjacent to its current position. The preconditions are that the robot is at a certain tile, the tile to the right is clear, and the robot can move right. The effect is that the robot is now at the tile to the right, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 1.\n\n7. left: This action allows a robot to move to the left to the tile adjacent to its current position. The preconditions are that the robot is at a certain tile, the tile to the left is clear, and the robot can move left. The effect is that the robot is now at the tile to the left, the tile it was previously at is now clear, and the tile it moved to is no longer clear. This action increases the total cost by 1.\n</domain_nl>\n\nHere is the PDDL domain template. Complete it fully and accurately:\n<domain_template>\n(define (domain floor-tile)\n  (:requirements :typing :action-costs)\n  (:types robot tile color - object)\n  (:predicates)\n  (:functions (total-cost))\n\n  (:action change-color\n    :parameters (?r - robot ?c - color ?c2 - color)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action paint-up\n    :parameters (?r - robot ?y - tile ?x - tile ?c - color)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action paint-down\n    :parameters (?r - robot ?y - tile ?x - tile ?c - color)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action up\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action down\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action right\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n\n  (:action left\n    :parameters (?r - robot ?x - tile ?y - tile)\n    :precondition ()\n    :effect ()\n  )\n)\n</domain_template>\n\nProvide the complete PDDL domain between <domain_content> and </domain_content> tags."
            }
        },
        "problem_validator": {
            "pddl": {
                "input": [],
                "output": "pddl_problem_output",
                "system_prompt": "You are an expert in PDDL Problem definition. You must use the provided PDDL Problem definition template verbatim, as it correctly captures the initial state, goal state, and optimization metric described in the natural language problem. You will output the final PDDL problem wrapped in <problem_content></problem_content> tags.",
                "prompt": "Here is the natural language description of the problem:\n- There are sixteen tiles arranged in a 4x4 grid (tile_0-1 to tile_4-4).\n- Robot1 is at tile_1-1 and has a white spray gun.\n- Robot2 is at tile_0-3 and has a black spray gun.\n- The colors white and black are available for painting.\n- All tiles are clear and unpainted except for the ones where the robots are located.\n- The goal is to paint all tiles in a checkerboard pattern starting with white at tile_1-1, minimizing total cost.\n\nHere is the complete and correct PDDL Problem template:\n<problem_pddl>\n(define (problem p06-442)\n (:domain floor-tile)\n (:objects tile_0-1 tile_0-2 tile_0-3 tile_0-4 \n           tile_1-1 tile_1-2 tile_1-3 tile_1-4 \n           tile_2-1 tile_2-2 tile_2-3 tile_2-4 \n           tile_3-1 tile_3-2 tile_3-3 tile_3-4 \n           tile_4-1 tile_4-2 tile_4-3 tile_4-4 - tile\n           robot1 robot2 - robot\n           white black - color\n)\n (:init \n   (= (total-cost) 0)\n   (robot-at robot1 tile_1-1)\n   (robot-has robot1 white)\n   (robot-at robot2 tile_0-3)\n   (robot-has robot2 black)\n   (available-color white)\n   (available-color black)\n   (clear tile_0-1)\n   (clear tile_0-2)\n   (clear tile_0-4)\n   (clear tile_1-2)\n   (clear tile_1-3)\n   (clear tile_1-4)\n   (clear tile_2-1)\n   (clear tile_2-2)\n   (clear tile_2-3)\n   (clear tile_2-4)\n   (clear tile_3-1)\n   (clear tile_3-2)\n   (clear tile_3-3)\n   (clear tile_3-4)\n   (clear tile_4-1)\n   (clear tile_4-2)\n   (clear tile_4-3)\n   (clear tile_4-4)\n   (up tile_1-1 tile_0-1)\n   (up tile_1-2 tile_0-2)\n   (up tile_1-3 tile_0-3)\n   (up tile_1-4 tile_0-4)\n   (up tile_2-1 tile_1-1)\n   (up tile_2-2 tile_1-2)\n   (up tile_2-3 tile_1-3)\n   (up tile_2-4 tile_1-4)\n   (up tile_3-1 tile_2-1)\n   (up tile_3-2 tile_2-2)\n   (up tile_3-3 tile_2-3)\n   (up tile_3-4 tile_2-4)\n   (up tile_4-1 tile_3-1)\n   (up tile_4-2 tile_3-2)\n   (up tile_4-3 tile_3-3)\n   (up tile_4-4 tile_3-4)\n   (down tile_0-1 tile_1-1)\n   (down tile_0-2 tile_1-2)\n   (down tile_0-3 tile_1-3)\n   (down tile_0-4 tile_1-4)\n   (down tile_1-1 tile_2-1)\n   (down tile_1-2 tile_2-2)\n   (down tile_1-3 tile_2-3)\n   (down tile_1-4 tile_2-4)\n   (down tile_2-1 tile_3-1)\n   (down tile_2-2 tile_3-2)\n   (down tile_2-3 tile_3-3)\n   (down tile_2-4 tile_3-4)\n   (down tile_3-1 tile_4-1)\n   (down tile_3-2 tile_4-2)\n   (down tile_3-3 tile_4-3)\n   (down tile_3-4 tile_4-4)\n   (right tile_0-2 tile_0-1)\n   (right tile_0-3 tile_0-2)\n   (right tile_0-4 tile_0-3)\n   (right tile_1-2 tile_1-1)\n   (right tile_1-3 tile_1-2)\n   (right tile_1-4 tile_1-3)\n   (right tile_2-2 tile_2-1)\n   (right tile_2-3 tile_2-2)\n   (right tile_2-4 tile_2-3)\n   (right tile_3-2 tile_3-1)\n   (right tile_3-3 tile_3-2)\n   (right tile_3-4 tile_3-3)\n   (right tile_4-2 tile_4-1)\n   (right tile_4-3 tile_4-2)\n   (right tile_4-4 tile_4-3)\n   (left tile_0-1 tile_0-2)\n   (left tile_0-2 tile_0-3)\n   (left tile_0-3 tile_0-4)\n   (left tile_1-1 tile_1-2)\n   (left tile_1-2 tile_1-3)\n   (left tile_1-3 tile_1-4)\n   (left tile_2-1 tile_2-2)\n   (left tile_2-2 tile_2-3)\n   (left tile_2-3 tile_2-4)\n   (left tile_3-1 tile_3-2)\n   (left tile_3-2 tile_3-3)\n   (left tile_3-3 tile_3-4)\n   (left tile_4-1 tile_4-2)\n   (left tile_4-2 tile_4-3)\n   (left tile_4-3 tile_4-4)\n)\n (:goal (and\n    (painted tile_1-1 white)\n    (painted tile_1-2 black)\n    (painted tile_1-3 white)\n    (painted tile_1-4 black)\n    (painted tile_2-1 black)\n    (painted tile_2-2 white)\n    (painted tile_2-3 black)\n    (painted tile_2-4 white)\n    (painted tile_3-1 white)\n    (painted tile_3-2 black)\n    (painted tile_3-3 white)\n    (painted tile_3-4 black)\n    (painted tile_4-1 black)\n    (painted tile_4-2 white)\n    (painted tile_4-3 black)\n    (painted tile_4-4 white)\n))\n (:metric minimize (total-cost))\n)\n</problem_pddl>\n\nProvide the complete PDDL problem between <problem_content> and </problem_content> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_domain_output",
                    "pddl_problem_output"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert PDDL synthesizer. You receive PDDL domain content and PDDL problem content from two separate agents. Your task is to combine them into the final, complete output for the planning engine (FastDownwards). You must output the finalized PDDL Domain enclosed in <domain></domain> tags and the finalized PDDL Problem enclosed in <problem></problem> tags.",
                "prompt": "You have received the following PDDL content:\n\nPDDL Domain Content:\n{pddl_domain_output}\n\nPDDL Problem Content:\n{pddl_problem_output}\n\nExtract the domain content (from inside <domain_content> tags) and the problem content (from inside <problem_content> tags). Ensure the planning goal of minimizing total cost is preserved. Provide the final, combined PDDL output. Enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "expert_domain_filler.pddl->orchestrator.pddl",
            "problem_validator.pddl->orchestrator.pddl"
        ]
    }
}