{
    "name": "Logistics1",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner_agent",
            "auditor_agent",
            "orchestrator"
        ],
        "planner_agent": {
            "private_information": [
                "I know the detailed constraints for loading, unloading, driving, and flying: A package can be loaded into a truck/airplane only if the package and the vehicle are in the same location.",
                "Trucks move within a city; airplanes move between city airports.",
                "Initial state: Package_0 is at location_1_0. Package_1 is at location_0_0. Airplane_0 is at location_1_0. Truck_0 is at location_0_0 (in city_0). Truck_1 is at location_1_0 (in city_1). location_0_0 is the airport in city_0, and location_1_0 is the airport in city_1."
            ],
            "goal": "Generate the initial PDDL domain and problem files to solve the logistics task."
        },
        "auditor_agent": {
            "private_information": [
                "My role is to verify temporal and causal consistency in the planning output.",
                "I must ensure that movement actions (drive and fly) and cargo actions (load and unload) strictly adhere to the defined constraints (e.g., truck only drives within the same city, flight only connects airports)."
            ],
            "goal": "Audit the PDDL generated by the planner_agent for inconsistencies or shortcuts based on the detailed logistics rules."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the planning information, resolve any discrepancies found during auditing, and produce the final, consistent PDDL domain and problem to achieve the logistics goal: package_0 is at location_1_0 and package_1 is at location_1_0."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 1,
            "packages": 2,
            "trucks": 2,
            "airplanes": 1
        },
        "public_information": [
            "The task involves transporting packages between cities using trucks (within city movement) and airplanes (inter-city movement).",
            "Locations within a city are directly connected.",
            "Each city has exactly one truck and one airport location.",
            "The global goal is to ensure package_0 is at location_1_0 and package_1 is at location_1_0."
        ]
    },
    "workflow": {
        "planner_agent": {
            "pddl": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is planner_agent. You are solving a logistics problem. You need to define the PDDL structures (objects, predicates, actions) required to represent movements using trucks (within city) and airplanes (between cities), and cargo handling (load/unload).\n\nPublic environment information:\n{environment->public_information}\nPrivate knowledge:\n{agents->planner_agent->private_information}\nGlobal Goal:\n{agents->planner_agent->goal}\n\nThink step by step and provide a complete PDDL domain and a PDDL problem file to solve the task, ensuring all object definitions (packages, trucks, airplanes, locations, cities) and initial state facts are included.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor_agent": {
            "audit": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_audited_feedback",
                "system_prompt": "You are a specialized PDDL Auditor. Your primary role is to ensure that proposed PDDL domains and problems adhere strictly to specified temporal and causal constraints. You must identify any actions that use bookkeeping shortcuts or violate physical/logical constraints described in the task description.",
                "prompt": "Your name is auditor_agent. You must audit the provided PDDL plan to ensure it adheres to all logistics constraints defined in the scenario. Specifically, check that:\n1. Truck movements are restricted to locations within the same city.\n2. Airplane movements occur only between airport locations.\n3. Load/Unload preconditions correctly check location and cargo status.\n\nHere is the PDDL generated by the planner_agent:\n{pddl_initial_plan}\n\nProvide detailed feedback and corrections necessary to ensure consistency. Do not regenerate the full PDDL files, but specify exactly which predicates or actions need modification to remove inconsistencies or shortcuts. If the PDDL is consistent, state 'PDDL is consistent'. If changes are needed, list them clearly.\nEnclose your detailed feedback between <audit_feedback></audit_feedback> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_initial_plan",
                    "pddl_audited_feedback"
                ],
                "output": "pddl_orchestrator_final",
                "system_prompt": "You are an expert orchestrator for planning problems. You are responsible for integrating initial plans and auditor feedback to produce the final, executable PDDL domain and problem targeting the FastDownwards solver. You must ensure the final output is logically sound and consistent.",
                "prompt": "Your name is orchestrator. You have received an initial PDDL plan and auditing feedback.\n\nInitial PDDL Plan:\n{pddl_initial_plan}\n\nAuditing Feedback:\n{pddl_audited_feedback}\n\nIntegrate the audited feedback (if any) into the initial plan. Produce the final, complete, and consistent PDDL domain and PDDL problem file that achieves the goal: package_0 is at location_1_0 and package_1 is at location_1_0.\n\nThink step by step and provide the final PDDL domain and problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner_agent.pddl->auditor_agent.audit",
            "planner_agent.pddl->orchestrator.pddl",
            "auditor_agent.audit->orchestrator.pddl"
        ]
    }
}