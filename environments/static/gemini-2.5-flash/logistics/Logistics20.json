{
    "name": "Logistics20",
    "author": "Human",
    "agents": {
        "number": 2,
        "names": [
            "LogisticsPlanner",
            "orchestrator"
        ],
        "LogisticsPlanner": {
            "private_information": [],
            "goal": "Generate a complete PDDL domain and problem specification that models the logistics task and solves the requirement to move package_0 to location_1_2, considering all constraints and initial setup provided."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Validate and finalize the PDDL plan to ensure package_0 is successfully transported to location_1_2 according to the specified logistics rules."
        }
    },
    "environment": {
        "init": {
            "cities": [
                "city_0",
                "city_1"
            ],
            "locations": [
                "location_0_0",
                "location_0_1",
                "location_0_2",
                "location_1_0",
                "location_1_1",
                "location_1_2"
            ],
            "trucks": [
                "truck_0",
                "truck_1"
            ],
            "airplanes": [
                "airplane_0",
                "airplane_1"
            ],
            "packages": [
                "package_0"
            ]
        },
        "public_information": [
            "This is a logistics environment involving transporting packages between and within cities using trucks and airplanes.",
            "Rules for movement and loading/unloading are detailed in the agent prompts.",
            "Initial State:",
            " - location_0_0 is an airport and is in city_0.",
            " - location_0_1 is in city_0.",
            " - location_0_2 is in city_0.",
            " - location_1_0 is an airport and is in city_1.",
            " - location_1_1 is in city_1.",
            " - location_1_2 is in city_1.",
            " - airplane_0 is at location_0_0.",
            " - airplane_1 is at location_1_0.",
            " - package_0 is at location_1_1.",
            " - truck_0 is at location_0_1.",
            " - truck_1 is at location_1_0.",
            "Goal: package_0 is at location_1_2."
        ]
    },
    "workflow": {
        "LogisticsPlanner": {
            "pddl": {
                "input": [],
                "output": "pddl_logistics_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your task is to model a complex logistics problem using PDDL. You must define the types (city, location, package, truck, airplane), predicates, and the six required actions (Load Pkg/Truck, Load Pkg/Plane, Unload Pkg/Truck, Unload Pkg/Plane, Drive Truck, Fly Plane) with their correct preconditions and effects, based on the specifications:\n\nActions Constraints Summary:\n- Load Pkg/Truck: Requires (at ?p ?l) (at ?t ?l). Effects: (in ?p ?t), (not (at ?p ?l)).\n- Unload Pkg/Truck: Requires (in ?p ?t) (at ?t ?l). Effects: (at ?p ?l), (not (in ?p ?t)).\n- Drive Truck: Requires (at ?t ?l1) (in-city ?l1 ?c) (in-city ?l2 ?c). Effects: (at ?t ?l2), (not (at ?t ?l1)).\n- Load Pkg/Plane: Requires (at ?p ?l) (at ?a ?l). Effects: (in ?p ?a), (not (at ?p ?l)).\n- Unload Pkg/Plane: Requires (in ?p ?a) (at ?a ?l). Effects: (at ?p ?l), (not (in ?p ?a)).\n- Fly Plane: Requires (at ?a ?l1) (airport ?l1) (airport ?l2). Effects: (at ?a ?l2), (not (at ?a ?l1)).\n\nPublic Information:\n{environment->public_information}\n\nGlobal Goal:\n{agents->LogisticsPlanner->goal}\n\nThink step by step and provide a complete PDDL domain and a PDDL problem file to solve the task. Ensure all location connectivity within cities is correctly modeled (e.g., location_0_0 is connected to location_0_1 and location_0_2, etc., within city_0). Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_logistics_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL validator and final output generator. Your role is to confirm the received PDDL domain and problem are complete, adhere to the planning rules, and correctly target the final goal.",
                "prompt": "You have received a PDDL plan from the LogisticsPlanner. Your goal is to ensure the plan is robust and meets the final objective: package_0 is at location_1_2.\n\nReview the provided PDDL content:\n{pddl_logistics_plan}\n\nIf the PDDL is complete and correctly models the logistics task described (including definitions for cities, locations, vehicles, and the initial state), confirm the plan and output the final PDDL domain and problem files without modification. If any structural fixes or logical clarifications are needed, apply them while maintaining the integrity of the logistics domain model.\n\nThink step by step and provide the final PDDL domain and PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "LogisticsPlanner.pddl->orchestrator.pddl"
        ]
    }
}