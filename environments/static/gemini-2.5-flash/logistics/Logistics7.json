{
    "name": "Logistics7",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "LogisticsPlanner",
            "Auditor",
            "orchestrator"
        ],
        "LogisticsPlanner": {
            "private_information": [],
            "goal": "Develop a complete plan to transport package_0 to location_1_0 and package_1 to location_0_0, adhering strictly to truck (intra-city) and airplane (inter-city) rules."
        },
        "Auditor": {
            "private_information": [
                "I must check for shortcuts, temporal inconsistency, and adherence to preconditions/effects."
            ],
            "goal": "Verify the temporal and causal consistency of the generated PDDL plan draft against the established logistics rules."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Generate the final, validated PDDL domain and problem to achieve the goal state: package_0 at location_1_0 and package_1 at location_0_0."
        }
    },
    "environment": {
        "init": {
            "grid_size": 0,
            "visibility": 1
        },
        "public_information": [
            "The task is to plan logistics to transport packages using trucks (within cities) and airplanes (between cities).",
            "Initial State:",
            "location_0_0 is an airport and is in city_0.",
            "location_0_1 is in city_0.",
            "location_1_0 is an airport and is in city_1.",
            "location_1_1 is in city_1.",
            "airplane_0 is at location_1_0.",
            "package_0 is at location_1_1.",
            "package_1 is at location_0_0.",
            "truck_0 is at location_0_0 (in city_0).",
            "truck_1 is at location_1_1 (in city_1).",
            "Goal State: package_0 must be at location_1_0 AND package_1 must be at location_0_0."
        ]
    },
    "workflow": {
        "LogisticsPlanner": {
            "pddl_draft": {
                "input": [],
                "output": "pddl_plan_draft",
                "system_prompt": "You are an expert PDDL generator for the Logistics domain. You must define the types, predicates, actions, and initial state necessary to solve the given goal. Focus on correctly modeling location, vehicle contents, and city connectivity (trucks within city, airplanes between airports).",
                "prompt": "You are the LogisticsPlanner. Your goal is: {agents->LogisticsPlanner->goal}\n\nEnvironment Public Information:\n{environment->public_information}\n\nEnsure your PDDL definition accurately captures the movement restrictions: trucks move only within cities between connected locations; airplanes move only between designated airport locations in different cities.\n\nProvide a comprehensive PDDL domain and problem file to achieve the goal.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "Auditor": {
            "review": {
                "input": [
                    "pddl_plan_draft"
                ],
                "output": "audit_report",
                "system_prompt": "You are an Auditor specialized in PDDL verification. Your task is to check the provided PDDL domain and problem definition for logical consistency, adherence to stated environmental rules, and temporal/causal integrity. You must identify any assumptions, missing predicates, or shortcut actions that bypass core planning logic, especially regarding city boundaries and package transfers.",
                "prompt": "Review the following PDDL draft provided by the LogisticsPlanner:\n{pddl_plan_draft}\n\nThe intended goal is: {agents->Auditor->goal}\n\nAnalyze the PDDL files and provide a detailed report on any inconsistencies, missing definitions, or potential planning errors. Focus on ensuring that actions (Load/Unload/Drive/Fly) correctly enforce preconditions and effects, specifically verifying that trucks and airplanes use the correct location types and stay within their operational ranges.\n\nProvide your analysis and findings as a detailed audit report."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_plan_draft",
                    "audit_report"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert PDDL orchestrator. Your role is to integrate planning documents and audits to produce a single, finalized PDDL domain and problem file ready for execution by a solver like FastDownwards. Ensure the final PDDL adheres strictly to the defined goal and environmental rules.",
                "prompt": "You have received a PDDL draft and an audit report. Finalize the PDDL to solve the following goal: {agents->orchestrator->goal}\n\nPDDL Draft:\n{pddl_plan_draft}\n\nAudit Report:\n{audit_report}\n\nIntegrate any necessary corrections suggested by the audit (or confirm the draft if it is sound) and provide the finalized PDDL domain and problem.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "LogisticsPlanner.pddl_draft->Auditor.review",
            "LogisticsPlanner.pddl_draft->orchestrator.pddl",
            "Auditor.review->orchestrator.pddl"
        ]
    }
}