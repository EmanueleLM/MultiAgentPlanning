{
    "name": "MysteryBlocksworld4",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "I am tasked with finding a sequence of actions to transition from the initial state to the goal state.",
                "The available objects are a, b, c, and d."
            ],
            "goal": "Achieve the state where object a craves object b AND object d craves object c, using the defined actions."
        },
        "auditor": {
            "private_information": [
                "My role is to ensure the PDDL translation is faithful to the abstract rules provided."
            ],
            "goal": "Verify the consistency, completeness, and logical coherence of the planning domain and problem definition derived from the task description, specifically focusing on precondition/effect accuracy."
        },
        "orchestrator": {
            "private_information": [
                "I must synthesize the final, validated PDDL for the planning task."
            ],
            "goal": "Produce a valid, consolidated PDDL domain and problem file reflecting the planning scenario for the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "a",
                "b",
                "c",
                "d"
            ],
            "initial_facts": [
                "(craves a c)",
                "(craves c b)",
                "(craves d a)",
                "(harmony)",
                "(planet b)",
                "(province d)"
            ],
            "goal_facts": [
                "(craves a b)",
                "(craves d c)"
            ]
        },
        "public_information": [
            "This is a planning domain based on four abstract objects (a, b, c, d) and specific relationships and state properties.",
            "Predicates include (province ?obj), (planet ?obj), (pain ?obj), (craves ?obj1 ?obj2), and the zero-arity fact (harmony).",
            "Action: Attack (?o). Pre: (province ?o), (planet ?o), (harmony). Add: (pain ?o). Del: (province ?o), (planet ?o), (harmony).",
            "Action: Succumb (?o). Pre: (pain ?o). Add: (province ?o), (planet ?o), (harmony). Del: (pain ?o).",
            "Action: Overcome (?o1 ?o2). Pre: (province ?o2), (pain ?o1). Add: (harmony), (province ?o1), (craves ?o1 ?o2). Del: (province ?o2), (pain ?o1).",
            "Action: Feast (?o1 ?o2). Pre: (craves ?o1 ?o2), (province ?o1), (harmony). Add: (pain ?o1), (province ?o2). Del: (craves ?o1 ?o2), (province ?o1), (harmony)."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_draft",
                "system_prompt": "You are an expert in translating complex relational rules into a single-agent PDDL domain and problem specification. Focus on modeling the abstract objects and state transitions accurately.",
                "prompt": "Your name is planner. You are operating in a domain defined by the following public rules and facts:\n{environment->public_information}\nInitial State:\n{environment->init->initial_facts}\nGoal State:\n{environment->init->goal_facts}\nProvide the complete PDDL domain and problem files necessary to achieve the goal state from the initial state.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_draft"
                ],
                "output": "auditor_report",
                "system_prompt": "You are a logical consistency checker and domain auditor. Your job is to verify that the generated PDDL accurately reflects the described rules, ensuring all preconditions and effects are correctly mapped, and no temporal shortcuts or external bookkeeping methods are present. You must ensure the plan is purely causal.",
                "prompt": "Review the PDDL generated by the planner based on the environment rules.\n{pddl_draft}\nFocus on:\n1. Whether the abstract concepts are correctly translated into PDDL predicates.\n2. Whether the preconditions and effects of all four actions match the source description exactly.\n3. Identify any inconsistencies or potential problems.\nIf necessary, provide corrections for the PDDL domain or problem. Provide a brief review report, and if corrections are needed, enclose the corrected PDDL domain between <domain_corrected></domain_corrected> tags, and the corrected PDDL problem between <problem_corrected></problem_corrected> tags. If no corrections are necessary, state 'No corrections necessary.'"
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "auditor_report"
                ],
                "output": "pddl_final",
                "system_prompt": "You are the final integrator. Your task is to take the validated planning environment definition and output the definitive PDDL domain and problem ready for execution by the FastDownwards planner.",
                "prompt": "The planning step has been completed and audited. Review the auditor's report:\n{auditor_report}\nIf the auditor provided corrected PDDL files (within <domain_corrected> and <problem_corrected> tags), use those. Otherwise, use the original draft.\nOutput the final, verified PDDL domain and problem.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl->auditor.review",
            "auditor.review->orchestrator.pddl"
        ]
    }
}