{
    "name": "TripPlanningExample4",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "duration_planner",
            "connectivity_checker",
            "temporal_auditor",
            "orchestrator"
        ],
        "duration_planner": {
            "private_information": [
                "Total trip duration is 12 days.",
                "Desired durations: Tallinn (2 days), Seville (7 days), Munich (5 days). Sums to 14 days."
            ],
            "goal": "Analyze the duration constraints and report potential conflicts or necessary reductions to fit the 12-day total limit."
        },
        "connectivity_checker": {
            "private_information": [
                "Direct flights exist between Seville and Munich.",
                "Direct flights exist between Munich and Tallinn.",
                "Commuting between cities requires a direct flight."
            ],
            "goal": "Determine the required sequence of cities to visit given the direct flight constraints."
        },
        "temporal_auditor": {
            "private_information": [
                "The trip must accommodate a meeting in Tallinn between Day 11 and Day 12 (inclusive)."
            ],
            "goal": "Ensure the planned itinerary allows for the Tallinn visit to occur on Day 11 or Day 12."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Synthesize all constraints (duration, connectivity, temporal) and generate a comprehensive 12-day trip PDDL plan."
        }
    },
    "environment": {
        "init": {
            "total_days": 12,
            "cities": [
                "Tallinn",
                "Seville",
                "Munich"
            ]
        },
        "public_information": [
            "The trip must last exactly 12 days.",
            "Desired stay durations: Seville (7 days), Munich (5 days), Tallinn (2 days).",
            "Direct flight connections: Seville <-> Munich, Munich <-> Tallinn."
        ]
    },
    "workflow": {
        "duration_planner": {
            "analysis": {
                "input": [],
                "output": "duration_analysis",
                "system_prompt": "You are a Constraint Analyzer specialized in time allocation. Your output must be a concise analysis summary of how to fit the required durations (7+5+2=14 days) into the available 12 days.",
                "prompt": "Analyze the duration constraints:\nTotal trip days: 12\nDesired stays: Seville (7 days), Munich (5 days), Tallinn (2 days).\nReport your findings on how these durations must be adjusted to fit the 12-day limit, or if the initial requests are firm. Output a structured text report detailing the required stay durations that sum to 12 days."
            }
        },
        "connectivity_checker": {
            "analysis": {
                "input": [],
                "output": "connectivity_analysis",
                "system_prompt": "You are a Route Planner focused on direct flight requirements. Your output must clearly state the viable sequences of travel that allow visiting all three cities.",
                "prompt": "Analyze the connectivity constraints:\nDirect Flights: Seville <-> Munich, Munich <-> Tallinn.\nReport the possible valid sequences for visiting all three cities (e.g., A -> B -> C or C -> B -> A). Ensure every inter-city movement uses a direct flight. Output a structured text report."
            }
        },
        "temporal_auditor": {
            "analysis": {
                "input": [],
                "output": "temporal_analysis",
                "system_prompt": "You are a specialized auditor checking specific temporal constraints. Your output must confirm the feasibility of the required meeting time relative to potential schedules.",
                "prompt": "Analyze the specific temporal constraint:\nA meeting is required in Tallinn between Day 11 and Day 12 (inclusive).\nReport how this constraint affects the placement of the Tallinn segment within the 12-day trip. Output a structured text report."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "duration_analysis",
                    "connectivity_analysis",
                    "temporal_analysis"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert in integrating reports and generating complex PDDL problems (Planning Domain Definition Language) for scheduling and logistical tasks, targeting the FastDownwards solver. You must enforce all constraints derived from the input reports, including trip duration, city stays, flight connections, and temporal requirements. You always provide a PDDL domain and a PDDL problem file. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received analyses regarding constraints for a 12-day trip visiting Seville, Munich, and Tallinn. Integrate the findings to generate a complete PDDL plan that determines the exact itinerary (City sequence and number of days spent in each city) from Day 1 to Day 12.\n\nDuration Analysis:\n{duration_analysis}\n\nConnectivity Analysis:\n{connectivity_analysis}\n\nTemporal Analysis:\n{temporal_analysis}\n\nConstraints Summary:\n1. Total trip length is 12 days.\n2. City stays must comply with the duration constraints derived from the duration analysis.\n3. Travel must follow the connectivity rules derived from the connectivity analysis.\n4. The stay in Tallinn must include Day 11 or Day 12, as derived from the temporal analysis.\n\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "duration_planner.analysis->orchestrator.pddl",
            "connectivity_checker.analysis->orchestrator.pddl",
            "temporal_auditor.analysis->orchestrator.pddl"
        ]
    }
}