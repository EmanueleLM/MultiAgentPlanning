{
    "name": "ChildsnackExample7",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "domain_expert",
            "auditor",
            "orchestrator"
        ],
        "domain_expert": {
            "private_information": [
                "Familiar with the child-snack domain and the available actions for making sandwiches, placing them on trays, moving trays, and serving children.",
                "Has the PDDL domain template and understands typing and predicate design for FastDownwards compatibility."
            ],
            "goal": "Produce a clear structured domain draft that maps actions to preconditions and effects and annotates any assumptions, without emitting the final PDDL domain."
        },
        "auditor": {
            "private_information": [
                "Focuses on temporal and causal consistency, removal of bookkeeping shortcuts, and detection of implicit assumptions such as token quotas or post-hoc penalties.",
                "Knows the problem template and initial facts and checks for resource accounting consistency and solvability concerns."
            ],
            "goal": "Produce an audit report that lists temporal and causal issues, suggests fixes to ensure no bookkeeping shortcuts remain, and confirms that the problem is solvable under realistic assumptions."
        },
        "orchestrator": {
            "private_information": [
                "Receives structured domain drafts, problem instantiations, and audit reports from other agents and must integrate them into final PDDL files.",
                "Targets the FastDownwards planner and must ensure domain and problem use acceptable syntax and semantics for that solver."
            ],
            "goal": "Integrate inputs into a final PDDL domain and a final PDDL problem that are ready to be consumed by FastDownwards and that respect auditor recommendations."
        }
    },
    "environment": {
        "init": {
            "scale": "ten_children_instance",
            "gluten_factor": 0.4,
            "constant_factor": 1.3,
            "random_seed": 234324
        },
        "public_information": [
            "Domain: prepare and serve sandwiches to children while respecting gluten allergies.",
            "Actions include making gluten and gluten-free sandwiches, placing sandwiches on trays, moving trays between places, and serving sandwiches to children.",
            "Initial resources: three trays in kitchen, ten bread portions in kitchen, ten content portions in kitchen, thirteen sandwich placeholders that do not exist yet.",
            "Some bread and content portions are gluten free and some children are allergic to gluten.",
            "Goal: serve all ten children with a sandwich they are not allergic to."
        ]
    },
    "workflow": {
        "domain_expert": {
            "analysis": {
                "input": [
                    "domain_template"
                ],
                "output": "domain_draft",
                "system_prompt": "You are a domain expert for planning problems. Analyze the natural language domain and produce a structured domain draft mapping actions to clear typed predicates preconditions and effects, and enumerate any assumptions. Do not output final PDDL domain here.",
                "prompt": "Produce a structured domain draft for the child-snack domain that captures make_sandwich_no_gluten make_sandwich put_on_tray move_tray serve_sandwich_no_gluten and serve_sandwich. Include required predicates and typing suggestions and note any assumptions about resource consumption and nonreusable tokens."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "problem_template",
                    "domain_draft"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor that inspects temporal and causal consistency and removes bookkeeping shortcuts. Check for resource accounting issues quota tokens and post hoc penalties and propose explicit modeling fixes. Do not produce PDDL, only an audit report.",
                "prompt": "Given the problem instantiation details and the domain draft produce an audit report that lists temporal and causal inconsistencies potential shortcuts and precise recommendations to fix them so that the final PDDL remains realistic and solvable by FastDownwards."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "domain_draft",
                    "problem_draft",
                    "audit_report"
                ],
                "output": "final_pddl",
                "system_prompt": "You are the orchestrator that integrates domain drafts problem drafts and audit recommendations to produce a final PDDL domain and PDDL problem ready for the FastDownwards solver. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags. Keep agent actions distinct where necessary.",
                "prompt": "Integrate the input domain draft the problem instantiation and the auditor recommendations and produce a final PDDL domain and a final PDDL problem suitable for FastDownwards. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "domain_expert.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    },
    "templates": {
        "domain_template": "(define (domain child-snack) (:requirements :typing :equality) (:types child bread-portion content-portion sandwich tray place) (:constants kitchen - place) (:predicates) (:action make_sandwich_no_gluten :parameters (?s - sandwich ?b - bread-portion ?c - content-portion) :precondition () :effect () ) (:action make_sandwich :parameters (?s - sandwich ?b - bread-portion ?c - content-portion) :precondition () :effect () ) (:action put_on_tray :parameters (?s - sandwich ?t - tray) :precondition () :effect () ) (:action serve_sandwich_no_gluten :parameters (?s - sandwich ?c - child ?t - tray ?p - place) :precondition () :effect () ) (:action serve_sandwich :parameters (?s - sandwich ?c - child ?t - tray ?p - place) :precondition () :effect () ) (:action move_tray :parameters (?t - tray ?p1 ?p2 - place) :precondition () :effect () ) )",
        "problem_template": "; child-snack task with 10 children and 0.4 gluten factor ; constant factor of 1.3 ; random seed: 234324 (define (problem prob-snack) (:domain child-snack) (:objects child1 child2 child3 child4 child5 child6 child7 child8 child9 child10 - child bread1 bread2 bread3 bread4 bread5 bread6 bread7 bread8 bread9 bread10 - bread-portion content1 content2 content3 content4 content5 content6 content7 content8 content9 content10 - content-portion tray1 tray2 tray3 - tray table1 table2 table3 - place sandw1 sandw2 sandw3 sandw4 sandw5 sandw6 sandw7 sandw8 sandw9 sandw10 sandw11 sandw12 sandw13 - sandwich ) (:init   (at tray1 kitchen)   (at tray2 kitchen)   (at tray3 kitchen)   (at_kitchen_bread bread1)   (at_kitchen_bread bread2)   (at_kitchen_bread bread3)   (at_kitchen_bread bread4)   (at_kitchen_bread bread5)   (at_kitchen_bread bread6)   (at_kitchen_bread bread7)   (at_kitchen_bread bread8)   (at_kitchen_bread bread9)   (at_kitchen_bread bread10)   (at_kitchen_content content1)   (at_kitchen_content content2)   (at_kitchen_content content3)   (at_kitchen_content content4)   (at_kitchen_content content5)   (at_kitchen_content content6)   (at_kitchen_content content7)   (at_kitchen_content content8)   (at_kitchen_content content9)   (at_kitchen_content content10)   (no_gluten_bread bread2)   (no_gluten_bread bread9)   (no_gluten_bread bread4)   (no_gluten_bread bread8)   (no_gluten_content content2)   (no_gluten_content content8)   (no_gluten_content content4)   (no_gluten_content content1)   (allergic_gluten child1)   (allergic_gluten child10)   (allergic_gluten child3)   (allergic_gluten child4)   (not_allergic_gluten child2)   (not_allergic_gluten child5)   (not_allergic_gluten child6)   (not_allergic_gluten child7)   (not_allergic_gluten child8)   (not_allergic_gluten child9)   (waiting child1 table2)   (waiting child2 table1)   (waiting child3 table1)   (waiting child4 table2)   (waiting child5 table3)   (waiting child6 table3)   (waiting child7 table3)   (waiting child8 table2)   (waiting child9 table1)   (waiting child10 table3)   (notexist sandw1)   (notexist sandw2)   (notexist sandw3)   (notexist sandw4)   (notexist sandw5)   (notexist sandw6)   (notexist sandw7)   (notexist sandw8)   (notexist sandw9)   (notexist sandw10)   (notexist sandw11)   (notexist sandw12)   (notexist sandw13) ) (:goal (and  (served child1)  (served child2)  (served child3)  (served child4)  (served child5)  (served child6)  (served child7)  (served child8)  (served child9)  (served child10) ) ) )"
    }
}