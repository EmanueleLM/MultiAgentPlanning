{
    "name": "Depots20",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "hoist_operator",
            "driver",
            "logistics_manager",
            "auditor",
            "orchestrator"
        ],
        "hoist_operator": {
            "private_information": [
                "I operate the hoists hoist0 hoist1 hoist2 hoist3 and know which hoist is at which place",
                "I know lifting constraints and physical preconditions for using hoists"
            ],
            "goal": "Support loading and unloading crates using hoists so the global crate placement goal can be achieved"
        },
        "driver": {
            "private_information": [
                "I operate trucks truck0 truck1 truck2 and know their current locations",
                "I know road connectivity rules and travel times between places"
            ],
            "goal": "Drive trucks between places to move crates as coordinated with hoists"
        },
        "logistics_manager": {
            "private_information": [
                "I have an overview of depots, distributors, pallets, crates and the global delivery objectives",
                "I can propose task allocations and high level sequencing for hoists and drivers"
            ],
            "goal": "Allocate tasks and produce high-level plan fragments that achieve the global crate placement goal"
        },
        "auditor": {
            "private_information": [
                "I specialize in temporal and causal consistency and remove bookkeeping shortcuts such as post-hoc penalties or quota tokens",
                "I verify that preconditions and effects are explicit and that plans respect causal ordering and resource usage"
            ],
            "goal": "Analyze plan fragments for temporal and causal consistency and produce an audit report removing any bookkeeping shortcuts"
        },
        "orchestrator": {
            "private_information": [
                "I integrate plan fragments and audit reports and produce a final PDDL domain and problem tailored for the FastDownwards solver",
                "I must keep agent actions distinct when composing the multi-agent PDDL"
            ],
            "goal": "Produce the final PDDL domain and problem that encode the full task for the FastDownwards planner"
        }
    },
    "environment": {
        "init": {
            "grid_size": 20,
            "visibility": 2
        },
        "public_information": [
            "There are places of type depot and distributor",
            "Depots and distributors are connected by roads and trucks can drive between any two places",
            "A depot is a type of place and a distributor is a type of place",
            "Pallets and crates are surfaces for stacking crates",
            "Trucks can be driven from one place to another if the truck is at the origin place",
            "After driving, the truck is no longer at the origin and is at the destination",
            "A hoist can lift a crate only if the hoist is at the same place as the crate, the hoist is available, and the crate is clear",
            "After a lift, the crate is no longer on the surface, the hoist is lifting the crate, the hoist becomes unavailable, and the surface becomes clear",
            "A hoist can drop a crate to a surface only if the hoist and surface are at the place, the surface is clear, and the hoist is lifting the crate",
            "After a drop, the hoist becomes available, the hoist is no longer lifting the crate, the crate is at the place, the surface is not clear, the crate is clear, and the crate is on the surface",
            "A hoist can load a crate into a truck only if the hoist is at the same place and lifting the crate and the truck is at the same place",
            "After loading a crate into a truck the crate is in the truck and the hoist becomes available and is not lifting the crate unless specified otherwise",
            "A hoist can unload a crate from a truck only if the hoist is at the same place as the truck, the hoist is available, and the crate is in the truck",
            "After unloading a crate from a truck the crate is no longer in the truck, the hoist becomes unavailable and the hoist is lifting the crate",
            "Initial facts: crate0 is at depot1 and crate0 is on pallet1 and crate0 is clear",
            "Initial facts: crate1 is at depot2 and crate1 is on pallet2 and crate1 is clear",
            "Initial facts: crate2 is at depot0 and crate2 is on pallet0 and crate2 is clear",
            "Initial facts: hoist0 is at depot0 and hoist1 is at depot1 and hoist2 is at depot2 and hoist3 is at distributor0",
            "Initial facts: pallet0 is at depot0 and pallet1 is at depot1 and pallet2 is at depot2 and pallet3 is at distributor0 and pallet3 is clear",
            "Initial facts: truck0 is at depot1 and truck1 is at depot2 and truck2 is at distributor0",
            "Initial facts: hoist0 is available and hoist1 is available and hoist2 is available and hoist3 is available",
            "The planning goal is to achieve crate0 on pallet2 and crate1 on pallet1 and crate2 on pallet0"
        ]
    },
    "workflow": {
        "hoist_operator": {
            "analysis": {
                "input": [],
                "output": "hoist_fragments",
                "system_prompt": "You are an expert in hoist operations and lifting logistics. Provide concise plan fragments describing applicable hoist actions with explicit preconditions and effects. Do not emit PDDL. Focus on the hoist-level operators such as lift, drop, load-into-truck, unload-from-truck and include resource constraints and temporal ordering implications.",
                "prompt": "You are hoist_operator. Use the environment public information and your private information to produce hoist action fragments and operator descriptions. If information is missing, do not assume facts not stated in the public information. Output a structured fragment that describes preconditions, effects, and possible conflicts."
            }
        },
        "driver": {
            "analysis": {
                "input": [],
                "output": "driver_fragments",
                "system_prompt": "You are an expert driver planner. Provide concise plan fragments for driving trucks between places. Do not emit PDDL. Describe preconditions, effects, and travel time considerations and indicate which truck each fragment pertains to.",
                "prompt": "You are driver. Use public information and your private information to produce driving action fragments for trucks. Avoid inventing unprovided facts and list any assumptions explicitly as separate notes in the fragment output."
            }
        },
        "logistics_manager": {
            "allocation": {
                "input": [],
                "output": "task_allocation",
                "system_prompt": "You are a logistics manager that produces high level task allocations and sequences for hoists and trucks to achieve the global crate placement goal. Provide coordinated sequences and tradeoffs but do not emit PDDL. Indicate synchronization points and resource usages.",
                "prompt": "You are logistics_manager. Propose a task allocation and high-level sequencing of actions that, together with hoist and driver fragments, achieves the goal. Mark dependencies that require synchronization and list any unresolved contingencies."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "hoist_fragments",
                    "driver_fragments",
                    "task_allocation"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency who eliminates bookkeeping shortcuts and ensures explicit causal links. Analyze plan fragments and the allocation for cycles, implicit resource assumptions, or shortcuts such as quotas and post-hoc repairs. Do not emit PDDL. Produce actionable corrections and an annotated consistent fragment set.",
                "prompt": "You are auditor. Receive plan fragments and allocations and produce an audit report that removes bookkeeping shortcuts, explicits resources usage and enforces causal and temporal consistency. Provide corrected fragments and a short rationale for each correction."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "hoist_fragments",
                    "driver_fragments",
                    "task_allocation",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL encoding and must produce a final PDDL domain and problem file suitable for the FastDownwards planner. Keep agent actions distinct by naming predicates and actions with agent prefixes when appropriate. Ensure you include necessary :requirements and :types and encode initial state and goals exactly as provided. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. The output must be directly consumable by FastDownwards.",
                "prompt": "You are orchestrator. Integrate the hoist fragments, driver fragments, task allocation and audit report to produce a complete PDDL domain and problem targeting the FastDownwards solver. Keep multi-agent actions distinct and preserve corrected causal and temporal constraints. Enclose the pddl domain between <domain></domain> tags and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "hoist_operator.analysis->orchestrator.pddl",
            "driver.analysis->orchestrator.pddl",
            "logistics_manager.allocation->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}