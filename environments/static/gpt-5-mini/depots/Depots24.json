{
    "name": "Depots24",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "driver",
            "hoist_operator",
            "logistics_planner",
            "auditor",
            "orchestrator"
        ],
        "driver": {
            "private_information": [
                "I know the driving action semantics and constraints for trucks.",
                "Trucks: truck0 at depot2, truck1 at depot0, truck2 at depot2."
            ],
            "goal": "Help achieve the global stacking and placement goal by describing driving constraints, preconditions and effects, and by producing a clear specification of truck state transitions."
        },
        "hoist_operator": {
            "private_information": [
                "I know hoist action semantics: lift, drop, load, unload, availability and lifting state.",
                "Hoists: hoist0 at depot0, hoist1 at depot1, hoist2 at depot2, hoist3 at distributor0.",
                "Pallets: pallet0 at depot0, pallet1 at depot1, pallet2 at depot2, pallet3 at distributor0.",
                "Crates: crate0 on pallet0 at depot0, crate1 on pallet3 at distributor0, crate2 on pallet2 at depot2.",
                "All hoists initially available; all crates initially clear; pallet1 initially clear."
            ],
            "goal": "Describe the hoist-related preconditions and effects precisely (including lifting availability, crate clear status, surface occupancy and truck load/unload semantics) to support a correct planner encoding."
        },
        "logistics_planner": {
            "private_information": [
                "I hold the topological view: depots and distributors are places connected by roads (complete connectivity between depots and distributors).",
                "Domain-level goal: crate0 on crate2, crate1 on pallet2, crate2 on pallet0."
            ],
            "goal": "Produce a clear symbolic listing of places, surfaces, crates, trucks and hoists, and a decomposition of the goal into sub-goals and possible logical invariants to help plan synthesis."
        },
        "auditor": {
            "private_information": [
                "My role is to detect temporal/causal inconsistencies, hidden bookkeeping shortcuts (like ephemeral tokens), and to propose conservative corrections so the model remains strictly causal and temporally consistent."
            ],
            "goal": "Audit the analyses provided by other agents, identify shortcuts (e.g., post-hoc effects or implicit resets) and produce a report with concrete recommendations to make the model fully explicit and suitable for optimal search-based planners."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate analyses from other agents and produce a complete PDDL domain and problem suitable for the FastDownward planner, keeping agent actions distinct and preserving causal/temporal correctness."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "surfaces": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3",
                "crate0",
                "crate1",
                "crate2"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "connectivity": "Trucks can drive between any two places (complete graph among depots and distributors)."
        },
        "public_information": [
            "Places: depot and distributor are types of place.",
            "Surfaces: pallet and crate are considered surfaces (crates can be stacked).",
            "Actions available: drive(truck, from, to), hoist_lift(hoist, crate, surface, place), hoist_drop(hoist, crate, surface, place), hoist_load(hoist, crate, truck, place), hoist_unload(hoist, crate, truck, place).",
            "Drive precondition: truck must be at origin; effect: truck at destination, not at origin.",
            "Hoist lift preconditions: hoist at same place as crate and surface, hoist available, crate clear; effects: crate lifted by hoist (not at place, hoist not available, surface becomes clear, crate not on surface).",
            "Hoist drop preconditions: hoist and surface at same place, surface clear, hoist lifting crate; effects: hoist becomes available, hoist no longer lifting crate, crate at place, surface not clear, crate clear, crate on surface.",
            "Hoist load preconditions: hoist and truck at same place, hoist lifting crate; effects: crate becomes in truck (and no longer lifted by hoist), hoist available.",
            "Hoist unload preconditions: hoist at same place as truck, hoist available, crate in truck; effects: crate not in truck, hoist not available, hoist lifts the crate.",
            "Initial facts: crate0 at depot0 on pallet0 and clear; crate1 at distributor0 on pallet3 and clear; crate2 at depot2 on pallet2 and clear; hoist0 at depot0 available, hoist1 at depot1 available, hoist2 at depot2 available, hoist3 at distributor0 available; truck0 at depot2, truck1 at depot0, truck2 at depot2; pallet1 is clear.",
            "Global goal: crate0 on crate2, crate1 on pallet2, crate2 on pallet0."
        ]
    },
    "workflow": {
        "driver": {
            "analysis": {
                "input": [],
                "output": "analysis_driver",
                "system_prompt": "You are a domain expert on vehicle motion and truck state transitions. Produce a clear, explicit specification of the driving action for the logistics domain: preconditions, effects, and any necessary typing or predicates (e.g., at(truck, place)). Do not produce PDDL; instead produce a structured analysis and a list of recommended predicates and invariants that a PDDL encoding can reuse.",
                "prompt": "Your name is driver. Read the public information:\n{environment->public_information}\nUse your private information:\n{agents->driver->private_information}\nYour objective is:\n{agents->driver->goal}\nProduce a structured analysis describing driving preconditions, effects, allowed transitions, and any invariants (for example, exclusivity of truck location, topological assumptions). Highlight anything that needs to be explicit for a search-based planner."
            }
        },
        "hoist_operator": {
            "analysis": {
                "input": [],
                "output": "analysis_hoist",
                "system_prompt": "You are an expert on manipulation primitives for hoists, including stacking behavior and load/unload sequences. Produce an explicit, unambiguous description of hoist actions (lift, drop, load, unload): predicates required, precise preconditions and effects, and edge cases (e.g., what 'clear' means for crates and surfaces, how lifting affects 'at' and 'in-truck'). Do not produce PDDL; produce a precise action schema and examples.",
                "prompt": "Your name is hoist_operator. Read the public information:\n{environment->public_information}\nUse your private information:\n{agents->hoist_operator->private_information}\nYour objective is:\n{agents->hoist_operator->goal}\nProvide a structured action schema for each hoist operation and point out any places where the model could hide bookkeeping shortcuts or implicit effects that should be made explicit for planning."
            }
        },
        "logistics_planner": {
            "analysis": {
                "input": [],
                "output": "analysis_planner",
                "system_prompt": "You are a logistics domain modeler. Produce a symbolic inventory of objects (places, surfaces, crates, trucks, hoists), and decompose the global goal into plausible sub-goals and ordering constraints. Do not output PDDL directly; instead output a clear object list, goal decomposition, and recommended predicate names and types.",
                "prompt": "Your name is logistics_planner. Read the public information:\n{environment->public_information}\nUse your private information:\n{agents->logistics_planner->private_information}\nYour objective is:\n{agents->logistics_planner->goal}\nProvide: (1) a canonical list of objects and types, (2) a decomposition of the global goal into subgoals and ordering considerations, and (3) any assumptions about simultaneity or resource contention (trucks, hoists)."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "analysis_driver",
                    "analysis_hoist",
                    "analysis_planner"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor who enforces temporal and causal rigor. Inspect the analyses produced by other agents and produce a report that identifies implicit shortcuts (e.g., ephemeral tokens, hidden instantaneous resets) and proposes concrete modeling fixes to remove those shortcuts. Provide explicit recommendations (predicate changes, additional invariants, or ordering constraints). Do not output PDDL; produce a detailed audit report.",
                "prompt": "Your name is auditor. You will receive the analyses:\n{analysis_driver}\n{analysis_hoist}\n{analysis_planner}\nYour objective is:\n{agents->auditor->goal}\nProduce a report listing found inconsistencies, hidden bookkeeping patterns, and step-by-step recommended corrections that make the model temporally and causally explicit and compatible with search-based planners."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "analysis_driver",
                    "analysis_hoist",
                    "analysis_planner",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator responsible for producing a complete PDDL domain and problem targeting the FastDownward planner. Integrate the analyses and the auditor report. Produce a single PDDL domain and a single PDDL problem, keeping actions from different agent perspectives distinct (e.g., driver/drive-*, hoist/hoist-*). Ensure typing, predicates, and requirements are appropriate for FastDownward (use :requirements and avoid non-supported extensions). Make all previously implicit effects explicit as per the auditor's recommendations. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags.",
                "prompt": "You are orchestrator. You have received the following inputs:\nDriver analysis:\n{analysis_driver}\nHoist analysis:\n{analysis_hoist}\nPlanner analysis:\n{analysis_planner}\nAudit report:\n{audit_report}\nYour objective is:\n{agents->orchestrator->goal}\nProduce a final PDDL domain and a PDDL problem suitable for FastDownward that encodes the initial state and the global goal (crate0 on crate2, crate1 on pallet2, crate2 on pallet0). Keep agents' actions distinct and include comments or schema names that reference the originating analyses when useful. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "driver.analysis->orchestrator.pddl",
            "hoist_operator.analysis->orchestrator.pddl",
            "logistics_planner.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}