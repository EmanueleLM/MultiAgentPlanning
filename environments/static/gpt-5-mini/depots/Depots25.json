{
    "name": "Depots25",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "depot_operator",
            "hoist_manager",
            "truck_coordinator",
            "auditor",
            "orchestrator"
        ],
        "depot_operator": {
            "private_information": [
                "I am responsible for modeling places, pallets, crates, and static topology of depots and distributors.",
                "Depots and distributors are both types of places and trucks can drive between any two places."
            ],
            "goal": "Provide a clear type and object inventory and a static model of place connectivity and initial object placements."
        },
        "hoist_manager": {
            "private_information": [
                "I manage hoist actions and constraints for lifting dropping loading and unloading crates.",
                "Hoists are located at places and have availability and lifting state."
            ],
            "goal": "Provide the hoist-related predicates, preconditions and effects and describe lifting and surface constraints."
        },
        "truck_coordinator": {
            "private_information": [
                "I manage drive actions for trucks and their location updates when driven between places.",
                "A truck can only be driven from a place if it is at that origin place."
            ],
            "goal": "Provide the drive action signature and clear description of its preconditions and effects and truck related predicates."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts such as quota tokens or post-hoc penalties.",
                "I will detect and flag implicit assumptions and simplify models to explicit causal predicates."
            ],
            "goal": "Check the partial models for temporal or causal inconsistencies, ensure frame axioms are explicit, and remove or replace bookkeeping shortcuts."
        },
        "orchestrator": {
            "private_information": [
                "I integrate partial models and produce the final PDDL domain and problem targeted at the FastDownwards solver.",
                "I keep actions and agents distinct and reconcile naming differences across inputs."
            ],
            "goal": "Produce a complete PDDL domain and problem suited for FastDownwards that encodes the logistics task and the provided initial state and goal."
        }
    },
    "environment": {
        "init": {
            "places_count": 6,
            "depots": 3,
            "distributors": 3,
            "pallets": 4,
            "crates": 3,
            "trucks": 3,
            "hoists": 4
        },
        "public_information": [
            "Domain overview: depots and distributors are places connected by roads. Trucks drive on roads between any two places.",
            "Types: depot is a place type, distributor is a place type, pallet is a surface type, crate is a surface type.",
            "Actions available: drive truck from one place to another, hoist lift crate from surface at a place, hoist drop crate to surface at a place, hoist load crate into truck at a place, hoist unload crate from truck at a place.",
            "Action restrictions summary: driving requires the truck to be at the origin and moves the truck to the destination. Lifting requires hoist at same place, hoist available, crate clear. After lift the crate is held by the hoist, hoist not available, surface becomes clear, and crate is removed from the surface and place until dropped. Dropping requires hoist and surface at the same place, surface clear and hoist lifting crate. After drop the hoist becomes available, hoist not lifting, crate is at place, surface not clear, crate is clear and on the surface. Loading to truck requires hoist and truck at same place and hoist lifting crate. Unloading requires hoist at same place as truck and hoist available and crate in truck. After unload the crate is removed from truck, hoist not available, and hoist is lifting the crate.",
            "Initial state provided: crate0 at depot2, crate1 at depot2, crate2 at depot2, hoist0 at depot0, hoist1 at depot1, hoist2 at depot2, hoist3 at distributor0, pallet0 at depot0, pallet1 at depot1, pallet2 at depot2, pallet3 at distributor0, truck0 at distributor0, truck1 at depot1, truck2 at distributor0, hoist0 available, hoist1 available, hoist2 available, hoist3 available, crate2 clear, pallet0 clear, pallet1 clear, pallet3 clear, crate0 on pallet2, crate1 on crate0, crate2 on crate1.",
            "Goal provided: crate1 on crate2 and crate2 on pallet2."
        ]
    },
    "workflow": {
        "depot_operator": {
            "model": {
                "input": [],
                "output": "model_depot",
                "system_prompt": "You are the depot operator. Analyze the public domain facts about places pallets crates trucks and initial placements. Produce a structured model artifact that lists object types and objects, suggested predicates for object location and stacking, and the initial facts derived from the public information. Do not emit PDDL. Use explicit predicate names and avoid shorthand bookkeeping tokens.",
                "prompt": "Your name is depot_operator. Use the public information {environment->public_information} and your private knowledge {agents->depot_operator->private_information}. Provide a structured object inventory, type declarations, a recommended set of static relations for place connectivity and a clear listing of initial facts for crates pallets trucks and hoists based only on information you have. If something is missing, state it as unknown rather than assuming values."
            }
        },
        "hoist_manager": {
            "model": {
                "input": [],
                "output": "model_hoist",
                "system_prompt": "You are the hoist manager. Describe hoist related predicates, detailed preconditions and effects for lift drop load and unload operations and the constraints on surfaces and hoist availability. Produce a structured description but do not emit PDDL.",
                "prompt": "Your name is hoist_manager. Use the public information {environment->public_information} and your private knowledge {agents->hoist_manager->private_information}. Provide clear predicate definitions for hoist availability lifting and relations between crates surfaces and hoists. For each hoist action give preconditions effects and frame assumptions. Do not output PDDL."
            }
        },
        "truck_coordinator": {
            "model": {
                "input": [],
                "output": "model_truck",
                "system_prompt": "You are the truck coordinator. Provide the precise drive action signature and its preconditions and effects, and any required frame axioms for truck location updates. Do not emit PDDL.",
                "prompt": "Your name is truck_coordinator. Use the public information {environment->public_information} and your private knowledge {agents->truck_coordinator->private_information}. Provide a canonical predicate name for truck-at and for truck-contained crates if needed, list driving preconditions and effects and mention any concurrency considerations. Provide the model as a structured artifact, not PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_depot",
                    "model_hoist",
                    "model_truck"
                ],
                "output": "audit_report",
                "system_prompt": "You are a temporal and causal auditor. Your job is to inspect model artifacts and detect implicit bookkeeping shortcuts and temporal or causal inconsistencies. Produce a report that rewrites shortcuts as explicit predicates or constraints and produce suggested corrections to predicates and action preconditions and effects. Do not emit final PDDL.",
                "prompt": "Your name is auditor. You receive partial models from other agents: {model_depot}, {model_hoist}, {model_truck}. Use your private knowledge {agents->auditor->private_information} and the public information {environment->public_information}. Identify any implicit tokens or shortcuts that hide causal dependencies and propose explicit predicate-based replacements. Explain any temporal ordering issues and provide a corrected minimal model ready for PDDL generation."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_depot",
                    "model_hoist",
                    "model_truck",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent domain integration and in generating PDDL models targetting the FastDownwards planner. Integrate the provided model artifacts and the auditor corrections into a single coherent PDDL domain and PDDL problem. Keep actions and agent responsibilities distinct by namespacing actions where appropriate. Produce a PDDL domain and a PDDL problem file, suitable for FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure type declarations, predicates, action schemas, and an explicit initial state and goal reflecting the public information. Use explicit frame axioms and avoid implicit bookkeeping shortcuts.",
                "prompt": "You are orchestrator. Receive these artifacts: depot model {model_depot}, hoist model {model_hoist}, truck model {model_truck}, auditor corrections {audit_report}. Your private knowledge is {agents->orchestrator->private_information}. Produce the final PDDL domain and PDDL problem that encode the logistics task and the initial state and goal as described in the public information {environment->public_information}. Target the FastDownwards solver. Enclose the domain in <domain></domain> and the problem in <problem></problem>."
            }
        },
        "constraints": [
            "depot_operator.model->orchestrator.pddl",
            "hoist_manager.model->orchestrator.pddl",
            "truck_coordinator.model->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}