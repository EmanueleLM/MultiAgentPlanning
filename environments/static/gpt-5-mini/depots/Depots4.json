{
    "name": "Depots4",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "logistics_planner",
            "hoist_operator",
            "truck_driver",
            "auditor",
            "orchestrator"
        ],
        "logistics_planner": {
            "private_information": [
                "I understand the high-level logistics goal of moving crates between depots and distributors.",
                "I know places include depot0 depot1 depot2 and distributor0.",
                "I know there are pallets and crates as surfaces and trucks and hoists as manipulators."
            ],
            "goal": "Achieve the final crate placements: crate0 on pallet1, crate1 on crate0, crate2 on pallet0."
        },
        "hoist_operator": {
            "private_information": [
                "I know the hoists and their initial locations and availability.",
                "I know the allowed hoist actions: lift, drop, load-to-truck, unload-from-truck and the local preconditions and effects."
            ],
            "goal": "Provide a consistent description of hoist-related preconditions and effects and any resource constraints."
        },
        "truck_driver": {
            "private_information": [
                "I know trucks and that they can drive between any two places provided the truck is at the origin.",
                "I know driving changes truck location and nothing else."
            ],
            "goal": "Provide a consistent description of drive actions and mobility constraints for trucks."
        },
        "auditor": {
            "private_information": [
                "I specialize in temporal and causal consistency and removing bookkeeping shortcuts like ad-hoc tokens.",
                "I will inspect other agents' models and find implicit assumptions and inconsistencies."
            ],
            "goal": "Audit models and reports from other agents and produce a corrected, consistent model without bookkeeping shortcuts."
        },
        "orchestrator": {
            "private_information": [
                "I will integrate the analyses from other agents and produce the final PDDL domain and problem files targeted at the FastDownwards solver.",
                "I must keep actions of different agents distinct and reconcile naming differences."
            ],
            "goal": "Produce a single coherent PDDL domain and a PDDL problem that represents the initial state and goal and is solvable by FastDownwards. The domain must retain distinct actions for hoists and trucks and reflect audited constraints."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "surfaces": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3",
                "crate0",
                "crate1",
                "crate2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "connectivity": "complete_graph_between_places"
        },
        "public_information": [
            "A depot is a type of place.",
            "A distributor is a type of place.",
            "A pallet is a type of surface.",
            "A crate is a type of surface.",
            "Trucks can drive between any two places. Driving requires the truck to be at the origin and results in the truck being at the destination.",
            "Hoists perform lift, drop, load, and unload actions. Hoist actions require co-location and appropriate availability and clear conditions.",
            "Surfaces and crates have a clear relation meaning nothing is on top of them.",
            "Loading places a crate into a truck. Unloading removes a crate from a truck and may make the hoist lift the crate."
        ],
        "init_state": [
            "crate0 at depot0",
            "crate1 at depot0",
            "crate2 at depot1",
            "hoist0 at depot0",
            "hoist1 at depot1",
            "hoist2 at depot2",
            "hoist3 at distributor0",
            "pallet0 at depot0",
            "pallet1 at depot1",
            "pallet2 at depot2",
            "pallet3 at distributor0",
            "truck0 at depot2",
            "truck1 at depot1",
            "truck2 at depot2",
            "hoist0 available",
            "hoist1 available",
            "hoist2 available",
            "hoist3 available",
            "crate1 clear",
            "crate2 clear",
            "pallet2 clear",
            "pallet3 clear",
            "crate0 on pallet0",
            "crate1 on crate0",
            "crate2 on pallet1"
        ],
        "goal": [
            "crate0 on pallet1",
            "crate1 on crate0",
            "crate2 on pallet0"
        ]
    },
    "workflow": {
        "logistics_planner": {
            "analysis": {
                "input": [],
                "output": "model_logistics",
                "system_prompt": "You are the logistics planner. Your role is to produce a clear high-level model of the problem without emitting PDDL. Produce types, objects, predicates with intended meanings, the list of initial facts derived from the provided environment initial state, and a canonical mapping of agent terminology to object names. Point out missing information or ambiguous naming.",
                "prompt": "You are named logistics_planner. Use the environment public information and initial state to produce a high-level domain model. Describe places, surfaces, hoists, trucks, crates, pallets, and their relationships. Provide a concise list of predicates and for each predicate describe intended semantics and typical use. Provide the list of objects and the initial facts as you interpret them. Identify potential naming mismatches or ambiguities for the orchestrator to resolve."
            }
        },
        "hoist_operator": {
            "analysis": {
                "input": [],
                "output": "hoist_analysis",
                "system_prompt": "You are the hoist operator expert. Your task is to provide a precise, human-readable specification of hoist-related actions, preconditions, effects, and resource interactions. Do not output PDDL. Emphasize causal conditions like availability, lifting state, clear surface conditions, and co-location requirements.",
                "prompt": "You are named hoist_operator. Using the environment public information and the initial state, describe the four hoist-centered action schemas: lift, drop, load-into-truck, unload-from-truck. For each action provide preconditions and effects in plain language. Describe invariants and resource transitions such as hoist availability toggles and how they affect other actions."
            }
        },
        "truck_driver": {
            "analysis": {
                "input": [],
                "output": "truck_analysis",
                "system_prompt": "You are the truck movement expert. Provide a precise description of drive actions, necessary preconditions, and effects. State any assumptions about capacity or constraints. Do not output PDDL.",
                "prompt": "You are named truck_driver. Using environment public information, describe the drive action for trucks between places. Specify the exact precondition that the truck must be at the origin, and the effect that the truck is at the destination and no longer at the origin. Clarify if driving affects contained crates or hoist operations and outline any additional assumptions."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_logistics",
                    "hoist_analysis",
                    "truck_analysis"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency. Your task is to read other agents' analyses and produce a corrected, minimal model that removes bookkeeping shortcuts and implicit tokens. Provide explicit causal links, ensure all preconditions and effects are mutually consistent, and flag any contradictions or missing causal links. Do not emit PDDL.",
                "prompt": "You are named auditor. Inspect the provided analyses from the logistics_planner, hoist_operator, and truck_driver. Produce an audit report that corrects or refines preconditions and effects, removes abstract bookkeeping shortcuts, and makes temporal/causal dependencies explicit. Provide suggested canonical predicate names and comment on concurrency and resource contention issues for the orchestrator."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_logistics",
                    "hoist_analysis",
                    "truck_analysis",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator responsible for integrating models and producing the final PDDL domain and problem targeted at the FastDownwards planner. Keep hoist, truck, and other agent actions distinct and preserve the audited consistency. Emit a PDDL domain and a PDDL problem suitable for FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are named orchestrator. Integrate the analyses from logistics_planner, hoist_operator, truck_driver, and the audit_report. Produce a complete PDDL domain and a PDDL problem file that encode the initial state and the goal from the environment. The domain must include explicit action schemas for drive, lift, drop, load-into-truck, and unload-from-truck, with preconditions and effects matching the audited model. Ensure predicate names are consistent, actions of different agents remain distinct, and the resulting PDDL is compatible with FastDownwards. Output the domain within <domain></domain> and the problem within <problem></problem>."
            }
        },
        "constraints": [
            "logistics_planner.analysis->orchestrator.pddl",
            "hoist_operator.analysis->orchestrator.pddl",
            "truck_driver.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    },
    "constraints": [
        "logistics_planner.analysis->orchestrator.pddl",
        "hoist_operator.analysis->orchestrator.pddl",
        "truck_driver.analysis->orchestrator.pddl",
        "auditor.audit->orchestrator.pddl"
    ]
}