{
    "name": "Depots7",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "truck_driver",
            "hoist_operator",
            "loader",
            "auditor",
            "orchestrator"
        ],
        "truck_driver": {
            "private_information": [
                "I control trucks and can drive a truck from one place to another if the truck is at the origin place.",
                "Driving changes the truck location from origin to destination."
            ],
            "goal": "Provide a precise description of truck-related objects, valid drive preconditions and effects, and any constraints or assumptions about road connectivity and truck capabilities relevant to the logistics plan."
        },
        "hoist_operator": {
            "private_information": [
                "I operate hoists that can lift, drop, load crates into trucks, and unload crates from trucks.",
                "Hoist actions require co-location with the relevant crate, surface or truck and may change hoist availability and lifting status."
            ],
            "goal": "Provide a precise description of hoist-related objects, the preconditions and effects of lift, drop, load, and unload actions, and any assumptions about concurrency and mutual exclusion for hoists."
        },
        "loader": {
            "private_information": [
                "I understand surfaces such as pallets and crates that can act as surfaces for other crates.",
                "I know crates and pallets behave as surfaces and can be clear or occupied."
            ],
            "goal": "Analyze stacking relationships, surface constraints, and goal-state placement requirements. Generate a clear object and predicate inventory and point out any potential name collisions or ambiguous references."
        },
        "auditor": {
            "private_information": [
                "I am responsible for auditing temporal and causal consistency and for removing bookkeeping shortcuts such as implicit quota tokens or post-hoc penalties.",
                "I check that actions' preconditions and effects are fully explicit and that there are no hidden state shortcuts."
            ],
            "goal": "Produce an audit report that identifies places where the models use implicit shortcuts, temporal or causal inconsistencies, or missing bookkeeping, and recommend explicit predicates or constraints to remove these shortcuts."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate inputs from the other agents and produce a final PDDL domain and PDDL problem file suitable for the FastDownward solver that solves the logistics goal."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "pallets": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3"
            ],
            "crates": [
                "crate0",
                "crate1",
                "crate2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ]
        },
        "public_information": [
            "Domain types: place, pallet (a surface), crate (a surface), hoist, truck.",
            "Depots and distributors are places and trucks can drive between any two places along direct roads.",
            "Actions available: drive truck between places, hoist lift from surface, hoist drop to surface, hoist load crate into truck, hoist unload crate from truck.",
            "Drive precondition: truck must be at origin. Drive effect: truck location updates to destination and truck no longer at origin.",
            "Lift preconditions: hoist and crate at same place, hoist available, crate clear. Lift effects: crate no longer on its surface or at place, hoist lifts crate, hoist becomes unavailable, source surface becomes clear, crate is not on that surface.",
            "Drop preconditions: hoist lifting crate, hoist and target surface at the same place, target surface clear. Drop effects: hoist becomes available, hoist no longer lifts crate, crate becomes at the place, target surface becomes not clear, crate becomes clear, crate is on the surface.",
            "Load preconditions: hoist lifting crate, hoist and truck at same place. Load effect: crate becomes in truck, hoist becomes available and no longer lifting crate, source surface becomes clear if applicable.",
            "Unload preconditions: hoist available, hoist and truck at same place, crate in truck. Unload effects: crate no longer in truck, hoist becomes unavailable, hoist lifts crate.",
            "Initial facts: crate0 at depot1, crate1 at distributor0, crate2 at depot0, hoist0 at depot0, hoist1 at depot1, hoist2 at depot2, hoist3 at distributor0, pallet0 at depot0, pallet1 at depot1, pallet2 at depot2, pallet3 at distributor0, truck0 at depot0, truck1 at distributor0, truck2 at depot1, hoist0 available, hoist1 available, hoist2 available, hoist3 available, crate0 clear, crate1 clear, crate2 clear, pallet2 clear, crate0 on pallet1, crate1 on pallet3, crate2 on pallet0.",
            "Goal facts: crate0 on pallet3, crate1 on crate2, crate2 on pallet1."
        ]
    },
    "workflow": {
        "truck_driver": {
            "analysis": {
                "input": [],
                "output": "analysis_truck_driver",
                "system_prompt": "You are the truck domain expert. Do not emit PDDL. Analyze the public information and the initial statement and produce a structured report containing: a list of truck objects and their initial locations, the preconditions and effects you believe must hold for a 'drive' action in this domain, any implicit assumptions about road connectivity or reachability, and any potential naming conflicts or ambiguous place names. If you need additional information mention what is missing.",
                "prompt": "Agent truck_driver. Use the environment public information and your private information to create a concise structured analysis for the orchestrator. Do not produce PDDL. Focus on drive action semantics, concurrency implications for trucks, and any recommended predicates to represent truck location and movement."
            }
        },
        "hoist_operator": {
            "analysis": {
                "input": [],
                "output": "analysis_hoist_operator",
                "system_prompt": "You are the hoist operator expert. Do not emit PDDL. Analyze the public information and the initial statement and produce a structured report containing: the hoist objects and their initial states, precise preconditions and effects for lift, drop, load and unload actions with attention to availability and lifting state, concurrency constraints for hoists, and any recommended explicit predicates to avoid bookkeeping shortcuts.",
                "prompt": "Agent hoist_operator. Use the environment public information and your private information to create a concise structured analysis for the orchestrator. Do not produce PDDL. Emphasize action atomicity and resource locking for hoists."
            }
        },
        "loader": {
            "analysis": {
                "input": [],
                "output": "analysis_loader",
                "system_prompt": "You are the surface and stacking expert. Do not emit PDDL. Analyze the public information and the initial statement and produce a structured inventory of surfaces and crates, the semantics of 'clear' and 'on' relations for stacks, constraints for stacking crates on crates or pallets, and any additional predicates recommended to represent surface occupancy and clearance clearly.",
                "prompt": "Agent loader. Use the environment public information and your private information to create a concise structured analysis for the orchestrator. Do not produce PDDL. Focus on stacking constraints that affect goal achievement."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "analysis_truck_driver",
                    "analysis_hoist_operator",
                    "analysis_loader"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency. Do not emit PDDL. Examine the analysis outputs provided by other agents. Produce a report that identifies any implicit shortcuts, missing explicit bookkeeping, potential causal cycles, or temporal inconsistencies. Recommend explicit extra predicates or modifications to preconditions and effects to eliminate these shortcuts and make the model suitable for sound planning and verification.",
                "prompt": "Agent auditor. Use the analyses from the domain experts to create a detailed audit report that the orchestrator can use to produce a correct PDDL model. Point out where actions rely on implicit state transitions or missing resource accounting and propose explicit fixes."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "analysis_truck_driver",
                    "analysis_hoist_operator",
                    "analysis_loader",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator and final PDDL author. Produce a complete PDDL domain and PDDL problem targeted for the FastDownward solver. Integrate and reconcile the inputs from the domain experts and the auditor. Ensure types, predicates, actions and all preconditions and effects are explicit, sound, and free of bookkeeping shortcuts. Keep agent actions distinct where relevant and ensure the model supports stacking crates on pallets and crates on crates. Enclose the PDDL domain between <domain> and </domain> tags and the PDDL problem between <problem> and </problem> tags. Include a :requirements declaration sufficient for FastDownward and use typing and STRIPS or ADL features only if justified by the reconciled analyses. Do not reference outputs beyond your inputs.",
                "prompt": "Agent orchestrator. Integrate the analyses and audit recommendations to produce the final PDDL domain and problem files that achieve the goal: crate0 on pallet3, crate1 on crate2, crate2 on pallet1. Target the FastDownward solver. Enclose the domain between <domain> tags and the problem between <problem> tags. Output only the PDDL artifacts and nothing else when executing."
            }
        },
        "constraints": [
            "truck_driver.analysis->orchestrator.pddl",
            "hoist_operator.analysis->orchestrator.pddl",
            "loader.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    },
    "constraints": [
        "truck_driver.analysis->orchestrator.pddl",
        "hoist_operator.analysis->orchestrator.pddl",
        "loader.analysis->orchestrator.pddl",
        "auditor.audit->orchestrator.pddl"
    ]
}