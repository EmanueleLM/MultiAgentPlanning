{
    "name": "Depots8",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "driver",
            "hoist_operator",
            "auditor",
            "orchestrator"
        ],
        "driver": {
            "private_information": [
                "I control the trucks and can drive them between any two places that are depots or distributors.",
                "Driving requires the truck to be at the origin place and after driving the truck is at the destination place."
            ],
            "goal": "Support transport tasks by planning feasible truck moves to enable loading and unloading of crates."
        },
        "hoist_operator": {
            "private_information": [
                "I control hoists and can lift, drop, load into trucks, and unload from trucks according to local preconditions.",
                "Hoists must be co-located with the crate and surface or truck for relevant operations and have availability bookkeeping."
            ],
            "goal": "Enable loading and unloading of crates between surfaces, pallets and trucks while respecting hoist constraints."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts.",
                "I will detect and report uses of post-hoc shortcuts such as fictitious tokens, unjustified instantaneous effects, or inconsistent availability modeling."
            ],
            "goal": "Provide a consistency report that corrects or flags modeling shortcuts and suggests conservative, solver-friendly alternatives."
        },
        "orchestrator": {
            "private_information": [
                "I integrate contextual analyses and produce the final PDDL domain and problem for the FastDownwards solver.",
                "I must keep agent actions distinct and reconcile naming or modeling mismatches reported by the auditor."
            ],
            "goal": "Produce a single PDDL domain and a PDDL problem that realize the goal of placing crate0 on pallet0 and crate2 on pallet1 suitable for FastDownwards."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "surfaces": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3",
                "crate0",
                "crate1",
                "crate2"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ]
        },
        "public_information": [
            "A depot is a type of place.",
            "A distributor is a type of place.",
            "A pallet is a type of surface.",
            "A crate is a type of surface.",
            "Trucks can drive between any two depots or distributors on roads.",
            "Actions: drive truck, hoist lift, hoist drop, hoist load into truck, hoist unload from truck.",
            "Driving precondition: truck must be at the origin; effect: truck moves to destination and is no longer at origin.",
            "Hoist lift preconditions: hoist and crate co-located at the place, hoist available, crate clear. Effects: hoist holds crate, hoist becomes unavailable, crate is not at place, surface becomes clear, crate is not on the surface.",
            "Hoist drop preconditions: hoist and surface co-located at the place, surface clear, hoist is lifting the crate. Effects: hoist becomes available, hoist no longer lifting the crate, crate is at the place, surface becomes not clear, crate becomes clear, crate is on the surface.",
            "Hoist load preconditions: hoist and truck co-located at the place, hoist is lifting the crate, truck is at the place. Effects: crate is placed into the truck and hoist becomes available and not lifting the crate according to auditor-guided modeling.",
            "Hoist unload preconditions: hoist and truck co-located at the place, hoist available, crate is in the truck. Effects: crate is not in the truck, hoist becomes unavailable, hoist lifts the crate.",
            "Initial conditions and goal are provided below in the statement block."
        ],
        "statement": {
            "initial_conditions": [
                "crate0 is at depot1",
                "crate1 is at distributor0",
                "crate2 is at depot1",
                "hoist0 is at depot0",
                "hoist1 is at depot1",
                "hoist2 is at depot2",
                "hoist3 is at distributor0",
                "pallet0 is at depot0",
                "pallet1 is at depot1",
                "pallet2 is at depot2",
                "pallet3 is at distributor0",
                "truck0 is at depot1",
                "truck1 is at depot2",
                "truck2 is at distributor0",
                "hoist0 is available",
                "hoist1 is available",
                "hoist2 is available",
                "hoist3 is available",
                "crate1 is clear",
                "crate2 is clear",
                "pallet0 is clear",
                "pallet2 is clear",
                "crate0 is on pallet1",
                "crate1 is on pallet3",
                "crate2 is on crate0"
            ],
            "goal": [
                "crate0 is on pallet0",
                "crate2 is on pallet1"
            ]
        }
    },
    "workflow": {
        "driver": {
            "context": {
                "input": [],
                "output": "driver_context",
                "system_prompt": "You are the driver agent. Provide a clear and concise structured summary of truck related capabilities, constraints, and feasible movement fragments. Do not emit PDDL. Describe preconditions and effects for driving actions in plain sentences and provide any naming or connectivity ambiguities that you see between places. Provide short plan fragments that indicate which truck moves would support the goal given the initial conditions.",
                "prompt": "You are the driver agent. Using the public information and the statement of initial conditions and goal, list truck preconditions, driving effects, and propose candidate movement fragments to bring trucks to locations where hoists can load or unload crates. Note any assumptions you would need to make to turn these fragments into PDDL actions."
            }
        },
        "hoist_operator": {
            "context": {
                "input": [],
                "output": "hoist_context",
                "system_prompt": "You are the hoist operator agent. Provide a structured summary of hoist related capabilities, preconditions, effects and typical sequences for lift, drop, load and unload. Do not emit PDDL. Highlight any subtle effects such as clearance, availability toggles, and stacking implications. Point out places where modeling shortcuts might appear such as instantaneous availability toggles or implicit object disappearance.",
                "prompt": "You are the hoist operator agent. Using the public information and the statement of initial conditions and goal, describe the lifting, dropping, loading and unloading sequences, list formal preconditions and effects in plain sentences, and give example action sequences at specific locations that would progress toward the goal. Note any modeling choices that must be clarified for planner-friendly encoding."
            }
        },
        "auditor": {
            "audit": {
                "input": [],
                "output": "auditor_report",
                "system_prompt": "You are the auditor agent. Your role is to check temporal and causal consistency and to remove or flag bookkeeping shortcuts. Do not emit PDDL. Produce a short report that identifies modeling shortcuts such as ephemeral tokens, unjustified instantaneous effects, or inconsistent availability modeling and propose conservative, solver-friendly corrections. Provide explicit recommendations that the orchestrator can apply when synthesizing the final PDDL.",
                "prompt": "You are the auditor. Examine the public information, the initial conditions and proposed action effects from other agents, and produce a consistency report. Identify any places where post-hoc penalties, quota tokens, or shortcuts could lead to unsound encodings. For each issue, propose an explicit correction or safe replacement modeling pattern suitable for FastDownwards."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "driver_context",
                    "hoist_context",
                    "auditor_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert orchestrator producing a final PDDL domain and a PDDL problem targeted at the FastDownwards solver. Integrate the contextual summaries and the auditor report. Keep actions of different agents distinct by prefixing or otherwise namespacing them. Provide a complete and consistent PDDL domain and a PDDL problem that implements the described actions and respects the auditor's corrections. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure the encoding is clean, uses STRIPS or ADL constructs supported by FastDownwards, and includes type declarations, predicates, action definitions, initial state and goal.",
                "prompt": "You are the orchestrator. Integrate the following inputs and produce a final PDDL domain and problem suitable for FastDownwards. Use the driver and hoist operator descriptions and the auditor's corrections to build consistent preconditions and effects. Keep agent actions distinct. Use names depot, distributor, pallet, crate, truck, hoist, surface consistently. Target the goal: crate0 on pallet0 and crate2 on pallet1. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Provide no extra wrappers. If names conflict across reports, reconcile them in a conservative way and explain choices in a short comment inside the problem section if needed."
            }
        },
        "constraints": [
            "driver.context->orchestrator.pddl",
            "hoist_operator.context->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}