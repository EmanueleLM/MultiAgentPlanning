{
    "name": "Depots9",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_driver",
            "hoist_operator",
            "auditor",
            "orchestrator"
        ],
        "truck_driver": {
            "private_information": [
                "I am responsible for modeling driving actions for trucks.",
                "Trucks can be driven between any two places along roads.",
                "A truck can be driven only if it is currently at the origin place."
            ],
            "goal": "Provide a concise local model of driving actions: relevant predicates, parameter signatures, preconditions and effects. Do not emit full PDDL; produce an analysis fragment suitable for integration."
        },
        "hoist_operator": {
            "private_information": [
                "I am responsible for modeling hoist operations: lift, drop, load, and unload.",
                "Hoists must be co-located with the object (surface or truck) to interact and have an availability flag.",
                "Surfaces can be clear or not; crates and pallets are treated as surfaces in this domain."
            ],
            "goal": "Provide a concise local model of hoist actions: relevant predicates, parameter signatures, preconditions and effects. Do not emit full PDDL; produce an analysis fragment suitable for integration."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts such as implicit tokens or post-hoc penalties.",
                "I ensure all action preconditions and effects are explicit, that resources are properly represented, and that there are no hidden state transitions."
            ],
            "goal": "Inspect the modeling fragments for causal, temporal and resource consistency. Produce an audit report with corrections, missing predicates, or explicit bookkeeping that should be added before PDDL generation."
        },
        "orchestrator": {
            "private_information": [
                "I integrate modeling fragments and the auditor's report and produce the final PDDL domain and problem targeting the FastDownwards solver.",
                "I must keep agents' actions distinct and ensure the final PDDL is consistent and complete for automated planning."
            ],
            "goal": "Integrate fragments and produce a complete PDDL domain and problem file, formatted for FastDownwards. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags."
        }
    },
    "environment": {
        "init": {
            "places": [
                "depot0",
                "depot1",
                "depot2",
                "distributor0"
            ],
            "crates": [
                "crate0",
                "crate1",
                "crate2"
            ],
            "pallets": [
                "pallet0",
                "pallet1",
                "pallet2",
                "pallet3"
            ],
            "trucks": [
                "truck0",
                "truck1",
                "truck2"
            ],
            "hoists": [
                "hoist0",
                "hoist1",
                "hoist2",
                "hoist3"
            ]
        },
        "public_information": [
            "Depots and distributors are subtypes of place.",
            "A pallet is a type of surface. A crate is a type of surface.",
            "Trucks can be driven between any two places along roads.",
            "Actions available: drive(truck, from, to), hoist_lift(hoist, crate, surface, place), hoist_drop(hoist, crate, surface, place), hoist_load(hoist, crate, truck, place), hoist_unload(hoist, crate, truck, place).",
            "Driving: a truck can be driven from origin to destination only if the truck is at the origin. After driving, the truck is at the destination and no longer at the origin.",
            "Hoist lift: a hoist can lift a crate from a surface at a place only if the hoist is at that place, the hoist is available, and the crate is clear. After lifting, the crate is no longer on the surface or at the place, the hoist is lifting the crate, the hoist becomes unavailable, and the surface becomes clear.",
            "Hoist drop: a hoist can drop a crate to a surface at a place only if the hoist and surface are at the same place, the surface is clear, and the hoist is lifting the crate. After dropping, the hoist becomes available, the hoist is no longer lifting the crate, the crate is at the place, the surface becomes not clear, the crate becomes clear, and the crate is on the surface.",
            "Hoist load: a hoist can load a crate into a truck at a place only if the hoist and truck are at the same place and the hoist is lifting the crate. After loading, the crate becomes in the truck and the hoist becomes available and is no longer lifting the crate. (Ensure these postconditions are explicitly represented.)",
            "Hoist unload: a hoist can unload a crate from a truck at a place only if the hoist is at the same place as the truck, the hoist is available, and the crate is in the truck. After unloading, the crate is not in the truck, the hoist becomes not available and is lifting the crate.",
            "Initial facts: crate0 is at depot1. crate1 is at depot2. crate2 is at distributor0.",
            "Initial facts: hoist0 is at depot0. hoist1 is at depot1. hoist2 is at depot2. hoist3 is at distributor0.",
            "Initial facts: pallet0 is at depot0. pallet1 is at depot1. pallet2 is at depot2. pallet3 is at distributor0.",
            "Initial facts: truck0 is at distributor0. truck1 is at depot2. truck2 is at depot0.",
            "Initial facts: hoist0 is available. hoist1 is available. hoist2 is available. hoist3 is available.",
            "Initial facts: crate0 is clear. crate1 is clear. crate2 is clear. pallet0 is clear.",
            "Initial facts: crate0 is on pallet1. crate1 is on pallet2. crate2 is on pallet3.",
            "Goal: crate0 on pallet1, crate1 on pallet2, crate2 on pallet0."
        ]
    },
    "workflow": {
        "truck_driver": {
            "fragment": {
                "input": [],
                "output": "truck_fragment",
                "system_prompt": "You are an expert in modeling movement actions for logistics domains. Produce a concise analysis fragment describing predicates and parameterized action signatures for driving trucks. Specify clear preconditions and effects using predicate names (for example: at(truck, place)). Do not emit a full PDDL domain or problem. Focus on typing, necessary predicates, and any assumptions that must be made explicit for integration.",
                "prompt": "Your role is truck_driver. Public environment facts: {environment->public_information}. Your private information: {agents->truck_driver->private_information}. Your task: {agents->truck_driver->goal}. Describe the driving action signature, its parameters, preconditions and effects, identify predicate names and types to be used in integration, and mention any assumptions that should be validated by the auditor."
            }
        },
        "hoist_operator": {
            "fragment": {
                "input": [],
                "output": "hoist_fragment",
                "system_prompt": "You are an expert in modeling manipulation operations with resources. Produce a concise analysis fragment describing predicates and parameterized action signatures for hoist operations: lift, drop, load, and unload. Specify clear preconditions and effects using predicate names (for example: available(hoist)). Do not emit a full PDDL domain or problem. Focus on resource usage, exclusivity, and typing.",
                "prompt": "Your role is hoist_operator. Public environment facts: {environment->public_information}. Your private information: {agents->hoist_operator->private_information}. Your task: {agents->hoist_operator->goal}. Describe each hoist-related action's parameters, preconditions and effects, identify predicate names and types to be used in integration, and mention any assumptions that should be validated by the auditor."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_fragment",
                    "hoist_fragment"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor in temporal and causal consistency for planning models. Your job is to remove bookkeeping shortcuts, ensure explicitness of resource constraints, and verify that preconditions and effects form a coherent causal model. Produce an audit report listing inconsistencies, required additional predicates or fluents, and precise recommendations that the orchestrator must honor when generating PDDL.",
                "prompt": "Your role is auditor. Here are the modeling fragments you must inspect: {truck_fragment} and {hoist_fragment}. Public environment facts: {environment->public_information}. Your private information: {agents->auditor->private_information}. Your task: {agents->auditor->goal}. Produce a report that identifies missing explicit resource representations, timing or causal gaps (for example, missing preconditions that would allow illegal concurrency), and any bookkeeping constructs that should be added or removed. Output clear corrections and recommended explicit predicates or constraints."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_fragment",
                    "hoist_fragment",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems and you target the FastDownwards solver. Integrate the provided fragments and the auditor's corrections to produce a complete, consistent PDDL domain and a PDDL problem file compatible with FastDownwards. Keep actions of different agents distinct, include appropriate typing declarations, and make all resource and exclusivity constraints explicit. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags. Include a :requirements line appropriate for FastDownwards.",
                "prompt": "You are orchestrator. Public environment facts: {environment->public_information}. Agent fragments: {truck_fragment} and {hoist_fragment}. Auditor report: {audit_report}. Your private information: {agents->orchestrator->private_information}. Your task: {agents->orchestrator->goal}. Integrate the fragments and the auditor recommendations to produce a PDDL domain and a PDDL problem that represents the initial state and goal for the given scenario. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target FastDownwards."
            }
        },
        "constraints": [
            "truck_driver.fragment->orchestrator.pddl",
            "hoist_operator.fragment->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}