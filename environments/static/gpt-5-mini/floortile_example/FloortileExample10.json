{
    "name": "FloortileExample10",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "domain_expert",
            "problem_expert",
            "auditor",
            "orchestrator"
        ],
        "domain_expert": {
            "private_information": [
                "You have the natural-language description of the floor-tile domain and a domain template. The domain describes robots that can move (up/down/left/right), change the paint color they carry, and paint adjacent tiles. Actions have associated action-costs.",
                "You should NOT emit raw PDDL. Instead provide a precise, structured domain specification (typed predicates, functions, full action signatures with declarative preconditions, effects and numeric cost contributions) as JSON that is unambiguous and suitable for automatic translation to FastDownwards-compatible PDDL by an integrator."
            ],
            "goal": "Produce a complete, unambiguous structured domain specification (JSON) detailing types, predicates, functions, and each action's preconditions, effects, and cost increments. Do not output PDDL; produce the structured spec only."
        },
        "problem_expert": {
            "private_information": [
                "You have the natural-language problem description and a problem template listing objects, initial facts, adjacency relations and the goal set to paint specific tiles with colors. All tiles start clear and unpainted; two robots with initial positions and starting colors are given.",
                "You should NOT emit raw PDDL. Instead provide a precise, structured problem specification (objects, initial predicates/facts, adjacency relations, and goal facts) as JSON suitable for assembly into a PDDL problem file."
            ],
            "goal": "Produce a complete structured problem specification (JSON) including objects, initial state facts, adjacency relations between tiles, and the goal conditions (painted tile-color pairs). Include total-cost initialization and note which tiles are initially clear."
        },
        "auditor": {
            "private_information": [
                "You are responsible for auditing temporal and causal consistency and for removing or flagging bookkeeping shortcuts (such as quota tokens, implicit post-hoc penalties, or ad-hoc bookkeeping predicates) that would compromise a correct cost-based search or compatibility with FastDownwards action-cost semantics.",
                "You will be given the structured domain and problem specs (not PDDL). Your job is to detect causal problems (missing preconditions/effects), inconsistent cost attributions, implicit assumptions (e.g., standing on painted tiles), and to recommend explicit fixes or transformations so the end PDDL will be temporally/causally consistent and free of bookkeeping shortcuts."
            ],
            "goal": "Produce an audit report (structured JSON) that lists found issues with precise suggestions and corrections. If there are no issues, explicitly confirm domain+problem are consistent and suitable for translation to FastDownwards PDDL. The auditor output should not produce PDDL directly."
        },
        "orchestrator": {
            "private_information": [
                "You integrate structured domain and problem specifications plus the auditor's report and produce the final PDDL domain and problem targeted for the FastDownwards planner.",
                "You must ensure action-costs are encoded using :action-costs and numeric functions compatible with FastDownwards, types/predicates align between domain and problem, and that the produced PDDL respects the restrictions needed by FastDownwards."
            ],
            "goal": "Synthesize the final PDDL domain and problem files for FastDownwards by integrating the domain_spec, problem_spec and the auditor's audit_report. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags. Keep agent actions distinct if multiple agents are represented."
        }
    },
    "environment": {
        "init": {
            "grid_width": 6,
            "grid_height": 4,
            "tiles": 24,
            "robots": 2,
            "colors": 2,
            "visibility": 1
        },
        "public_information": [
            "Floor-tile domain: robots paint tiles in a 6x4 grid (24 tiles).",
            "Robots can move up/down/left/right, change paint color, and paint adjacent tiles (paint-up and paint-down are used for tiles in front and behind).",
            "Actions have non-uniform costs which must be tracked in the total-cost function.",
            "Initial configuration: robot1 at tile_1-3 with white, robot2 at tile_5-2 with black. All tiles start clear and unpainted.",
            "Goal: paint a given set of tiles with specified white/black colors. Minimize total-cost."
        ]
    },
    "workflow": {
        "domain_expert": {
            "spec": {
                "input": [],
                "output": "domain_spec",
                "system_prompt": "You are a domain analyst that transforms a natural-language domain description and a domain template into a precise, structured JSON domain specification. Do not emit PDDL. Your output must include: types, predicates (with argument types), functions (with types), and for each action a complete declarative description containing parameters (with types), explicit preconditions (conjunctions of positive/negative predicates and numeric constraints if any), effects (add/delete literals and numeric updates) and the numeric cost increment. The output must be unambiguous and directly usable by an integrator.",
                "prompt": "Using your private information (domain description and domain template) produce a structured JSON domain_spec describing types, predicates, functions, and a full specification for each action (change-color, paint-up, paint-down, up, down, right, left). Include explicit preconditions that prevent standing on painted tiles if the domain requires it, and make the cost increments explicit for each action. Do not output PDDL."
            }
        },
        "problem_expert": {
            "spec": {
                "input": [],
                "output": "problem_spec",
                "system_prompt": "You are a problem analyst who converts a natural-language problem description and a problem template into a precise structured JSON problem specification. Do not emit PDDL. Your output must include: all objects (tiles, robots, colors), the initial state as a list of ground predicates and numeric function initializations, adjacency relations between tiles for up/down/left/right, which tiles are clear, and the explicit goal conjunction. Include the initialization of (total-cost) to 0.",
                "prompt": "Using your private information (problem description and problem template) produce a structured JSON problem_spec listing objects, initial predicates (robot-at, robot-has, available-color, clear, adjacency facts), the numeric initialization (= (total-cost) 0), and the goal painted(tile color) conjunction. Ensure the adjacency relations match the 6x4 grid and include only facts present in the natural-language problem. Do not output PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "domain_spec",
                    "problem_spec"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor focused on temporal and causal correctness and on eliminating bookkeeping shortcuts. Given structured domain and problem specs, identify missing preconditions/effects, potential causal cycles, implicit assumptions (like robots allowed to stand on painted tiles), inconsistent or non-standard cost attributions, and any constructs that are incompatible with FastDownwards (e.g., non-numeric cost encodings, ad-hoc quota tokens). Provide structured suggestions to fix each issue or explicitly confirm suitability.",
                "prompt": "Receive domain_spec and problem_spec. Produce a structured audit_report listing (a) issues found with exact locations (action name, predicate, or problem fact), (b) recommended fixes with precise modifications to domain_spec or problem_spec (e.g., add precondition '(clear ?tile)' to action X, or make painting effects include '(not (clear ?tile))'), and (c) a final verdict: 'ok' or 'fixes required'. Do not emit PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "domain_spec",
                    "problem_spec",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an integrator whose job is to take the structured domain_spec and problem_spec plus the auditor's audit_report and produce final FastDownwards-compatible PDDL domain and problem files. You must ensure the domain uses :requirements :typing :action-costs, declares types and predicates consistently, encodes total-cost as a numeric function, and places cost increments in action :effect sections using (increase (total-cost) X). Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep actions and predicates consistent and avoid bookkeeping shortcuts.",
                "prompt": "Integrate domain_spec, problem_spec and audit_report into a final PDDL domain and a final PDDL problem targeted at FastDownwards. Make any corrections recommended by the audit_report. Output the PDDL domain enclosed in <domain></domain> and the PDDL problem enclosed in <problem></problem>. Make sure the produced PDDL is syntactically correct for FastDownwards and that action-costs are encoded with numeric (increase (total-cost) ...)."
            }
        },
        "constraints": [
            "domain_expert.spec->orchestrator.pddl",
            "problem_expert.spec->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}