{
    "name": "Logistics12",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "I control all truck actions inside a city",
                "There is exactly one truck per city",
                "Trucks can drive between any two locations inside the same city",
                "Loading and unloading from trucks happen at the truck location"
            ],
            "goal": "Contribute to delivering packages to their target locations by modeling truck-related actions, preconditions, and effects."
        },
        "airplane_agent": {
            "private_information": [
                "I control airplane actions between cities",
                "Each city has exactly one airport location",
                "Airplanes fly between airport locations only",
                "Loading and unloading from airplanes happen at the airplane location"
            ],
            "goal": "Contribute to delivering packages to their target locations by modeling airplane-related actions, preconditions, and effects."
        },
        "auditor": {
            "private_information": [
                "I ensure temporal and causal consistency across agent specifications",
                "I remove bookkeeping shortcuts and point out implicit assumptions"
            ],
            "goal": "Audit the agent specifications for consistency, remove bookkeeping shortcuts, and produce a corrected, minimal, and explicit specification for integration."
        },
        "orchestrator": {
            "private_information": [
                "I integrate agent specifications into a single planning problem for FastDownward",
                "I must keep actions of different agents distinct and produce the final PDDL domain and problem"
            ],
            "goal": "Produce a complete PDDL domain and a PDDL problem targeted to the FastDownward solver that solves the global logistics goal."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 2,
            "airports": [
                "location_0_0",
                "location_1_0"
            ]
        },
        "public_information": [
            "There are two cities: city_0 and city_1",
            "Each city has exactly two locations: city_0 has location_0_0 and location_0_1, city_1 has location_1_0 and location_1_1",
            "In each city there is exactly one truck: truck_0 in city_0 and truck_1 in city_1",
            "In each city there is exactly one airport location: location_0_0 is the airport for city_0 and location_1_0 is the airport for city_1",
            "Airplanes operate between airports only and start at their airports",
            "Trucks operate between locations within their city and start at their initial locations",
            "Packages can be at locations, in trucks, or in airplanes",
            "Action load_truck requires package and truck to be at the same location and then moves the package into the truck",
            "Action unload_truck requires the package to be in the truck and then places the package at the truck location",
            "Action drive_truck requires the truck to be at the from-location and both locations to be in the same city and then moves the truck to the to-location",
            "Action load_plane requires package and airplane to be at the same airport location and then moves the package into the airplane",
            "Action unload_plane requires the package to be in the airplane and then places the package at the airplane location",
            "Action fly_plane requires the airplane to be at the from-airport and then moves the airplane to the to-airport",
            "Initial facts: location_0_0 is an airport, location_1_0 is an airport, airplane_0 is at location_0_0, airplane_1 is at location_1_0, package_0 is at location_1_1, package_1 is at location_0_0, package_2 is at location_0_0, truck_0 is at location_0_1, truck_1 is at location_1_0, location_0_0 is in city city_0, location_0_1 is in city city_0, location_1_0 is in city city_1, location_1_1 is in city city_1",
            "Global goal: package_0 at location_0_1, package_1 at location_1_1, package_2 at location_1_0"
        ]
    },
    "workflow": {
        "truck_agent": {
            "spec": {
                "input": [],
                "output": "spec_truck_agent",
                "system_prompt": "You are an expert in modeling intra-city logistics focused on trucks. Provide a structured specification of truck-related domain elements. Describe types, predicates, and for each action related to trucks list parameters, clear preconditions, and clear effects. Do not emit full PDDL. Make implicit assumptions explicit. Provide example instantiated actions to illustrate usage.",
                "prompt": "You are truck_agent. Use the environment public information and your private information to produce a structured specification that covers load into truck, unload from truck, and drive actions. Indicate required predicates such as at(package, location), in(package, truck), at(truck, location), in-city(location, city). State any capacity assumptions and explicitly state if you assume unbounded truck capacity or a limit. Highlight any precondition that depends on city membership. Your output will be consumed by an auditor and by an orchestrator that will generate PDDL."
            }
        },
        "airplane_agent": {
            "spec": {
                "input": [],
                "output": "spec_airplane_agent",
                "system_prompt": "You are an expert in modeling inter-city logistics focused on airplanes. Provide a structured specification of airplane-related domain elements. Describe types, predicates, and for each action related to airplanes list parameters, clear preconditions, and clear effects. Do not emit full PDDL. Make implicit assumptions explicit. Provide example instantiated actions to illustrate usage.",
                "prompt": "You are airplane_agent. Use the environment public information and your private information to produce a structured specification that covers load into airplane, unload from airplane, and fly actions. Indicate predicates such as at(package, location), in(package, airplane), at(airplane, location), is-airport(location). State assumptions about airplane capacity. Highlight that flights only connect airport locations and that locations used as airports must be explicitly declared. Your output will be consumed by an auditor and by an orchestrator that will generate PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "spec_truck_agent",
                    "spec_airplane_agent"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor of temporal and causal consistency for multi-agent planning specifications. Your role is to identify implicit assumptions, remove bookkeeping shortcuts, detect conflicts between agent specifications, and produce a cleaned, explicit, and consistent combined specification. Do not emit PDDL. Produce a concise audit report listing corrections, required shared predicate definitions, resolved naming conflicts, and any temporal or causal constraints that must be enforced between actions of different agents.",
                "prompt": "You are auditor. Take the truck specification and the airplane specification as inputs. Check for consistency on shared predicates like at, in, and city membership. Ensure that load and unload semantics are consistent between trucks and airplanes, that a package cannot be simultaneously at a location and inside a vehicle, and that transport actions correctly transfer package location state. Remove any bookkeeping shortcuts such as tokens representing temporal order; instead, require explicit preconditions and effects. If either agent assumed a capacity or naming that conflicts, propose a corrected unified assumption. Output an audit report that the orchestrator will use to build final PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "spec_truck_agent",
                    "spec_airplane_agent",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL integration and in producing PDDL problems for the FastDownward planner. Using the validated specifications and the auditor report, produce a single PDDL domain and a single PDDL problem that model the entire logistics use-case. Keep actions of different agents distinct by naming/action prefixes. Use types and predicates consistent with the auditor's corrections. The PDDL domain and problem must be compliant with STRIPS-level constructs usable by FastDownward. Enclose the PDDL domain between <domain> and </domain> tags and the PDDL problem between <problem> and </problem> tags.",
                "prompt": "You are orchestrator. Integrate the truck and airplane specifications together with the auditor report to emit the final PDDL domain and the final PDDL problem that achieve the global goal: package_0 at location_0_1, package_1 at location_1_1, package_2 at location_1_0. Ensure initial facts match the environment public information. Keep agent actions distinct by prefixing truck actions with truck_ and airplane actions with plane_. Use explicit predicates for at, in, is-airport, in-city, and any other predicates required by the auditor. Target the FastDownward solver and avoid extensions outside STRIPS where possible. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_agent.spec->auditor.audit",
            "airplane_agent.spec->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}