{
    "name": "Logistics13",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_planner",
            "airplane_planner",
            "auditor",
            "orchestrator"
        ],
        "truck_planner": {
            "private_information": [
                "There is exactly one truck per city",
                "Trucks can move between any two locations inside the same city",
                "A package can be loaded into a truck only if the package and the truck are in the same location",
                "Loading a package into a truck removes it from the location and places it in the truck",
                "Unloading a package from a truck removes it from the truck and places it at the truck location"
            ],
            "goal": "Provide a precise model of truck-level actions, preconditions, and effects for loading, unloading, and driving within cities."
        },
        "airplane_planner": {
            "private_information": [
                "Each city has exactly one location that is an airport",
                "Airplanes fly between airports of different cities",
                "A package can be loaded into an airplane only if the package and airplane are at the same airport location",
                "Loading a package into an airplane removes it from the airport location and places it in the airplane",
                "Unloading a package from an airplane removes it from the airplane and places it at the airport location"
            ],
            "goal": "Provide a precise model of airplane-level actions, preconditions, and effects for loading, unloading, and flying between city airports."
        },
        "auditor": {
            "private_information": [
                "Detect and remove bookkeeping shortcuts such as implicit global tokens or post-hoc penalties",
                "Enforce explicit causal links and temporal ordering where required",
                "Check for missing state transitions and ensure that resource constraints are explicit"
            ],
            "goal": "Audit the two planners' models for temporal and causal consistency and produce a report with required corrections and explicit assumptions."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the truck and airplane models and the auditor report into a single PDDL domain and problem compatible with the FastDownwards solver to achieve the global package delivery goal."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 2,
            "airports": [
                "location_0_0",
                "location_1_0"
            ],
            "init_facts": [
                "location_0_0 is an airport",
                "location_1_0 is an airport",
                "airplane_0 at location_1_0",
                "airplane_1 at location_0_0",
                "package_0 at location_1_0",
                "package_1 at location_1_1",
                "package_2 at location_0_0",
                "truck_0 at location_0_0",
                "truck_1 at location_1_1",
                "location_0_0 in city_0",
                "location_0_1 in city_0",
                "location_1_0 in city_1",
                "location_1_1 in city_1"
            ]
        },
        "public_information": [
            "Locations within the same city are directly connected for trucks",
            "Cities are directly connected via their airports for airplanes",
            "In each city there is exactly one truck",
            "Each city has one location designated as its airport",
            "Drive actions move trucks between locations inside the same city",
            "Fly actions move airplanes between airports in different cities",
            "Loading and unloading change the container of a package between location, truck, and airplane",
            "A package loaded into a vehicle is no longer at the location",
            "A package unloaded from a vehicle is at the vehicle's current location"
        ]
    },
    "workflow": {
        "truck_planner": {
            "analyze": {
                "input": [],
                "output": "truck_model",
                "system_prompt": "You are an expert in modeling truck logistics within cities. Produce a structured model describing truck actions, their preconditions, and effects, including explicit state predicates and any assumptions. Do not emit PDDL. State clearly any choices about naming or abstractions you make.",
                "prompt": "Your name is truck_planner. You have the following public information: {environment->public_information} You have the following private information: {agents->truck_planner->private_information} This is your modeling goal: {agents->truck_planner->goal} Think step by step and produce a structured truck model, list of predicates, actions with preconditions and effects, and any clarifying questions or assumptions."
            }
        },
        "airplane_planner": {
            "analyze": {
                "input": [],
                "output": "airplane_model",
                "system_prompt": "You are an expert in modeling airplane logistics between cities. Produce a structured model describing airplane actions, their preconditions, and effects, including explicit state predicates and any assumptions. Do not emit PDDL. State clearly any choices about naming or abstractions you make.",
                "prompt": "Your name is airplane_planner. You have the following public information: {environment->public_information} You have the following private information: {agents->airplane_planner->private_information} This is your modeling goal: {agents->airplane_planner->goal} Think step by step and produce a structured airplane model, list of predicates, actions with preconditions and effects, and any clarifying questions or assumptions."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_model",
                    "airplane_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor of temporal and causal consistency for multi-agent planning models. Your role is to detect implicit shortcuts and ambiguous or underspecified causal links and to recommend explicit corrections. Do not emit PDDL. Provide a clear report with required changes and justification.",
                "prompt": "Your name is auditor. You will receive the models from truck_planner and airplane_planner. Analyze them for temporal and causal consistency and remove bookkeeping shortcuts. Use the following inputs: {truck_model} {airplane_model} You have this private information: {agents->auditor->private_information} Your goal is: {agents->auditor->goal} Provide a step by step audit report listing inconsistencies, required changes to predicates or actions, and explicit assumptions to enforce correctness."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_model",
                    "airplane_model",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems. Integrate models and the audit report and produce a single PDDL domain and PDDL problem targeted for the FastDownwards solver. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep actions from different agents distinct and preserve the auditor's required explicit constraints.",
                "prompt": "Your name is orchestrator. Integrate the truck_model, airplane_model, and audit_report into a single PDDL domain and a single PDDL problem that achieves the global goal that package_0, package_1, and package_2 are all at location_0_1. Use the initial facts from the environment init. Target the FastDownwards solver and keep truck and airplane actions distinct. Think step by step and produce the final PDDL domain and problem enclosed between <domain></domain> and <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_planner.analyze->orchestrator.pddl",
            "airplane_planner.analyze->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}