{
    "name": "Logistics14",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "I control all trucks, there is exactly one truck per city",
                "Trucks can move between any two locations inside the same city",
                "Trucks can load and unload packages at their current location"
            ],
            "goal": "Ensure package_0 is at location_0_1, package_1 is at location_0_1, package_2 is at location_1_0, and package_3 is at location_1_0"
        },
        "airplane_agent": {
            "private_information": [
                "I control all airplanes connecting cities via their airports",
                "Each city has exactly one airport location where airplanes can load and unload packages",
                "Airplanes can fly between city airports"
            ],
            "goal": "Ensure package_0 is at location_0_1, package_1 is at location_0_1, package_2 is at location_1_0, and package_3 is at location_1_0"
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency across models",
                "I remove bookkeeping shortcuts such as quota tokens or implicit post-hoc penalties",
                "I produce a normalized, minimal and causally explicit model for integration"
            ],
            "goal": "Detect and correct inconsistencies in the truck and airplane models and produce a normalized integrated model for planning"
        },
        "orchestrator": {
            "private_information": [
                "I integrate agent models into a single multi-agent planning specification",
                "I produce the final PDDL domain and problem targeting the FastDownward solver",
                "I must keep agent actions distinct and preserve causality"
            ],
            "goal": "Produce a complete PDDL domain and PDDL problem that achieves the global delivery goal using FastDownward"
        }
    },
    "environment": {
        "init": {
            "num_cities": 2,
            "locations_per_city": 2,
            "cities": [
                "city_0",
                "city_1"
            ],
            "locations": [
                "location_0_0",
                "location_0_1",
                "location_1_0",
                "location_1_1"
            ]
        },
        "public_information": [
            "There are two cities: city_0 and city_1",
            "Each city has exactly two locations and exactly one truck",
            "One location in each city is designated as the airport",
            "Locations within the same city are directly connected for trucks",
            "Airplanes can fly between airport locations of different cities",
            "Action primitives include load to truck, unload from truck, drive truck between locations in same city, load to airplane, unload from airplane, and fly airplane between airports",
            "Initial condition: location_0_0 is an airport",
            "Initial condition: location_1_0 is an airport",
            "Initial condition: airplane_0 is at location_1_0",
            "Initial condition: package_0 is at location_1_0",
            "Initial condition: package_1 is at location_1_1",
            "Initial condition: package_2 is at location_0_0",
            "Initial condition: package_3 is at location_0_1",
            "Initial condition: truck_0 is at location_0_0",
            "Initial condition: truck_1 is at location_1_1",
            "Initial condition: location_0_0 is in city_0",
            "Initial condition: location_0_1 is in city_0",
            "Initial condition: location_1_0 is in city_1",
            "Initial condition: location_1_1 is in city_1",
            "Goal: package_0 at location_0_1 and package_1 at location_0_1 and package_2 at location_1_0 and package_3 at location_1_0"
        ]
    },
    "workflow": {
        "truck_agent": {
            "model": {
                "input": [],
                "output": "truck_model",
                "system_prompt": "You are an expert in modeling logistics for trucks. Your role is to produce a clear structured description of the truck-related action schemata, types, and object roles. Do not emit PDDL. Focus on preconditions, effects, required objects, and any invariants that must hold for trucks.",
                "prompt": "You are truck_agent. Using the public information about cities, locations and the initial conditions, and your private information about trucks, produce a structured model describing: object types relevant to trucks, predicates used to describe truck state and package localization for truck actions, and for each truck action provide its name, parameters, preconditions and effects. Also note any assumptions or requirements that must be preserved when integrated with other models."
            }
        },
        "airplane_agent": {
            "model": {
                "input": [],
                "output": "airplane_model",
                "system_prompt": "You are an expert in modeling air logistics. Your role is to produce a clear structured description of airplane-related action schemata, types, and object roles. Do not emit PDDL. Focus on preconditions, effects, required objects, and invariants for airplanes and airports.",
                "prompt": "You are airplane_agent. Using the public information about airports, cities and the initial conditions, and your private information about airplanes, produce a structured model describing: object types relevant to airplanes, predicates used to describe airplane state and package localization for airplane actions, and for each airplane action provide its name, parameters, preconditions and effects. Also note any assumptions or requirements that must be preserved when integrated with other models."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_model",
                    "airplane_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency and in removing modeling shortcuts. You must examine the incoming models, detect causal gaps, temporal ambiguities and bookkeeping shortcuts, produce a corrected normalized model and a concise report describing changes. The normalized model should be explicit about resource flows and causal links and should not rely on tokens or post-hoc penalties.",
                "prompt": "You are auditor. Receive the truck_model and airplane_model. Check for inconsistent predicates, mismatched object names, implicit shortcuts such as tokens or quotas, temporal ambiguities, or missing effects that break causal chains. Produce: a list of detected issues, recommended corrections, and a normalized integrated model fragment that the orchestrator can consume. Keep output structured and do not produce PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_model",
                    "airplane_model",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL and your output will be consumed by the FastDownward planner. You must integrate the incoming models and the auditor corrections into one coherent PDDL domain and one PDDL problem. Keep agent actions distinct by prefixing or scoping action names with agent identifiers. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem>. Ensure the PDDL is syntactically suitable for FastDownward and explicitly lists objects, initial state and goals. Resolve naming mismatches stated in the audit and do not assume unstated facts.",
                "prompt": "You are orchestrator. Integrate the truck_model, airplane_model and audit_report into a single PDDL domain and problem that achieves the global goal: package_0 at location_0_1 and package_1 at location_0_1 and package_2 at location_1_0 and package_3 at location_1_0. Keep truck and airplane actions distinct and preserve causal effects from the normalized model. Target the FastDownward planner and ensure the domain/problem are complete and consistent. Provide the PDDL domain between <domain></domain> tags and the problem between <problem></problem>."
            }
        },
        "constraints": [
            "truck_agent.model->auditor.audit",
            "airplane_agent.model->auditor.audit",
            "truck_agent.model->orchestrator.pddl",
            "airplane_agent.model->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}