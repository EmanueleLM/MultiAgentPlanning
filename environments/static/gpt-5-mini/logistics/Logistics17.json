{
    "name": "Logistics17",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "There is exactly one truck in each city named truck_0 and truck_1",
                "Trucks can drive between any two locations within the same city",
                "Loading into a truck requires the package and truck to be in the same location",
                "After loading into a truck the package is no longer at the location and is in the truck",
                "Unloading from a truck places the package at the truck's current location and removes it from the truck"
            ],
            "goal": "Provide a local plan and a precise description of truck-related actions, preconditions and effects relevant to moving packages inside cities to help the orchestrator assemble a global PDDL model"
        },
        "airplane_agent": {
            "private_information": [
                "There are airplanes that operate between city airports named airplane_0 and airplane_1",
                "Each city has exactly one airport location (location_0_0 is an airport, location_1_0 is an airport)",
                "Airplanes can be loaded and unloaded only at airport locations",
                "Flying moves an airplane between airport locations of different cities; after flying the airplane is at the destination airport"
            ],
            "goal": "Provide a local plan and a precise description of airplane-related actions, preconditions and effects relevant to moving packages between cities to help the orchestrator assemble a global PDDL model"
        },
        "auditor": {
            "private_information": [
                "Role: audit temporal and causal consistency and remove bookkeeping shortcuts",
                "Detect and explain any use of quota tokens, post-hoc penalties, or other bookkeeping shortcuts and propose explicit causal predicates",
                "Check that preconditions and effects are temporally coherent and that load/unload modality is consistent across vehicles"
            ],
            "goal": "Produce an audit report enumerating causal and temporal inconsistencies and recommended corrections so the orchestrator can produce a clean FastDownwards-compatible PDDL domain and problem"
        },
        "orchestrator": {
            "private_information": [
                "Must integrate reports from truck_agent, airplane_agent and auditor to produce a unified two-level logistics PDDL",
                "Target solver: FastDownwards"
            ],
            "goal": "Produce the final PDDL domain and PDDL problem targeting the FastDownwards solver that achieves the global package placement goal"
        }
    },
    "environment": {
        "init": {
            "number_of_cities": 2,
            "locations_per_city": 2,
            "visibility": 1
        },
        "public_information": [
            "There are two cities: city_0 and city_1",
            "Locations: location_0_0 and location_0_1 belong to city_0; location_1_0 and location_1_1 belong to city_1",
            "Airports: location_0_0 is the airport for city_0 and location_1_0 is the airport for city_1",
            "Vehicles: truck_0 is at location_0_1 and truck_1 is at location_1_1",
            "Airplanes: airplane_0 is at location_1_0 and airplane_1 is at location_1_0",
            "Packages initial positions: package_0 is at location_0_1, package_1 is at location_1_1, package_2 is at location_1_0, package_3 is at location_1_1",
            "Goal positions: package_0 should be at location_0_0, package_1 should be at location_1_0, package_2 should be at location_0_1, package_3 should be at location_1_1",
            "Action schemas and restrictions: load into truck requires package and truck at same location and moves package into truck; unload from truck requires package in truck and places package at truck location; drive requires truck at from-location and both locations in same city and moves truck from from-location to to-location; load into airplane requires package and airplane at same airport location and moves package into airplane; unload from airplane requires package in airplane and places package at airplane location; fly requires airplane at from-airport and moves airplane to to-airport",
            "Within a city any two locations are directly reachable by truck driving, and between cities airplanes fly between airport locations"
        ]
    },
    "workflow": {
        "truck_agent": {
            "analyze": {
                "input": [],
                "output": "truck_report",
                "system_prompt": "You are the truck expert. Produce a concise, formalized description of truck actions, their preconditions and effects, relevant initial facts for trucks and packages inside cities, and any assumptions you require. Do not emit PDDL domain or problem files.",
                "prompt": "Your name is truck_agent. Use the following public information: {environment->public_information}. Use your private information: {agents->truck_agent->private_information}. Your task is to enumerate the truck-related action schemas, list concrete relevant ground facts from the initial state that concern trucks and packages within each city, and highlight any ambiguities or missing details that the orchestrator should resolve. Provide the output as a structured report named truck_report."
            }
        },
        "airplane_agent": {
            "analyze": {
                "input": [],
                "output": "airplane_report",
                "system_prompt": "You are the airplane expert. Produce a concise, formalized description of airplane actions, their preconditions and effects, relevant initial facts for airplanes and packages at airports, and any assumptions you require. Do not emit PDDL domain or problem files.",
                "prompt": "Your name is airplane_agent. Use the following public information: {environment->public_information}. Use your private information: {agents->airplane_agent->private_information}. Your task is to enumerate the airplane-related action schemas, list concrete relevant ground facts from the initial state that concern airplanes and packages at airports, and highlight any ambiguities or missing details that the orchestrator should resolve. Provide the output as a structured report named airplane_report."
            }
        },
        "auditor": {
            "audit": {
                "input": [],
                "output": "audit_report",
                "system_prompt": "You are a temporal/causal auditor. Inspect proposed action schemas and initial facts for temporal or causal shortcuts and remove bookkeeping shortcuts by proposing explicit causal predicates and constraints. Do not emit PDDL domain or problem files.",
                "prompt": "Your name is auditor. Use the following public information: {environment->public_information}. Use your private information: {agents->auditor->private_information}. Your task is to produce a clear audit_report that lists any causal or temporal inconsistencies, any uses of bookkeeping shortcuts (for example implicit quota tokens or informal penalties), and concrete corrections or additional predicates that should be added so that the orchestrator can produce a clean, explicit model for planning."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_report",
                    "airplane_report",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator responsible for integrating agent reports into a single PDDL domain and problem tailored for the FastDownwards planner. Produce a PDDL domain and a PDDL problem file that are explicit, consistent with the audit recommendations, keep actions of trucks and airplanes distinct, and include types, predicates, objects, initial state and goal. Target FastDownwards compatibility and include any required :requirements and :typing declarations. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "Your name is orchestrator. Integrate the following artifact outputs to construct a final planning model for the goal: {agents->orchestrator->goal}. Here are the reports from the experts and auditor: {truck_report} {airplane_report} {audit_report}. Produce a final PDDL domain and PDDL problem suitable for FastDownwards that achieves the global goal and respects the constraints and corrections provided. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_agent.analyze->orchestrator.pddl",
            "airplane_agent.analyze->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}