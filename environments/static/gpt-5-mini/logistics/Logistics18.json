{
    "name": "Logistics18",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_operator",
            "air_operator",
            "auditor",
            "orchestrator"
        ],
        "truck_operator": {
            "private_information": [
                "I control the city-level trucks and can move packages by driving between locations within a city.",
                "Each city has exactly one truck and trucks only drive intra-city."
            ],
            "goal": "Model and enable reliable intra-city transport by truck so packages can be moved to city airports or destination locations."
        },
        "air_operator": {
            "private_information": [
                "I control the airplanes that fly between city airports.",
                "Airplanes only move between airports and handle inter-city transfers."
            ],
            "goal": "Model and enable reliable inter-city transport by airplane so packages can be moved between city airports."
        },
        "auditor": {
            "private_information": [
                "I check temporal and causal consistency and remove bookkeeping shortcuts such as implicit quotas or undeclared state transitions.",
                "I ensure load/unload and movement preconditions and effects are explicitly modeled and that cargo accounting is sound."
            ],
            "goal": "Audit fragments for missing predicates, invariants, and ordering constraints and produce corrections for the orchestrator."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate domain fragments and the audit report and produce a final PDDL domain and problem targeting the FastDownwards solver to achieve the global goal: package_0 at location_1_2."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 3
        },
        "public_information": [
            "Locations within a city are directly connected and trucks can drive between any two locations in the same city.",
            "Cities are connected via airports and airplanes can fly between city airports.",
            "In each city there is exactly one truck.",
            "Each city has exactly one location that serves as an airport.",
            "Available actions: load-truck, unload-truck, drive-truck, load-airplane, unload-airplane, fly-airplane.",
            "A package can be loaded into a truck only if the package and the truck are in the same location. When loaded the package is in the truck and not at the location.",
            "A package can be loaded into an airplane only if the package and the airplane are in the same location. When loaded the package is in the airplane and not at the location.",
            "A package can be unloaded from a truck only if the package is in the truck. When unloaded the package is at the truck location and not in the truck.",
            "A package can be unloaded from an airplane only if the package is in the airplane. When unloaded the package is at the airplane location and not in the airplane.",
            "A truck can be driven from one location to another only if both locations belong to the same city and the truck is at the from-location. After driving the truck is at the to-location and not at the from-location.",
            "An airplane can be flown from one city airport to another only if the airplane is at the from-airport. After flying the airplane is at the destination airport and not at the origin airport.",
            "Initial facts: location_0_0 is an airport, location_1_0 is an airport, airplane_0 is at location_1_0, package_0 is at location_0_1, truck_0 is at location_0_2, truck_1 is at location_1_0, location_0_0, location_0_1, location_0_2 are in city_0, location_1_0, location_1_1, location_1_2 are in city_1.",
            "Global goal: package_0 is at location_1_2."
        ]
    },
    "workflow": {
        "truck_operator": {
            "analysis": {
                "input": [],
                "output": "truck_fragment",
                "system_prompt": "You are an expert on city-level truck logistics and action modeling. Provide a detailed description of truck-related predicates, parameters, preconditions, and effects required to represent load-truck, unload-truck, and drive-truck actions. Do not emit full PDDL domain and problem files. Emphasize required state variables and modeling pitfalls that the auditor should check.",
                "prompt": "Agent truck_operator. Use the public information: {environment->public_information} and your private knowledge: {agents->truck_operator->private_information}. Produce a clear action schema description and identify assumptions and gaps relevant to intra-city truck operations and package handling. Output should be machine-friendly text suitable as input to an orchestrator."
            }
        },
        "air_operator": {
            "analysis": {
                "input": [],
                "output": "air_fragment",
                "system_prompt": "You are an expert on aircraft logistics and action modeling. Provide a detailed description of airplane-related predicates, parameters, preconditions, and effects for load-airplane, unload-airplane, and fly-airplane actions. Do not produce full PDDL domain and problem files. Highlight airport constraints and cargo accounting concerns for the auditor.",
                "prompt": "Agent air_operator. Use the public information: {environment->public_information} and your private knowledge: {agents->air_operator->private_information}. Produce a clear action schema description and identify assumptions and gaps relevant to inter-city airplane operations and package handling. Output should be machine-friendly text suitable as input to an orchestrator."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_fragment",
                    "air_fragment"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency for planning domains. Inspect domain fragments and remove bookkeeping shortcuts such as implicit quotas, post-hoc penalties, or undeclared state transitions. Produce an audit report listing corrections, required additional predicates, invariants, and ordering constraints. Do not produce PDDL domain or problem files.",
                "prompt": "Agent auditor. Receive the fragments: {truck_fragment} and {air_fragment}. Using the public information: {environment->public_information} and your private knowledge: {agents->auditor->private_information}, produce an audit_report describing inconsistencies, missing invariants, and recommended changes so the orchestrator can build a sound PDDL model."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_fragment",
                    "air_fragment",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert integrator and PDDL author targeting the FastDownwards solver. Using the fragments and the auditor report, produce a complete PDDL domain and a PDDL problem file compatible with FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep agent actions distinct and include explicit predicates for locations, cities, trucks, airplanes, packages, airports, in-truck and in-airplane relations. Ensure all preconditions and effects reflect the auditor corrections and that the model is solvable by FastDownwards.",
                "prompt": "Agent orchestrator. Integrate the inputs: {truck_fragment}, {air_fragment}, and {audit_report} plus the public information: {environment->public_information} and the global goal: {agents->orchestrator->goal}. Produce the final PDDL domain and problem files suitable for FastDownwards. Enclose the domain between <domain></domain> and the problem between <problem></problem>."
            }
        },
        "constraints": [
            "truck_operator.analysis->auditor.audit",
            "air_operator.analysis->auditor.audit",
            "truck_operator.analysis->orchestrator.pddl",
            "air_operator.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}