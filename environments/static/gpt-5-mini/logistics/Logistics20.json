{
    "name": "Logistics20",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "There is exactly one truck in each city.",
                "Trucks can drive between any two locations inside the same city (direct connectivity).",
                "Load into a truck requires the package and truck to be at the same location.",
                "After loading into a truck the package is inside the truck and not at the location.",
                "After unloading from a truck the package is at the truck's current location and not in the truck."
            ],
            "goal": "Provide a precise, unambiguous structured description of truck-related actions, required predicates, objects, preconditions and effects that can be consumed by a planner integrator."
        },
        "airplane_agent": {
            "private_information": [
                "Each city has exactly one location that serves as its airport.",
                "Airplanes fly between airports (one airport per city).",
                "Load into an airplane requires the package and the airplane to be at the same airport location.",
                "After loading into an airplane the package is inside the airplane and not at the airport location.",
                "After unloading from an airplane the package is at the airplane's current airport location and not in the airplane."
            ],
            "goal": "Provide a precise, unambiguous structured description of airplane-related actions, required predicates, objects, preconditions and effects that can be consumed by a planner integrator."
        },
        "auditor": {
            "private_information": [
                "Audit temporal and causal consistency of combined action specifications.",
                "Detect and remove bookkeeping shortcuts such as implicit quota tokens, post-hoc penalties, or assumptions that mask causality.",
                "Ensure that loading/unloading and move actions have consistent state transitions and that no action relies on hidden side effects."
            ],
            "goal": "Produce an audit report listing inconsistencies, required clarifications, and suggested corrections so the orchestrator can produce a clean, causal PDDL model."
        },
        "orchestrator": {
            "private_information": [
                "You coordinate the inputs from truck_agent, airplane_agent and auditor to build the final PDDL domain and problem.",
                "The final PDDL must target the FastDownward planner and keep agent actions distinct where appropriate."
            ],
            "goal": "Integrate component specifications and the auditor report to produce a complete PDDL domain and problem ready for FastDownward that achieves the global task: package_0 at location_1_2."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 3,
            "airports": [
                "location_0_0",
                "location_1_0"
            ],
            "initial_state_facts": [
                "location_0_0 is an airport",
                "location_1_0 is an airport",
                "airplane_0 at location_0_0",
                "airplane_1 at location_1_0",
                "package_0 at location_1_1",
                "truck_0 at location_0_1",
                "truck_1 at location_1_0",
                "location_0_0 in city city_0",
                "location_0_1 in city city_0",
                "location_0_2 in city city_0",
                "location_1_0 in city city_1",
                "location_1_1 in city city_1",
                "location_1_2 in city city_1"
            ]
        },
        "public_information": [
            "There are multiple cities; each city contains several locations and exactly one airport location.",
            "Trucks operate only within a single city and can move between any two locations in that same city.",
            "Airplanes operate between city airports and fly between airports of different cities.",
            "Packages may be at locations or inside vehicles (trucks or airplanes).",
            "Loading and unloading change package location membership between ground location, truck, and airplane as appropriate.",
            "Initial facts: location_0_0 is an airport, location_1_0 is an airport, airplane_0 at location_0_0, airplane_1 at location_1_0, package_0 at location_1_1, truck_0 at location_0_1, truck_1 at location_1_0, and locations belong to their respective cities as stated in initial_state_facts.",
            "Goal: package_0 is at location_1_2."
        ]
    },
    "workflow": {
        "truck_agent": {
            "spec": {
                "input": [],
                "output": "truck_spec",
                "system_prompt": "You are an expert in ground logistics modeling. Provide a clear, structured specification for truck-related domain elements. Do not emit PDDL directly; instead return named predicates, object types, and action templates with explicit preconditions and effects suitable for composition.",
                "prompt": "You are truck_agent. Use the public information and your private knowledge to describe truck objects, predicates and the following action templates: load-into-truck, unload-from-truck, drive-truck. For each action give: required parameters, positive and negative preconditions, and explicit effects. Be precise about the representation of 'package at location' vs 'package in truck' and about location membership in cities."
            }
        },
        "airplane_agent": {
            "spec": {
                "input": [],
                "output": "airplane_spec",
                "system_prompt": "You are an expert in air logistics modeling. Provide a clear, structured specification for airplane-related domain elements. Do not emit PDDL directly; instead return named predicates, object types, and action templates with explicit preconditions and effects suitable for composition.",
                "prompt": "You are airplane_agent. Use the public information and your private knowledge to describe airplane objects, predicates and the following action templates: load-into-airplane, unload-from-airplane, fly-airplane. For each action give: required parameters, positive and negative preconditions, and explicit effects. Be precise about airports, the representation of 'package at airport location' vs 'package in airplane', and ensure city-level constraints are explicit."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_spec",
                    "airplane_spec"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor focused on temporal and causal consistency. Analyze the provided action templates and specifications from other agents. Identify implicit assumptions or bookkeeping shortcuts, and propose explicit predicates, invariants or ordering constraints that remove those shortcuts.",
                "prompt": "You are auditor. Receive the truck_spec and airplane_spec and produce an audit_report that: lists any causal gaps, points out temporal ambiguities (for example, overlapping use of the same predicate meaning different things), identifies any hidden tokens or shortcuts, and suggests concrete corrections or additional predicates so the orchestrator can assemble a causally sound PDDL domain."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_spec",
                    "airplane_spec",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL integration and with producing PDDL for the FastDownward planner. Integrate the component specifications and the auditor report into a single consistent PDDL domain and PDDL problem targeting FastDownward. Keep agent actions distinct when appropriate. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure types, predicates, actions, objects, initial state and goal are complete and consistent with the provided initial facts and goal.",
                "prompt": "You are orchestrator. Use the environment public information, the truck_spec, airplane_spec and the audit_report to produce a complete PDDL domain and a PDDL problem that achieves the goal 'package_0 at location_1_2'. Make sure to: (1) include types for city, location, truck, airplane, package; (2) represent airports explicitly; (3) include action schemata for load/unload/drive/fly with correct preconditions and effects; (4) avoid bookkeeping shortcuts and encode causal constraints explicitly; (5) keep actions from trucks and airplanes distinct; (6) format output so it is ready for FastDownward. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_agent.spec->orchestrator.pddl",
            "airplane_agent.spec->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    },
    "constraints": []
}