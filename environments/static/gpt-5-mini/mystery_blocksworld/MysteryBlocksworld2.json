{
    "name": "MysteryBlocksworld2",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "modeler",
            "auditor",
            "orchestrator"
        ],
        "modeler": {
            "private_information": [
                "I know the natural language action descriptions and their preconditions and effects as provided by the user.",
                "I know the initial facts: object a craves object c, object c craves object b, object d craves object a, harmony is true, planet object b is true, province object d is true.",
                "I know the goal is: object a craves object d and object d craves object b."
            ],
            "goal": "Produce a clear, structured domain model listing predicates, object instances, and for each action a formal set of preconditions, add effects, and delete effects; do not output PDDL."
        },
        "auditor": {
            "private_information": [
                "I specialize in temporal and causal consistency checking and removal of bookkeeping shortcuts such as tokens or after-the-fact penalties.",
                "I will inspect the modeler's structured model for causal cycles, missing restores, ambiguous references to 'other' objects, and bookkeeping shortcuts."
            ],
            "goal": "Audit the structured model for causal and temporal consistency, propose corrections or normalizations, and produce a cleaned model_spec; do not output PDDL."
        },
        "orchestrator": {
            "private_information": [
                "I will receive structured modelling outputs and an audit report and must integrate them into a single PDDL domain and problem suitable for the FastDownwards planner.",
                "The final output should be a PDDL domain and a PDDL problem that encode objects a, b, c, d and the actions Attack, Succumb, Overcome, Feast with distinct agent action names if needed."
            ],
            "goal": "Integrate modeler and auditor outputs to produce a final PDDL domain and a PDDL problem targeting the FastDownwards solver that achieves the global goal."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "a",
                "b",
                "c",
                "d"
            ],
            "initial_facts": [
                "craves a c",
                "craves c b",
                "craves d a",
                "harmony",
                "planet b",
                "province d"
            ],
            "predicates_summary": [
                "Object Craves other object: craves ?x ?y",
                "Province object: province ?x",
                "Planet object: planet ?x",
                "Harmony: harmony",
                "Pain object: pain",
                "Province other object: province_other ?x ?y (use with care to avoid ambiguous naming)"
            ]
        },
        "public_information": [
            "Available actions: Attack, Succumb, Overcome (from another object), Feast (from another object).",
            "Attack requires: Province object, Planet object, Harmony. Attack makes: Pain true. Attack deletes: Province object, Planet object, Harmony.",
            "Succumb requires: Pain. Succumb makes: Province object, Planet object, Harmony. Succumb deletes: Pain.",
            "Overcome requires: Province other object and Pain. Overcome makes: Harmony, Province object, Object Craves other object. Overcome deletes: Province other object, Pain.",
            "Feast requires: Object Craves other object, Province object, Harmony. Feast makes: Pain, Province other object. Feast deletes: Object Craves other object, Province object, Harmony.",
            "Initial facts and goal are public for planning: initial facts list and goal: craves a d and craves d b."
        ]
    },
    "workflow": {
        "modeler": {
            "model": {
                "input": [],
                "output": "model_spec",
                "system_prompt": "You are an expert domain modeler. Receive the natural language rules and initial facts and produce a structured domain model that lists predicates, object instances, and for each action a formal enumeration of preconditions, add effects, and delete effects. Clarify ambiguous phrases such as 'other object' by describing expected parameter positions and possible name mappings. Do not output PDDL. Focus on a clear machine-readable structured model that the orchestrator and auditor can consume.",
                "prompt": "Your role is modeler. Use the environment public information and the private information you have. Produce a structured model that enumerates predicates, object list, and for each action (Attack, Succumb, Overcome, Feast) the preconditions, add effects, and delete effects in a consistent naming scheme. If some references are ambiguous, list the ambiguity and possible resolutions."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_spec"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor in causal and temporal consistency. Given a structured domain model, check for causal cycles, missing restores, ambiguous references to 'other' objects, and any bookkeeping shortcuts. Produce a corrected or annotated model_spec suitable for automated PDDL generation and document normalization choices. Remove bookkeeping shortcuts and suggest explicit predicates instead. Do not output PDDL.",
                "prompt": "Your role is auditor. Inspect the provided model_spec and produce an audit_report that flags issues, proposes corrected predicate signatures or renamed arguments to avoid ambiguity, and returns a cleaned model representation suitable for the orchestrator."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_spec",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL and with the FastDownwards planner. Integrate the structured model and the auditor's corrections and produce a final PDDL domain and a PDDL problem file that FastDownwards can consume. Use STRIPS-compatible constructs and make explicit typing where needed. Enclose the PDDL domain between <domain> and </domain> tags and the PDDL problem between <problem> and </problem> tags. Ensure predicates and object names are consistent, and that the provided initial facts and the goal (craves a d and craves d b) are encoded. Keep agent actions distinct if multiple agents' actions are modeled.",
                "prompt": "Your role is orchestrator. You will receive a model_spec and an audit_report. Integrate them to produce a PDDL domain and a PDDL problem targeted for FastDownwards. Use the object set {a, b, c, d} and ensure the four actions Attack, Succumb, Overcome, and Feast are represented with the preconditions and effects as reconciled by the auditor. Provide the domain and problem enclosed in <domain> and </domain> tags. The final PDDL must be sufficient for FastDownwards to attempt planning to reach the goal: craves a d and craves d b from the given initial facts."
            }
        },
        "constraints": [
            "modeler.model->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}