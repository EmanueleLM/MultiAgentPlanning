{
    "name": "MysteryBlocksworld21",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "observer",
            "modeler",
            "auditor",
            "orchestrator"
        ],
        "observer": {
            "private_information": [
                "Initial facts: object a craves object d",
                "Initial facts: object d craves object c",
                "Initial facts: harmony",
                "Initial facts: planet object b",
                "Initial facts: planet object c",
                "Initial facts: province object a",
                "Initial facts: province object b"
            ],
            "goal": "Have object b craves object c and object d craves object a."
        },
        "modeler": {
            "private_information": [
                "Action semantics and constraints:",
                "Attack: requires province(object) and planet(object) and harmony; after Attack, Pain holds; after Attack, Province, Planet and Harmony become false for the attacked object(s).",
                "Succumb: requires Pain; after Succumb, Province, Planet and Harmony become true; after Succumb, Pain becomes false.",
                "Overcome: requires Province(other) and Pain; after Overcome, Harmony becomes true and Province(object) becomes true and ObjectCraves(other) becomes true; after Overcome, Province(other) and Pain become false.",
                "Feast: requires ObjectCraves(other) and Province(object) and Harmony; after Feast, Pain and Province(other) become true and ObjectCraves(other), Province(object), Harmony become false."
            ],
            "goal": "Provide a formal intermediate model of actions, their parameters, preconditions and effects describing the system used to reach the goal."
        },
        "auditor": {
            "private_information": [
                "Role: audit temporal and causal consistency and remove bookkeeping shortcuts.",
                "Tasks: detect and remove tokens such as quota counters, post-hoc penalties and other bookkeeping shortcuts from models, ensure that all causal links are explicit and that action preconditions and effects are consistent over time."
            ],
            "goal": "Produce an audited, temporally and causally consistent action model suitable for translation into PDDL."
        },
        "orchestrator": {
            "private_information": [
                "Role: integrate audited model and observations and produce the final PDDL domain and problem targeting the FastDownward solver."
            ],
            "goal": "Produce a final PDDL domain and PDDL problem compatible with the FastDownward solver that achieves the global goal."
        }
    },
    "environment": {
        "init": {
            "rule_set": "mystery_blocksworld_v1"
        },
        "public_information": [
            "Available actions: Attack object, Feast object from another object, Succumb object, Overcome object from another object.",
            "Attack preconditions: Province(object), Planet(object), Harmony.",
            "Attack effects: adds Pain(object); removes Province(object), Planet(object), Harmony.",
            "Succumb preconditions: Pain.",
            "Succumb effects: adds Province(object), Planet(object), Harmony; removes Pain.",
            "Overcome preconditions: Province(other), Pain.",
            "Overcome effects: adds Harmony, Province(object), ObjectCraves(other); removes Province(other), Pain.",
            "Feast preconditions: ObjectCraves(other), Province(object), Harmony.",
            "Feast effects: adds Pain, Province(other); removes ObjectCraves(other), Province(object), Harmony.",
            "Initial state: object a craves object d, object d craves object c, harmony, planet object b, planet object c, province object a, province object b.",
            "Global goal: object b craves object c and object d craves object a."
        ]
    },
    "workflow": {
        "observer": {
            "analyze": {
                "input": [],
                "output": "obs_analysis",
                "system_prompt": "You are an analyst whose job is to read the public information and the observer's private information and extract a concise structured representation of entities, relations, initial facts and the stated goal. Provide a list of objects, predicates and the initial facts in a clear structured form. Do not emit PDDL.",
                "prompt": "Your name is observer. You are given the public information {environment->public_information} and your private knowledge {agents->observer->private_information} and the global goal {agents->observer->goal}. Extract entities, relations, initial facts and the explicit goal as a short structured summary suitable for modelers."
            }
        },
        "modeler": {
            "build_model": {
                "input": [
                    "obs_analysis"
                ],
                "output": "model_partial",
                "system_prompt": "You are a formal modeler. Translate the structured summary into an explicit intermediate action model. For each action provide a name, parameter list, preconditions and add and delete effects using predicate names. Use clear parameterized predicates such as (province ?x), (planet ?x), (harmony), (pain ?x), (craves ?x ?y). Do not produce final PDDL; produce a clear intermediate schema that is unambiguous and complete.",
                "prompt": "Your name is modeler. You have the structured summary {obs_analysis} and your private knowledge {agents->modeler->private_information} and the global goal {agents->modeler->goal}. Produce an intermediate action schema listing all actions, parameters, preconditions, add effects and delete effects in a consistent formal notation. Avoid bookkeeping tokens and do not produce PDDL yet."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_partial"
                ],
                "output": "model_audited",
                "system_prompt": "You are an auditor of causal and temporal consistency. Inspect the intermediate action model and remove bookkeeping shortcuts, make causal links explicit, ensure preconditions and effects are temporally consistent and resolve naming ambiguities. Return a cleaned, audited model that is ready for PDDL translation.",
                "prompt": "Your name is auditor. You are given the intermediate model {model_partial} and your private auditing rules {agents->auditor->private_information} and goal {agents->auditor->goal}. Produce an audited action model with explicit causal links, no bookkeeping artifacts and consistent predicate names suitable for direct translation to PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_audited",
                    "obs_analysis"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in PDDL and in preparing domains for the FastDownward planner. Take the audited action model and the observed facts and produce a final PDDL domain and a PDDL problem compatible with FastDownward. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure predicate and action names are consistent, the domain is STRIPS-compatible where possible, and the problem encodes the initial facts and the goal.",
                "prompt": "You are orchestrator. Integrate the audited model {model_audited} and the observation summary {obs_analysis} to produce a FastDownward-ready PDDL domain and problem that achieves the global goal {agents->observer->goal}. Keep actions and their parameters explicit and distinct. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "observer.analyze->modeler.build_model",
            "modeler.build_model->auditor.audit",
            "auditor.audit->orchestrator.pddl",
            "modeler.build_model->orchestrator.pddl",
            "observer.analyze->orchestrator.pddl"
        ]
    }
}