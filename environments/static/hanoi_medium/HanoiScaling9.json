{
    "name": "HanoiScaling9",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "spec_creator",
            "auditor",
            "orchestrator"
        ],
        "spec_creator": {
            "private_information": [
                "There are 5 disks labeled from smallest to largest: disk A, disk B, disk C, disk D, disk E.",
                "There are three pegs: left, middle, right.",
                "Initial state: middle peg holds from top to bottom disk A, disk B, disk C, disk D, disk E. Left and right pegs are empty.",
                "Legal single atomic action: move the top disk from one peg to another peg subject to the Tower of Hanoi rules."
            ],
            "goal": "Reach a state where the right peg holds from top to bottom disk A, disk B, disk C, disk D, disk E, and both left and middle pegs are empty."
        },
        "auditor": {
            "private_information": [
                "Responsible for checking temporal and causal consistency and removing bookkeeping shortcuts.",
                "Must ensure plans respect single-disk moves, top-of-peg restriction, and larger-not-on-smaller constraint.",
                "Will identify and remove any proposals that rely on tokens, post-hoc penalties, or other non-physical bookkeeping shortcuts."
            ],
            "goal": "Audit the specification and proposed step-level constraints to ensure the final plan is causally and temporally valid for a physical Tower of Hanoi solution."
        },
        "orchestrator": {
            "private_information": [
                "Coordinates the other agents and produces the final PDDL domain and problem files suitable for the FastDownward solver."
            ],
            "goal": "Integrate the specification and the auditor's corrections to produce a complete PDDL domain and problem that solve the Tower of Hanoi instance with 5 disks using FastDownward."
        }
    },
    "environment": {
        "init": {
            "pegs": 3,
            "disks": 5,
            "disk_names": [
                "A",
                "B",
                "C",
                "D",
                "E"
            ]
        },
        "public_information": [
            "This is a standard Tower of Hanoi setup with three pegs and five disks ordered by size.",
            "Only one disk may be moved at a time.",
            "Only the top disk on any peg may be moved.",
            "A larger disk may never be placed on top of a smaller disk.",
            "Once moved, disks keep their relative size ordering constraints with respect to other disks.",
            "Initial configuration: middle peg contains disks from top to bottom A, B, C, D, E; left and right pegs are empty.",
            "Goal configuration: right peg must contain disks from top to bottom A, B, C, D, E; left and middle pegs must be empty.",
            "The left peg may be used as an intermediate but must end empty."
        ]
    },
    "workflow": {
        "spec_creator": {
            "spec": {
                "input": [],
                "output": "hanoi_spec",
                "system_prompt": "You are an expert on formal problem specification and modelling of classical planning tasks. Produce a clear, unambiguous formal specification of the Tower of Hanoi instance described in the environment. Provide the objects, predicates, initial facts, action schemas with preconditions and effects, and any domain-level invariants or constraints. Do not emit PDDL directly; instead focus on a precise structured specification that the orchestrator can transform into PDDL. If any implicit assumption is missing from the environment, state it explicitly instead of inventing it.",
                "prompt": "You are spec_creator. Using the public information and your private information, produce a formal structured specification describing objects, predicates, initial state, goal conditions, and action schemas for single-disk moves under the Tower of Hanoi rules. Be explicit about the top-of-peg condition and the size ordering constraints. Do not output PDDL; output a specification intended for transformation into PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "hanoi_spec"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in causal and temporal consistency for planning problems. Your job is to inspect a formal specification and remove or flag any use of bookkeeping shortcuts such as quota tokens, post-hoc penalties, abstracted macro-moves, or other constructs that would allow illegal simultaneous moves or violate disk ordering. Produce a corrected specification or a list of required corrections in plain structured text.",
                "prompt": "You are auditor. Receive the specification from spec_creator. Check temporal and causal consistency and ensure the specification enforces one-disk-at-a-time, top-of-peg move preconditions, and the larger-not-on-smaller constraint. Remove or flag any bookkeeping shortcuts and request clarifications if the specification is ambiguous. Output a concise audit_report describing corrections or confirmations of consistency."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "hanoi_spec",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL modelling and FastDownward solver requirements. Your task is to integrate the formal specification and the auditor's corrections to produce a complete PDDL domain and a PDDL problem targeting the FastDownward planner. Ensure types, predicates, action schemas, objects, initial state, and goal are fully specified and free of bookkeeping shortcuts. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Mark any agent-distinct actions if multiple agents were involved in the conceptual model. Output should be directly usable with the FastDownward planner.",
                "prompt": "You are orchestrator. Use the hanoi_spec and the audit_report to generate a PDDL domain and a PDDL problem that implement the Tower of Hanoi with 5 disks and 3 pegs. Ensure actions implement single-disk moves with proper preconditions preventing larger-on-smaller placements and requiring the moved disk to be top on its source peg. Include type declarations and ensure compatibility with FastDownward. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags. Do not include runtime escape sequences in the output."
            }
        },
        "constraints": [
            "spec_creator.spec->auditor.audit",
            "spec_creator.spec->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}