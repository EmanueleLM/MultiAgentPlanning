{
    "name": "HanoiScaling16",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "disk_manager",
            "strategy_planner",
            "auditor",
            "orchestrator"
        ],
        "disk_manager": {
            "private_information": [
                "There are seven disks ordered by size from smallest to largest: A, B, C, D, E, F, G.",
                "Legal low-level action: Move the top disk from one peg to another peg.",
                "Rules: only one disk moved at a time, only top disk of a peg can be moved, never place larger disk on top of smaller disk, disk ordering is preserved by size."
            ],
            "goal": "Provide a formal model of disks, pegs, and legal move constraints that is precise and unambiguous so a planner can encode the domain."
        },
        "strategy_planner": {
            "private_information": [
                "I know the classic recursive solution for Tower of Hanoi and high-level move patterns for n disks using an auxiliary peg.",
                "I can produce a high-level sequence of moves or a recursive decomposition suitable to generate the complete move list for seven disks."
            ],
            "goal": "Produce a high-level plan outline or ordered move sequence that achieves the goal from the initial configuration while respecting the disk rules."
        },
        "auditor": {
            "private_information": [
                "I specialize in checking temporal and causal consistency and removing bookkeeping shortcuts such as token counters or post-hoc penalties.",
                "I ensure that plans explicitly respect preconditions and effects and that no implicit or illegal shortcuts are introduced."
            ],
            "goal": "Audit the model and the plan for causal and temporal consistency, remove or flag any shortcutting devices, and produce a concise audit report describing any required corrections."
        },
        "orchestrator": {
            "private_information": [
                "Target solver: FastDownwards. Outputs must be a PDDL domain and a PDDL problem compatible with FastDownwards."
            ],
            "goal": "Integrate the model, plan outline, and audit corrections to produce a final PDDL domain and a final PDDL problem encoding the 7-disk Tower of Hanoi instance for FastDownwards."
        }
    },
    "environment": {
        "init": {
            "pegs": 3,
            "disks": 7
        },
        "public_information": [
            "There are three pegs: left, middle, right.",
            "Initial state: middle peg holds from top to bottom disks A B C D E F G, left and right pegs are empty.",
            "Goal state: right peg should hold from top to bottom disks A B C D E F G, left and middle pegs must be empty.",
            "Allowed primitive action: move the top disk from one peg to another peg.",
            "Rules: move only one disk at a time; can only move the top disk of a peg; cannot place a larger disk on top of a smaller disk."
        ]
    },
    "workflow": {
        "disk_manager": {
            "model": {
                "input": [],
                "output": "disk_model",
                "system_prompt": "You are the disk_manager. Your role is to produce a clear formal description of the objects and constraints of the Tower of Hanoi instance. Do not emit PDDL. Produce object lists, type declarations, predicates needed, and explicit precondition and effect templates for the primitive move action. Make no assumptions beyond the given public information.",
                "prompt": "Your name is disk_manager. You are given the public information {environment->public_information}. You have this private knowledge {agents->disk_manager->private_information}. Your goal is {agents->disk_manager->goal}. Provide a formal model description that includes: a list of disks with their size ordering, the pegs, the representation of 'top of peg' and 'on' relations, the invariants that enforce disk size ordering, and the exact preconditions and effects templates for the primitive move action. Keep the output precise and implementation friendly for a planner author."
            }
        },
        "strategy_planner": {
            "plan": {
                "input": [
                    "disk_manager.disk_model"
                ],
                "output": "plan_outline",
                "system_prompt": "You are the strategy_planner. Your role is to provide a high-level plan outline or an explicit ordered move sequence for seven disks that achieves the goal while respecting the model constraints. Do not emit PDDL. Focus on correctness, decomposition, and an explicit mapping of moves between pegs.",
                "prompt": "Your name is strategy_planner. You are given the public information {environment->public_information} and the disk model {disk_manager.disk_model}. You have this private knowledge {agents->strategy_planner->private_information}. Your goal is {agents->strategy_planner->goal}. Provide either a recursive decomposition suitable for generating the full move list or a complete ordered list of moves using peg names left middle right. Ensure each move respects the move preconditions from the model. Mark any assumptions you need to make."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "strategy_planner.plan",
                    "disk_manager.disk_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor. Your role is to analyze the provided model and plan for temporal and causal consistency. Your job is to remove or flag any bookkeeping shortcuts, implicit counters, or post-hoc justifications that would hide illegal moves. Produce a concise audit report with corrections or confirmations. Do not emit PDDL.",
                "prompt": "Your name is auditor. You receive the model {disk_manager.disk_model} and the plan {strategy_planner.plan}. You have this private knowledge {agents->auditor->private_information}. Your goal is {agents->auditor->goal}. Check that every plan step has explicit preconditions given the model, that no step relies on hidden tokens or global counters, and that disk size ordering is preserved in every step. If issues are found, describe the minimal modifications required to the plan or model so it is causally and temporally sound."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "disk_manager.disk_model",
                    "strategy_planner.plan",
                    "auditor.audit"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator. Your responsibility is to integrate the model, the plan outline, and the auditor corrections and produce a final PDDL domain and a PDDL problem file compatible with the FastDownwards solver. You must encode the primitive move action, types, predicates, objects, initial state, and goal state for the seven disk instance. Keep agent actions distinct if representing multi-agent aspects. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure the PDDL is explicit, complete, and does not rely on external bookkeeping shortcuts.",
                "prompt": "There are multiple contributors. Integrate the disk model {disk_manager.disk_model}, the plan outline {strategy_planner.plan}, and the auditor report {auditor.audit}. Your task is {agents->orchestrator->goal}. Produce a PDDL domain and a PDDL problem that encodes the seven disk Tower of Hanoi starting with all disks on the middle peg and ending with all disks on the right peg using the left peg only as intermediate and leaving it empty at the end. Target the FastDownwards solver and ensure compatibility. Enclose the domain between <domain></domain> and the problem between <problem></problem>."
            }
        },
        "constraints": [
            "disk_manager.model->strategy_planner.plan",
            "strategy_planner.plan->auditor.audit",
            "auditor.audit->orchestrator.pddl",
            "disk_manager.model->orchestrator.pddl"
        ]
    }
}