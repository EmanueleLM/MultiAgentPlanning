{
    "name": "HanoiScaling21",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "disk_mover",
            "structure_analyzer",
            "auditor",
            "orchestrator"
        ],
        "disk_mover": {
            "private_information": [
                "I can perform the primitive action: move the top disk from one peg to another peg",
                "I must obey the rules: only one disk at a time, only move the top disk of a peg, never place a larger disk on a smaller disk",
                "Once a disk is moved it preserves relative size ordering with others"
            ],
            "goal": "Provide an abstract, stepwise characterization of valid single-disk moves and constraints on move applicability and effects without producing PDDL directly"
        },
        "structure_analyzer": {
            "private_information": [
                "There are 7 disks labeled smallest to largest: A, B, C, D, E, F, G",
                "Initial state: left peg contains from top to bottom A, B, C, D, E, F, G; middle and right pegs are empty",
                "Goal state: middle peg must contain from top to bottom A, B, C, D, E, F, G; left and right pegs must be empty at the end",
                "The right peg may be used as an intermediate but must be empty in the final state"
            ],
            "goal": "Provide a precise, declarative encoding of objects, initial conditions, and the desired goal state and identify any naming conventions or representation choices to support final PDDL generation"
        },
        "auditor": {
            "private_information": [
                "I validate temporal and causal consistency and remove bookkeeping shortcuts such as quota tokens or post-hoc penalties",
                "I enforce that encodings do not rely on implicit memory or off-line bookkeeping that would bypass causal move constraints",
                "I check that the model preserves the invariant ordering of disks and enforces legality of each move"
            ],
            "goal": "Audit proposed encodings and intermediate artifacts for temporal and causal soundness and produce a remediation report that removes bookkeeping shortcuts"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the analyses and produce a final PDDL domain and PDDL problem suitable for the FastDownwards planner that solves the 7-disk Tower of Hanoi instance with pegs left, middle, right and with the right peg empty at the end"
        }
    },
    "environment": {
        "init": {
            "disks": 7,
            "pegs": 3,
            "visibility": 0
        },
        "public_information": [
            "Puzzle: Tower of Hanoi with three pegs named left, middle, right",
            "Disks from smallest to largest: A, B, C, D, E, F, G",
            "Allowed primitive action: move the top disk from one peg to another peg",
            "Rules: move only one disk at a time; move only the top disk of a peg; never place a larger disk on top of a smaller disk",
            "Initial configuration: left peg holds from top to bottom A, B, C, D, E, F, G and middle and right pegs are empty",
            "Goal configuration: middle peg must hold from top to bottom A, B, C, D, E, F, G and left and right pegs must be empty",
            "Right peg may be used as intermediate but must be empty in the final state"
        ]
    },
    "workflow": {
        "disk_mover": {
            "analysis": {
                "input": [],
                "output": "disk_mover.model",
                "system_prompt": "You are a domain expert at describing primitive actions and their preconditions and effects in natural language and structured annotations. Do not emit PDDL. Produce a clear, unambiguous characterization of the move action, including preconditions that ensure the moved disk is top and smaller than any destination top disk and effects that update peg top relationships and disk locations. Describe invariants to preserve ordering.",
                "prompt": "Your role is disk_mover. Using the public information and your private knowledge, produce an explicit description of the primitive move action with preconditions and effects expressed as structured statements that an orchestrator can translate into PDDL. If information is missing, state it explicitly and avoid making unsupported assumptions. Output should be a concise structured artifact named disk_mover.model."
            }
        },
        "structure_analyzer": {
            "structure": {
                "input": [],
                "output": "structure_analyzer.report",
                "system_prompt": "You are an expert at encoding problem structure for planners. Do not emit PDDL. Produce a deterministic, unambiguous object listing, type hierarchy, initial state facts, and goal facts. Specify any naming conventions to represent disks, pegs, and relations such as on, top, larger-than. Identify whether additional derived predicates or axioms are needed.",
                "prompt": "Your role is structure_analyzer. Using the public information and your private knowledge, produce a structured report called structure_analyzer.report that lists objects, types, initial facts, and goal facts suitable for translation into PDDL by an orchestrator. Highlight decisions that the orchestrator must follow for FastDownwards compatibility."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "disk_mover.model",
                    "structure_analyzer.report"
                ],
                "output": "auditor.report",
                "system_prompt": "You are an auditor that enforces temporal and causal consistency and eliminates bookkeeping shortcuts. Do not emit PDDL. Given models and structural reports, identify and remove any proposals that rely on implicit counters, quota tokens, or post-hoc penalties. Provide concrete corrections and explicit causal constraints so the orchestrator can generate a sound PDDL encoding.",
                "prompt": "Your role is auditor. Receive disk_mover.model and structure_analyzer.report and produce auditor.report that lists detected shortcuts or unsound modeling choices and propose corrected encodings or invariants. Ensure the final artifacts preserve legal move semantics and ordering without auxiliary bookkeeping."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "disk_mover.model",
                    "structure_analyzer.report",
                    "auditor.report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL integration and in producing domain and problem files compatible with the FastDownwards planner. Integrate the inputs from other agents, keep agent actions distinct where relevant, ensure causal correctness, and produce a final PDDL domain and a PDDL problem tailored to FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target FastDownwards requirements and avoid constructs unsupported by FastDownwards.",
                "prompt": "Your role is orchestrator. Integrate disk_mover.model, structure_analyzer.report, and auditor.report to generate a sound PDDL domain and PDDL problem that represent the 7-disk Tower of Hanoi instance described in the environment. Ensure the domain models the primitive move action with correct preconditions and effects, enforces the no-larger-on-smaller constraint, and includes object declarations and initial and goal states. Produce the final PDDL domain and problem suitable for FastDownwards. Enclose the domain between <domain></domain> and the problem between <problem></problem>."
            }
        },
        "constraints": [
            "disk_mover.analysis->orchestrator.pddl",
            "structure_analyzer.structure->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}