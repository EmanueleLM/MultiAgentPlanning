{
    "name": "Logistics1",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_operator",
            "air_operator",
            "auditor",
            "orchestrator"
        ],
        "truck_operator": {
            "private_information": [
                "I control trucks, one per city.",
                "Trucks can move between any two locations within the same city.",
                "Trucks load and unload packages at locations."
            ],
            "goal": "Provide accurate local action schemas and constraints for truck-level operations so packages can be moved within cities."
        },
        "air_operator": {
            "private_information": [
                "I control airplanes that fly between city airports.",
                "Each city has exactly one airport which is a specific location in that city.",
                "Airplanes load and unload packages at airports."
            ],
            "goal": "Provide accurate inter-city action schemas and constraints for airplane operations so packages can be moved between cities."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts.",
                "I ensure that action preconditions and effects are explicit and that no hidden tokens or post-hoc penalties are used."
            ],
            "goal": "Produce an audit report identifying missing causal links, temporal violations, and suggest canonicalized preconditions and effects for integration."
        },
        "orchestrator": {
            "private_information": [
                "I integrate local models and the auditor report into a final planning model suitable for FastDownward.",
                "I must keep actions of different agents distinct and produce a single PDDL domain and problem."
            ],
            "goal": "Integrate inputs from the other agents and produce a complete PDDL domain and problem targeting the FastDownward solver that achieves the global logistics goal."
        }
    },
    "environment": {
        "init": {
            "grid_size": 2,
            "visibility": 2
        },
        "public_information": [
            "There are multiple cities. Each city contains multiple locations and exactly one truck.",
            "Each city has exactly one location designated as the airport.",
            "Locations within the same city are directly connected so trucks can move between any two locations of that city.",
            "Cities are connected by flights between their airports so airplanes can fly from one airport to another airport.",
            "Actions available: load-truck, unload-truck, drive-truck, load-airplane, unload-airplane, fly-airplane.",
            "Load into truck requires package and truck at the same location. After loading the package is in the truck and not at the location.",
            "Unload from truck requires the package to be in the truck. After unloading the package is at the truck's current location and not in the truck.",
            "Load into airplane requires package and airplane at the same airport location. After loading the package is in the airplane and not at the location.",
            "Unload from airplane requires the package to be in the airplane. After unloading the package is at the airplane's current airport location and not in the airplane.",
            "Drive truck requires the truck to be at the source location and both source and destination to be locations in the same city. After driving the truck is at the destination and not at the source.",
            "Fly airplane requires the airplane to be at the source airport location and both source and destination locations to be airports. After flying the airplane is at the destination airport and not at the source.",
            "Initial facts: location_0_0 is an airport. location_1_0 is an airport. airplane_0 is at location_1_0. package_0 is at location_1_0. package_1 is at location_0_0. truck_0 is at location_0_0. truck_1 is at location_1_0. location_0_0 is in city city_0. location_1_0 is in city city_1.",
            "Goal: package_0 is at location_1_0 and package_1 is at location_1_0."
        ]
    },
    "workflow": {
        "truck_operator": {
            "spec": {
                "input": [],
                "output": "truck_spec",
                "system_prompt": "You are the truck domain specialist. Provide a precise, structured description of truck-related predicates, action schemas, preconditions and effects, and any capacity or locality constraints. Do not emit PDDL. Be explicit about what you assume versus what you know.",
                "prompt": "Your name is truck_operator. Based on the public information and your private information provide a clear, structured specification for truck actions: load-truck, unload-truck, drive-truck. For each action list required preconditions, deterministic effects, and any locality constraints. State any assumptions you need for payload capacity or simultaneous actions. Use plain structured text and lists."
            }
        },
        "air_operator": {
            "spec": {
                "input": [],
                "output": "air_spec",
                "system_prompt": "You are the airplane domain specialist. Provide a precise, structured description of airplane-related predicates, action schemas, preconditions and effects. Do not emit PDDL. Be explicit about airport constraints and assumptions.",
                "prompt": "Your name is air_operator. Based on the public information and your private information provide a clear, structured specification for airplane actions: load-airplane, unload-airplane, fly-airplane. For each action list required preconditions, deterministic effects, and any inter-city constraints. State any assumptions required for flight connections or simultaneous operations. Use plain structured text and lists."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_spec",
                    "air_spec"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor for planning model consistency. Identify temporal and causal issues and remove bookkeeping shortcuts. Produce corrections and canonical preconditions and effects that must be enforced in the final model. Do not emit PDDL.",
                "prompt": "Your name is auditor. Using the truck specification and the airplane specification produce an audit report. Validate that preconditions and effects are causally consistent across load and unload operations. Point out implicit shortcuts like capacity tokens, hidden counters, or post-hoc penalties and replace them with explicit predicates or constraints. Provide recommended canonicalized predicate names and any ordering constraints the orchestrator should enforce."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_spec",
                    "air_spec",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator responsible for integrating model fragments and the audit report into a single complete PDDL domain and PDDL problem file suitable for the FastDownward solver. Produce a coherent domain and problem. Keep actions from different agents distinct by prefixing action names with agent identifiers when appropriate. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target FastDownward compatibility, use STRIPS-style predicates and actions where possible, and avoid planner-specific extensions. Ensure initial state and goal reflect the public information.",
                "prompt": "You receive the truck specification, the airplane specification, and the auditor report. Integrate them to produce a PDDL domain and a PDDL problem for FastDownward that solves the global goal: package_0 at location_1_0 and package_1 at location_1_0. Keep truck and airplane actions distinct. Include predicates for package locations, in-truck, in-airplane, truck-at, airplane-at, located-in-city, airport predicates, and any auxiliary predicates recommended by the auditor. Enclose the pddl domain between <domain></domain> tags and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_operator.spec->orchestrator.pddl",
            "air_operator.spec->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}