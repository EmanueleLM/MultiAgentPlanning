{
    "name": "Logistics10",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "There is exactly one truck per city.",
                "Trucks can drive between any two locations within the same city.",
                "Loading into a truck requires the package and the truck to be in the same location.",
                "When a package is loaded into a truck it ceases to be at the location and is considered inside the truck.",
                "Unloading from a truck requires the package to be inside the truck and places the package at the truck's current location."
            ],
            "goal": "Contribute models and constraints for truck-based transport so that packages can be moved within cities toward the final destinations."
        },
        "airplane_agent": {
            "private_information": [
                "Each city has exactly one location that serves as an airport.",
                "Airplanes can fly between airports in different cities.",
                "Loading into an airplane requires the package and the airplane to be at the same airport location.",
                "When a package is loaded into an airplane it is no longer at the location and is considered inside the airplane.",
                "Unloading from an airplane requires the package to be inside the airplane and places the package at the airplane's current airport location."
            ],
            "goal": "Contribute models and constraints for air-based inter-city transport so that packages can be moved between cities using airports."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency of action models.",
                "I remove informal bookkeeping shortcuts such as implicit quota tokens or post-hoc penalties and require explicit preconditions and effects.",
                "I ensure action preconditions and effects are explicit, non-circular, and that concurrent assumptions are documented."
            ],
            "goal": "Analyze the partial models produced by other agents, produce an audit report with corrections and explicit causal links, and flag any implicit assumptions."
        },
        "orchestrator": {
            "private_information": [
                "I will integrate the domain models and audit reports into a single multi-agent PDDL domain and problem.",
                "The final PDDL must target the FastDownwards planner and must keep actions of different agents distinct and namespaced."
            ],
            "goal": "Integrate the truck and airplane models and the auditor report to produce a complete PDDL domain and problem that achieves the global delivery goals, suitable for FastDownwards."
        }
    },
    "environment": {
        "init": {
            "num_cities": 2,
            "locations_per_city": 2,
            "airports": [
                "location_0_0",
                "location_1_0"
            ]
        },
        "public_information": [
            "There are two cities: city_0 and city_1.",
            "Each city contains two locations: city_0 contains location_0_0 and location_0_1; city_1 contains location_1_0 and location_1_1.",
            "Within a city, any two locations are directly connected for trucks.",
            "Between cities, airports are directly connected for airplanes.",
            "location_0_0 is an airport.",
            "location_1_0 is an airport.",
            "Initial placement: airplane_0 is at location_0_0.",
            "Initial placement: package_0 is at location_0_0.",
            "Initial placement: package_1 is at location_1_1.",
            "Initial placement: package_2 is at location_0_1.",
            "Initial placement: truck_0 is at location_0_0.",
            "Initial placement: truck_1 is at location_1_0.",
            "Location-city membership: location_0_0 is in city_0, location_0_1 is in city_0, location_1_0 is in city_1, location_1_1 is in city_1.",
            "Global goal: package_0 is at location_1_0, package_1 is at location_1_0, and package_2 is at location_1_0."
        ]
    },
    "workflow": {
        "truck_agent": {
            "analysis": {
                "input": [],
                "output": "truck_model",
                "system_prompt": "You are a transport domain expert for ground vehicles. Provide precise, structured action schemas, preconditions, and effects for truck actions that operate within a city. Do not emit PDDL. Instead, return a neutral structured model that lists action names, parameters, preconditions, and effects. Make all assumptions explicit and avoid bookkeeping shortcuts.",
                "prompt": "Your name is truck_agent. You have the following public information: {environment->public_information}. You have the following private knowledge: {agents->truck_agent->private_information}. Your objective is: {agents->truck_agent->goal}. Provide a clear, unambiguous structured model for the actions: load into truck, unload from truck, drive truck between locations in the same city. Enumerate preconditions and effects and any required type declarations or predicates."
            }
        },
        "airplane_agent": {
            "analysis": {
                "input": [],
                "output": "airplane_model",
                "system_prompt": "You are a transport domain expert for aircraft. Provide precise, structured action schemas, preconditions, and effects for airplane actions that operate between airports. Do not emit PDDL. Instead, return a neutral structured model that lists action names, parameters, preconditions, and effects. Make all assumptions explicit and avoid bookkeeping shortcuts.",
                "prompt": "Your name is airplane_agent. You have the following public information: {environment->public_information}. You have the following private knowledge: {agents->airplane_agent->private_information}. Your objective is: {agents->airplane_agent->goal}. Provide a clear, unambiguous structured model for the actions: load into airplane, unload from airplane, fly airplane between airports. Enumerate preconditions and effects and any required type declarations or predicates."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_model",
                    "airplane_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency. Inspect the structured models from other agents and produce an audit report that removes implicit bookkeeping shortcuts, makes concurrency assumptions explicit, and corrects or augments preconditions and effects to avoid causal cycles. Do not emit PDDL. Provide explicit corrections and a concise summary of any required additional predicates or invariants.",
                "prompt": "Your name is auditor. You will receive the truck model and the airplane model. Your private knowledge: {agents->auditor->private_information}. Your objective: {agents->auditor->goal}. Analyze the inputs {truck_model} and {airplane_model} and produce an audit report named {audit_report} that lists corrections, additional predicates, and explicit causal ordering constraints required for a sound multi-modal logistics domain."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_model",
                    "airplane_model",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL modeling and in preparing problems for the FastDownwards planner. Integrate the supplied structured models and the auditor report into a single complete PDDL domain and a PDDL problem. Keep actions of different agents distinct by namespacing or clear prefixes. Ensure types, predicates, action schemas, initial state, and goal are fully specified. The produced PDDL must be compatible with FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are the orchestrator. You will receive the outputs {truck_model}, {airplane_model}, and {audit_report}. Your private knowledge: {agents->orchestrator->private_information}. Your objective: {agents->orchestrator->goal}. Integrate the inputs, resolve naming discrepancies, and produce a final PDDL domain and PDDL problem suitable for FastDownwards. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep truck and airplane actions distinct and ensure the initial state matches the environment public information and the global goal."
            }
        },
        "constraints": [
            "truck_agent.analysis->orchestrator.pddl",
            "airplane_agent.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}