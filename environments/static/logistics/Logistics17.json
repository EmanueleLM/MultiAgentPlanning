{
    "name": "Logistics17",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "modeler",
            "analyst",
            "validator",
            "orchestrator"
        ],
        "modeler": {
            "private_information": [
                "Expert in STRIPS-style lifted action modeling",
                "Will normalize predicates and actions from text into structured JSON without emitting PDDL"
            ],
            "goal": "Extract a coherent set of lifted action schemas with parameters, preconditions, and effects from the public description."
        },
        "analyst": {
            "private_information": [
                "Expert in grounding and instance preparation",
                "Will prepare initial states, goals, and candidate plans as structured data without emitting PDDL"
            ],
            "goal": "Produce grounded instances for each scenario including object universe, initial facts, goals, and the provided plan for scenario 1."
        },
        "validator": {
            "private_information": [
                "Performs plan validation and causal analysis using action schemas and grounded instances",
                "Will not emit PDDL, only diagnostics"
            ],
            "goal": "Validate or diagnose the candidate plan for scenario 1, derive causal links, open preconditions, and recommendations useful for the orchestrator."
        },
        "orchestrator": {
            "private_information": [
                "Coordinates other agents and emits final solver-ready artifacts"
            ],
            "goal": "Integrate the structured action schemas and instances to produce a consistent PDDL domain and two PDDL problems targeting the FastDownward solver, one per scenario, wrapped in <domain></domain> and <problem></problem> tags."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8",
                "object_9",
                "object_10",
                "object_11",
                "object_12",
                "object_13"
            ],
            "notes": "Predicates include unary: cats(x), hand(x), sneeze(x), spring(x), stupendous(x), texture(x); binary: next(x,y), vase(x,y), collect(x,y)."
        },
        "public_information": [
            "Available lifted actions with positional arguments: paltry(x,y,z), sip(x,y,z), clip(x,y,z), wretched(a,b,c,d), memory(x,y,z), tightfisted(x,y,z).",
            "paltry preconditions: hand(object_0), cats(object_1), texture(object_2), vase(object_0,object_1), next(object_1,object_2). paltry add effects: next(object_0,object_2). paltry delete effects: vase(object_0,object_1).",
            "sip preconditions: hand(object_0), cats(object_1), texture(object_2), next(object_0,object_2), next(object_1,object_2). sip add effects: vase(object_0,object_1). sip delete effects: next(object_0,object_2).",
            "clip preconditions: hand(object_0), sneeze(object_1), texture(object_2), next(object_1,object_2), next(object_0,object_2). clip add effects: vase(object_0,object_1). clip delete effects: next(object_0,object_2).",
            "wretched preconditions: sneeze(object_0), texture(object_1), texture(object_2), stupendous(object_3), next(object_0,object_1), collect(object_1,object_3), collect(object_2,object_3). wretched add effects: next(object_0,object_2). wretched delete effects: next(object_0,object_1).",
            "memory preconditions: cats(object_0), spring(object_1), spring(object_2), next(object_0,object_1). memory add effects: next(object_0,object_2). memory delete effects: next(object_0,object_1).",
            "tightfisted preconditions: hand(object_0), sneeze(object_1), texture(object_2), next(object_1,object_2), vase(object_0,object_1). tightfisted add effects: next(object_0,object_2). tightfisted delete effects: vase(object_0,object_1).",
            "Scenario 1 initial facts: cats(object_0), cats(object_1), collect(object_6,object_2), collect(object_7,object_2), collect(object_8,object_3), collect(object_9,object_3), hand(object_10), hand(object_11), hand(object_12), hand(object_13), next(object_0,object_6), next(object_1,object_6), next(object_10,object_9), next(object_11,object_8), next(object_12,object_9), next(object_13,object_6), next(object_4,object_7), next(object_5,object_9), sneeze(object_4), sneeze(object_5), spring(object_6), spring(object_8), stupendous(object_2), stupendous(object_3), texture(object_6), texture(object_7), texture(object_8), texture(object_9).",
            "Scenario 1 goal facts: next(object_10,object_6), next(object_11,object_9), next(object_12,object_7), next(object_13,object_9).",
            "Scenario 1 candidate plan (sequence): clip object_12 object_5 object_9 ; clip object_10 object_5 object_9 ; sip object_13 object_1 object_6 ; wretched object_5 object_9 object_8 object_3 ; clip object_11 object_5 object_8 ; memory object_1 object_6 object_8 ; paltry object_13 object_1 object_8 ; clip object_13 object_5 object_8 ; tightfisted object_12 object_5 object_8 ; tightfisted object_10 object_5 object_8 ; wretched object_5 object_8 object_9 object_3 ; tightfisted object_13 object_5 object_9 ; tightfisted object_11 object_5 object_9 ; sip object_12 object_1 object_8 ; sip object_10 object_1 object_8 ; memory object_1 object_8 object_6 ; paltry object_12 object_1 object_6 ; paltry object_10 object_1 object_6 ; wretched object_4 object_7 object_6 object_2 ; clip object_12 object_4 object_6 ; wretched object_4 object_6 object_7 object_2 ; tightfisted object_12 object_4 object_7.",
            "Scenario 2 initial facts: cats(object_0), cats(object_1), collect(object_6,object_2), collect(object_7,object_2), collect(object_8,object_3), collect(object_9,object_3), hand(object_10), hand(object_11), hand(object_12), hand(object_13), next(object_0,object_8), next(object_1,object_8), next(object_10,object_7), next(object_11,object_9), next(object_12,object_8), next(object_13,object_9), next(object_4,object_7), next(object_5,object_9), sneeze(object_4), sneeze(object_5), spring(object_6), spring(object_8), stupendous(object_2), stupendous(object_3), texture(object_6), texture(object_7), texture(object_8), texture(object_9).",
            "Scenario 2 goal facts: next(object_10,object_6), next(object_11,object_8), next(object_12,object_7), next(object_13,object_9).",
            "Scenario 2 candidate plan: none provided; the planner should synthesize a valid sequence."
        ]
    },
    "workflow": {
        "modeler": {
            "extract_actions": {
                "input": [],
                "output": "actions_schema",
                "system_prompt": "You are a STRIPS modeling expert. From the environment public information, extract the lifted action schemas with parameter lists and normalize all predicates and actions into a structured, implementation-agnostic JSON object. Do not emit PDDL. Use keys: name, parameters (ordered list, e.g., [x,y,z]), preconditions_pos, preconditions_neg (if any), add_effects, del_effects. Keep predicate names and their arities exactly as given.",
                "prompt": "Your name is modeler. Read the available actions and their textual preconditions and effects from {environment->public_information}. Produce a single JSON object with fields actions (list of action schemas) and predicates (unique predicate signatures). Do not invent actions or predicates and do not output PDDL."
            }
        },
        "analyst": {
            "summarize_scenarios": {
                "input": [],
                "output": "instances_struct",
                "system_prompt": "You prepare grounded instances. Convert each scenario's initial facts and goals into normalized JSON with explicit object universe and fact lists. Include the provided candidate plan for scenario 1 as a list of grounded steps where each step is an object with name and args. Do not emit PDDL.",
                "prompt": "Your name is analyst. From {environment->public_information}, enumerate the object universe {object_0..object_13} and produce JSON with keys: universe (list of object names), scenario_1 {init: [facts], goal: [facts], plan: [steps]}, scenario_2 {init: [facts], goal: [facts], plan: []}. Each fact is a JSON object with predicate and args. Steps use the action names exactly as given."
            }
        },
        "validator": {
            "check_plan": {
                "input": [
                    "actions_schema",
                    "instances_struct"
                ],
                "output": "plan_validation",
                "system_prompt": "You validate the candidate plan for scenario 1 by simulating STRIPS progression with the provided action schemas and initial state. Report whether the plan achieves the goal. Provide first-failure information if any: step index, missing preconditions, and conflicting deletes. Also produce causal links and a list of open goals for scenario 2 to guide future planning. Do not emit PDDL.",
                "prompt": "Your name is validator. Using the model from actions_schema and the instances from instances_struct, simulate the scenario 1 plan. Output JSON with keys: valid (boolean), final_state_summary (subset of key facts), failures (list), causal_links (list), recommendations (list of modeling or ordering hints), and scenario_2_open_goals (list)."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "actions_schema",
                    "instances_struct",
                    "plan_validation"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert multi-agent orchestrator that compiles structured models into solver-ready PDDL targeting the FastDownward planner. Produce a single response that contains exactly one PDDL domain followed by two PDDL problem files (scenario_1 and scenario_2). Use only STRIPS features supported by FastDownward, avoid negative preconditions and conditional effects. Use a single untyped domain with objects declared in each problem. Ensure action names and predicate names match the extracted schemas exactly. Wrap the PDDL domain between <domain></domain> and each PDDL problem between <problem id=\"scenario_1\"></problem> and <problem id=\"scenario_2\"></problem>. Where a candidate plan exists (scenario_1), optionally include a plan hint as PDDL comments; do not depend on it for correctness.",
                "prompt": "Integrate {actions_schema}, {instances_struct}, and {plan_validation} into a consistent PDDL domain and two PDDL problems ready for FastDownward. Keep the lifted action definitions faithful to the schemas. List all objects in each problem under :objects. Put initial facts under :init and goals under :goal using an and clause. Do not add extraneous predicates or constants."
            }
        },
        "constraints": [
            "modeler.extract_actions->validator.check_plan",
            "analyst.summarize_scenarios->validator.check_plan",
            "modeler.extract_actions->orchestrator.synthesize_pddl",
            "analyst.summarize_scenarios->orchestrator.synthesize_pddl",
            "validator.check_plan->orchestrator.synthesize_pddl"
        ]
    }
}