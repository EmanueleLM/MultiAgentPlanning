{
    "name": "Logistics19",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "I operate the truck in my city and can load, unload, and drive between locations inside the same city.",
                "Trucks cannot leave their city and can carry multiple packages subject to capacity constraints if stated."
            ],
            "goal": "Contribute to moving packages so that package_0 is at location_1_1."
        },
        "airplane_agent": {
            "private_information": [
                "I operate the airplane connecting city airports and can load, unload, and fly between airports of different cities.",
                "Airplanes move only between airport locations, one airport per city."
            ],
            "goal": "Contribute to moving packages so that package_0 is at location_1_1."
        },
        "auditor": {
            "private_information": [
                "I check temporal and causal consistency and remove modeling shortcuts such as quota tokens, post-hoc penalties, and other bookkeeping shortcuts.",
                "I produce an audited, explicit action schema set that enforces preconditions and effects without implicit shortcuts."
            ],
            "goal": "Audit other agents' action schemas and ensure a causally and temporally consistent model that can be integrated into a final PDDL."
        },
        "orchestrator": {
            "private_information": [
                "I integrate agent descriptions and the auditor report into a single PDDL domain and problem targeted to the FastDownwards planner."
            ],
            "goal": "Produce a complete PDDL domain and problem that achieves the goal package_0 at location_1_1 using the agents' capabilities."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 3
        },
        "public_information": [
            "There are two cities: city_0 and city_1.",
            "Each city has three locations: city_0 has location_0_0, location_0_1, location_0_2 and city_1 has location_1_0, location_1_1, location_1_2.",
            "Each city has exactly one truck assigned to it.",
            "Each city has exactly one airport location which is location_0_0 for city_0 and location_1_0 for city_1.",
            "Trucks can drive between any two locations within the same city.",
            "Airplanes fly between airports; flights move an airplane from an airport in one city to an airport in another city.",
            "Action restrictions: A package can be loaded into a vehicle only if the package and the vehicle are in the same location. Loading removes the package from the location and places it in the vehicle. Unloading requires the package to be in the vehicle and places the package at the vehicle location. Driving a truck requires the truck to be at the from-location and both locations to belong to the same city. Flying an airplane requires the airplane to be at the from-location and both from and to locations to be airports. After moving, the vehicle is at the destination and no longer at the origin.",
            "Initial facts: location_0_0 is an airport. location_1_0 is an airport. airplane_0 is at location_0_0. package_0 is at location_1_0. truck_0 is at location_0_0. truck_1 is at location_1_2. location_0_0 is in city_0. location_0_1 is in city_0. location_0_2 is in city_0. location_1_0 is in city_1. location_1_1 is in city_1. location_1_2 is in city_1.",
            "Global goal: package_0 is at location_1_1."
        ]
    },
    "workflow": {
        "truck_agent": {
            "describe": {
                "input": [],
                "output": "desc_truck",
                "system_prompt": "You are an expert on intra-city ground logistics and action modeling. Provide a clear structured description of the truck actions you can perform, including action names, parameters, preconditions, and effects. Do not produce a full PDDL domain or problem. Highlight any assumptions and capacity or ordering constraints explicitly.",
                "prompt": "Your name is truck_agent. You see the following public information: {environment->public_information}. You know: {agents->truck_agent->private_information}. Your contribution should be a structured description of truck actions relevant to the task, listing for each action the parameters, preconditions, and effects, and any assumptions. Avoid outputting PDDL. The global goal is: {agents->truck_agent->goal}."
            }
        },
        "airplane_agent": {
            "describe": {
                "input": [],
                "output": "desc_airplane",
                "system_prompt": "You are an expert on inter-city air logistics and action modeling. Provide a clear structured description of the airplane actions you can perform, including action names, parameters, preconditions, and effects. Do not produce a full PDDL domain or problem. Highlight any assumptions about airports and flight connectivity.",
                "prompt": "Your name is airplane_agent. You see the following public information: {environment->public_information}. You know: {agents->airplane_agent->private_information}. Your contribution should be a structured description of airplane actions relevant to the task, listing for each action the parameters, preconditions, and effects, and any assumptions. Avoid outputting PDDL. The global goal is: {agents->airplane_agent->goal}."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "desc_truck",
                    "desc_airplane"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency for planning models. Your job is to examine other agents' structured action descriptions and produce an audited model that removes implicit bookkeeping shortcuts. Produce explicit preconditions and effects, enforce causal ordering where needed, and flag or correct any assumptions that would break FastDownwards compatibility. Do not emit the final PDDL domain or problem.",
                "prompt": "Your name is auditor. You will receive the truck action description and the airplane action description. Your task is to audit those descriptions for temporal and causal consistency and to remove modeling shortcuts such as quota tokens, post-hoc penalties, or other informal bookkeeping. Return a cleaned, explicit model suitable for translation into PDDL. Inputs: {desc_truck} {desc_airplane}. Your output should be an audit report named audit_report that lists corrected action schemas and any unresolved assumptions."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "desc_truck",
                    "desc_airplane",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL modeling and planners. You must integrate the agents' descriptions and the auditor report into a single PDDL domain and problem file targeted to the FastDownwards planner. Produce a PDDL domain enclosed between <domain> and </domain> tags and a PDDL problem enclosed between <problem> and </problem> tags. Keep each agent's actions distinct by prefixing action names with the agent name. Ensure the PDDL uses features supported by FastDownwards and include :requirements compatible with that solver. If any information is missing, make minimal explicit assumptions and list them in comments in the PDDL problem file.",
                "prompt": "Your name is orchestrator. Your goal is: {agents->orchestrator->goal}. You will receive the following inputs: the truck description desc_truck: {desc_truck}, the airplane description desc_airplane: {desc_airplane}, and the auditor report audit_report: {audit_report}. Integrate these inputs into a single PDDL domain and a PDDL problem compatible with the FastDownwards solver. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. Keep truck and airplane actions distinct by naming them with agent prefixes. Explicitly include initial state facts given in the public information and the global goal. List any assumptions as comments inside the PDDL problem."
            }
        },
        "constraints": [
            "truck_agent.describe->auditor.audit",
            "airplane_agent.describe->auditor.audit",
            "truck_agent.describe->orchestrator.pddl",
            "airplane_agent.describe->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}