{
    "name": "Logistics21",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_operator",
            "airplane_operator",
            "auditor",
            "orchestrator"
        ],
        "truck_operator": {
            "private_information": [
                "I control the trucks and their local moves within a city.",
                "Trucks can load and unload packages at locations inside their city.",
                "There is exactly one truck per city."
            ],
            "goal": "Provide a precise, structured analysis of truck-related action schemas, preconditions, and effects relevant to transporting packages within each city."
        },
        "airplane_operator": {
            "private_information": [
                "I control the airplanes and their inter-city flights via airports.",
                "Airplanes can load and unload packages only at airport locations.",
                "Airplanes move between airports (one airport per city)."
            ],
            "goal": "Provide a precise, structured analysis of airplane-related action schemas, preconditions, and effects relevant to transporting packages between cities."
        },
        "auditor": {
            "private_information": [
                "I audit models for temporal and causal consistency.",
                "I detect and remove bookkeeping shortcuts such as abstract quota tokens or post-hoc penalties.",
                "I ensure actions are causally grounded (no implicit teleportation or hidden counters)."
            ],
            "goal": "Audit the partial models produced by the other agents for causal and temporal consistency and return a clean audit report describing required fixes and any tightened preconditions or effects."
        },
        "orchestrator": {
            "private_information": [
                "I integrate partial models and the audit report into a final PDDL domain and problem.",
                "The final PDDL must be suitable for the FastDownward planner and must keep agent actions distinct."
            ],
            "goal": "Produce the final PDDL domain and PDDL problem that solve the logistics task and are compatible with FastDownward. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 3
        },
        "public_information": [
            "There are two cities: city_0 and city_1.",
            "Each city has three locations: location_0_0, location_0_1, location_0_2 belong to city_0; location_1_0, location_1_1, location_1_2 belong to city_1.",
            "In each city exactly one location is an airport: location_0_0 is the airport of city_0 and location_1_0 is the airport of city_1.",
            "Locations within a city are directly connected so trucks can drive between any two locations in the same city.",
            "Cities are connected via their airports so airplanes fly from an airport in one city to an airport in another city.",
            "There is exactly one truck per city: truck_0 is the truck for city_0 and truck_1 is the truck for city_1.",
            "There is at least one airplane operating between the cities.",
            "Initial facts: location_0_0 is an airport, location_1_0 is an airport, airplane_0 is at location_0_0, package_0 is at location_1_1, package_1 is at location_1_2, truck_0 is at location_0_1, truck_1 is at location_1_0.",
            "Location membership facts: location_0_0 is in city_0, location_0_1 is in city_0, location_0_2 is in city_0, location_1_0 is in city_1, location_1_1 is in city_1, location_1_2 is in city_1.",
            "Goal facts: package_0 should be at location_0_2 and package_1 should be at location_0_0."
        ]
    },
    "workflow": {
        "truck_operator": {
            "analysis": {
                "input": [],
                "output": "partial_truck_model",
                "system_prompt": "You are the truck expert. Provide a clear, structured description of truck-related actions for this logistics domain. For each action include name, parameters, precise preconditions, precise effects, and any typing or domain predicates required. Do not emit PDDL domain or problem files. Focus on load_truck, unload_truck, and drive_truck actions and specify how package location and in-truck predicates change.",
                "prompt": "You are truck_operator. Use the environment public information and your private knowledge to enumerate action schemas for trucks, list required predicates (for example at, in-truck, truck-at, location-in-city), and describe any typing assumptions. Return the result as structured plain text or JSON-like lists."
            }
        },
        "airplane_operator": {
            "analysis": {
                "input": [],
                "output": "partial_airplane_model",
                "system_prompt": "You are the airplane expert. Provide a clear, structured description of airplane-related actions for this logistics domain. For each action include name, parameters, precise preconditions, precise effects, and any typing or domain predicates required. Do not emit PDDL domain or problem files. Focus on load_plane, unload_plane, and fly_plane actions and specify how package location and in-plane predicates change.",
                "prompt": "You are airplane_operator. Use the environment public information and your private knowledge to enumerate action schemas for airplanes, list required predicates (for example at, in-plane, plane-at, airport predicate, location-in-city), and describe any typing assumptions. Return the result as structured plain text or JSON-like lists."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "partial_truck_model",
                    "partial_airplane_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are the auditor responsible for checking temporal and causal consistency and for removing bookkeeping shortcuts. Analyze the partial models you receive and identify missing causal links, implicit state changes, or shortcut tokens. Recommend concrete corrections to preconditions and effects so the final PDDL will be causally explicit and temporally sound. Produce a concise audit report listing issues and suggested fixes.",
                "prompt": "You are auditor. Receive the partial truck and airplane models, check for causal or temporal inconsistencies (for example actions that implicitly teleport packages, missing negation of previous literals, or uses of shortcut counters). Provide a corrected set of constraints or edits that the orchestrator must apply to produce a sound PDDL model."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "partial_truck_model",
                    "partial_airplane_model",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator integration expert. Using the partial models and the audit report, produce a complete PDDL domain and a PDDL problem file suitable for the FastDownward planner. Keep actions belonging to different agents distinct by naming or typing, include typing declarations and required :requirements such as :strips :typing and any other necessary features supported by FastDownward. Ensure all preconditions and effects are explicit and consistent with the auditor's corrections. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target FastDownward compatibility and avoid nonstandard extensions.",
                "prompt": "You are orchestrator. Integrate the truck and airplane partial models and the auditor report to produce a final PDDL domain and problem that achieve the goal: package_0 at location_0_2 and package_1 at location_0_0 starting from the given initial facts. Keep agent actions distinct and ensure the domain is compatible with FastDownward. Enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_operator.analysis->orchestrator.pddl",
            "airplane_operator.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    },
    "constraints": [
        "truck_operator.analysis->orchestrator.pddl",
        "airplane_operator.analysis->orchestrator.pddl",
        "auditor.audit->orchestrator.pddl"
    ]
}