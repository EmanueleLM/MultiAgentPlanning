{
    "name": "Logistics22",
    "author": "Human",
    "agents": {
        "number": 2,
        "names": [
            "LogisticsPlanner",
            "orchestrator"
        ],
        "LogisticsPlanner": {
            "private_information": [],
            "goal": "Plan the movement of package_0 to location_0_2 and package_1 to location_1_0 using trucks for intra-city movement and airplanes for inter-city movement, respecting all operational constraints regarding loading, unloading, driving, and flying."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Review and validate the generated PDDL plan, ensuring it correctly models the logistics environment defined by the initial state and constraints, and successfully achieves the transportation goals for both packages."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "This is a logistics planning task involving packages, trucks, airplanes, locations, and cities.",
            "Locations within a city are connected (trucks can move between any two locations in the same city).",
            "Each city has exactly one truck; each city has one location serving as an airport.",
            "Actions available: Load package to truck/airplane, Unload package from truck/airplane, Drive truck (intra-city), Fly airplane (inter-city between airports).",
            "Initial State:",
            "  - Cities: city_0 (Locations: location_0_0, location_0_1, location_0_2), city_1 (Locations: location_1_0, location_1_1, location_1_2).",
            "  - Airports: location_0_0 (in city_0), location_1_0 (in city_1).",
            "  - Vehicle/Package Initial Positions:",
            "    - airplane_0 is at location_1_0.",
            "    - package_0 is at location_0_1.",
            "    - package_1 is at location_1_2.",
            "    - truck_0 is at location_0_2 (in city_0).",
            "    - truck_1 is at location_1_2 (in city_1).",
            "Goal State: package_0 must be at location_0_2 AND package_1 must be at location_1_0."
        ]
    },
    "workflow": {
        "LogisticsPlanner": {
            "pddl": {
                "input": [],
                "output": "pddl_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must generate a PDDL domain and a PDDL problem file to solve the provided logistics task, ensuring all object types (city, location, package, truck, airplane) and movement constraints are correctly modeled. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your task is to model the described logistics environment and generate a plan to achieve the goal state. Use the following public information to define objects, predicates, and actions:\n{environment->public_information}\n\nGlobal Goal:\n{agents->LogisticsPlanner->goal}\n\nThink step by step and provide a complete PDDL domain and a PDDL problem file to solve the task. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_planner"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL validator and integrator targeting the FastDownwards planner. You must review the input PDDL domain and problem, focusing on temporal and causal consistency, and ensuring that the logistics constraints are strictly enforced (e.g., trucks only intra-city, airplanes only inter-city via airports). If necessary, correct any modeling errors or ambiguities. You always provide a valid PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You have received the following PDDL planning attempt from the LogisticsPlanner:\n{pddl_planner}\n\nYour goal is to validate and finalize this PDDL output to solve the goal:\n{agents->orchestrator->goal}\n\nEnsure that the final PDDL correctly captures the constraints regarding package movement and vehicle transportation. Provide the final, clean PDDL domain and problem files. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "LogisticsPlanner.pddl->orchestrator.pddl"
        ]
    }
}