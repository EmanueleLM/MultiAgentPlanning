{
    "name": "Logistics24",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_planner",
            "airplane_planner",
            "auditor",
            "orchestrator"
        ],
        "truck_planner": {
            "private_information": [
                "There is exactly one truck in each city",
                "Trucks can move between any two locations within the same city",
                "Trucks can load and unload packages when at the same location as the package"
            ],
            "goal": "Provide action schemas, preconditions, effects, and a local intra-city delivery plan to help move packages within their cities toward their goals."
        },
        "airplane_planner": {
            "private_information": [
                "Each city has exactly one airport location",
                "Airplanes operate between airports of cities",
                "Airplanes can load and unload packages when at the same airport location as the package"
            ],
            "goal": "Provide action schemas, preconditions, effects, and a high-level inter-city transfer plan using flights to move packages between cities toward their goals."
        },
        "auditor": {
            "private_information": [
                "Responsible for checking temporal and causal consistency",
                "Removes or flags bookkeeping shortcuts such as implicit token quotas or post-hoc penalties"
            ],
            "goal": "Produce an audit report that identifies causal gaps, temporal impossibilities, and suggested corrections so that plans are realistic and compatible across agents."
        },
        "orchestrator": {
            "private_information": [
                "Will integrate local models and the audit report into a single consistent PDDL domain and problem",
                "Target solver: FastDownward"
            ],
            "goal": "Integrate inputs from other agents and produce a final PDDL domain and problem ready to be solved by FastDownward that achieves the global package-delivery goal."
        }
    },
    "environment": {
        "init": {
            "cities_count": 2,
            "locations_per_city": 3,
            "airports_per_city": 1
        },
        "public_information": [
            "There are two cities: city_0 and city_1",
            "Each city has three locations: location_<city>_0, location_<city>_1, location_<city>_2",
            "In each city exactly one location is the airport: location_0_0 is an airport and location_1_0 is an airport",
            "Locations in a city are directly connected so trucks can drive between any pair of locations in the same city",
            "Cities are connected through airports so airplanes fly between the airport locations of cities",
            "Initial facts: airplane_0 is at location_1_0",
            "Initial facts: package_0 is at location_1_2",
            "Initial facts: package_1 is at location_0_1",
            "Initial facts: package_2 is at location_1_1",
            "Initial facts: truck_0 is at location_0_2",
            "Initial facts: truck_1 is at location_1_2",
            "Location membership: location_0_0 is in city_0, location_0_1 is in city_0, location_0_2 is in city_0, location_1_0 is in city_1, location_1_1 is in city_1, location_1_2 is in city_1",
            "Global goal: package_0 at location_1_0, package_1 at location_1_0, package_2 at location_1_2",
            "Action primitives available: load-truck, unload-truck, drive-truck, load-airplane, unload-airplane, fly-airplane"
        ]
    },
    "workflow": {
        "truck_planner": {
            "model": {
                "input": [],
                "output": "truck_model",
                "system_prompt": "You are the intra-city truck planning expert. Produce clear action schemas for truck actions (load-truck, unload-truck, drive-truck) with descriptive preconditions and effects and a suggested local plan fragment to move packages inside each city toward their goals. Describe assumptions explicitly and avoid producing final PDDL; produce a structured model summary that states object types, predicates used, and the action signatures.",
                "prompt": "You are truck_planner. Use the public information about the environment and your private knowledge to describe truck action schemas, intra-city movement constraints, and suggested local delivery steps. Do not output final PDDL. If information is missing, list the uncertainty rather than making hidden assumptions."
            }
        },
        "airplane_planner": {
            "model": {
                "input": [],
                "output": "airplane_model",
                "system_prompt": "You are the inter-city flight planning expert. Produce clear action schemas for airplane actions (load-airplane, unload-airplane, fly-airplane) with descriptive preconditions and effects and a suggested high-level flight plan to move packages between cities. Describe assumptions explicitly and avoid producing final PDDL; produce a structured model summary that states object types, predicates used, and the action signatures.",
                "prompt": "You are airplane_planner. Use the public information about the environment and your private knowledge to describe airplane action schemas, airport-to-airport flight constraints, and suggested inter-city transfer steps. Do not output final PDDL. If information is missing, list the uncertainty rather than making hidden assumptions."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_model",
                    "airplane_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specializing in temporal and causal consistency and in removing bookkeeping shortcuts. Analyze the supplied action schemas and model fragments, detect temporal impossibilities, causal gaps, and any use of bookkeeping shortcuts (for example, implicit quotas, invisible tokens, or post-hoc penalties). Produce a concise report with identified issues, recommended corrections, and canonicalized predicates/actions to improve cross-agent integration.",
                "prompt": "You are auditor. Given the truck_model and airplane_model, check consistency between preconditions and effects, ensure that loading/unloading and movement actions are causally coherent, and flag or correct any bookkeeping shortcuts. Produce a report that the orchestrator can consume to produce a clean PDDL domain and problem."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_model",
                    "airplane_model",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator that integrates agent models and the auditor report to produce a single coherent PDDL domain and PDDL problem file suitable for the FastDownward solver. Generate a complete PDDL domain and a complete PDDL problem that implements the verified action schemas, object declarations, initial state and goal. Use PDDL constructs supported by FastDownward; prefer STRIPS/typing and avoid solver-specific extensions. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "You are orchestrator. Integrate the public environment information and the inputs from truck_planner, airplane_planner, and auditor to emit a final PDDL domain and problem ready for FastDownward. Keep actions of trucks and airplanes distinct, reflect the audited corrections, declare objects (packages, trucks, airplanes, locations, cities), declare which locations are airports, set initial facts exactly as provided, and set the goal that package_0 and package_1 are at location_1_0 and package_2 is at location_1_2. Enclose the domain in <domain></domain> and the problem in <problem></problem>."
            }
        },
        "constraints": [
            "truck_planner.model->orchestrator.pddl",
            "airplane_planner.model->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}