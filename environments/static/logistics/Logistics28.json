{
    "name": "Logistics28",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "I control the trucks in each city (one truck per city).",
                "Trucks can load and unload packages at locations inside their city and drive between any two locations within the same city.",
                "A package loaded into a truck is no longer at the location and is considered to be in the truck until unloaded."
            ],
            "goal": "Propose feasible local (intra-city) actions to move packages using trucks to support the global delivery goals."
        },
        "airplane_agent": {
            "private_information": [
                "I control the airplanes that fly between cities (airplanes move between airports).",
                "Each city has exactly one airport location; airplanes can load/unload packages only at airports.",
                "A package loaded into an airplane is no longer at the airport location and is in the airplane until unloaded."
            ],
            "goal": "Propose feasible inter-city actions (flights and airport load/unload operations) to support the global delivery goals."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency across agents' proposals.",
                "I detect and remove bookkeeping shortcuts (quota tokens, post-hoc penalties, or implicit assumptions) and normalize plans into explicit causally consistent steps.",
                "I verify preconditions and effects of actions, ensure location/city consistency, and flag or correct ambiguous references."
            ],
            "goal": "Produce a causally and temporally consistent, explicit plan fragment integrating truck and airplane proposals, and produce an audit report describing corrections and assumptions made."
        },
        "orchestrator": {
            "private_information": [
                "I must integrate reports from truck and airplane agents and the auditor, resolving naming mismatches and producing the final PDDL domain and problem.",
                "The final PDDL must be suitable for the FastDownward planner and keep agent actions distinct (truck actions separate from airplane actions)."
            ],
            "goal": "Produce a complete PDDL domain and PDDL problem (enclosed between <domain></domain> and <problem></problem>) that can be solved by FastDownward to achieve the global package delivery goals."
        }
    },
    "environment": {
        "init": {
            "cities": [
                "city_0",
                "city_1"
            ],
            "locations": [
                "location_0_0",
                "location_0_1",
                "location_0_2",
                "location_1_0",
                "location_1_1",
                "location_1_2"
            ],
            "airports": [
                "location_0_0",
                "location_1_0"
            ],
            "initial_positions": {
                "airplane_0": "location_1_0",
                "truck_0": "location_0_1",
                "truck_1": "location_1_1",
                "package_0": "location_1_2",
                "package_1": "location_0_0",
                "package_2": "location_0_2",
                "package_3": "location_1_1"
            },
            "location_city": {
                "location_0_0": "city_0",
                "location_0_1": "city_0",
                "location_0_2": "city_0",
                "location_1_0": "city_1",
                "location_1_1": "city_1",
                "location_1_2": "city_1"
            }
        },
        "public_information": [
            "There are two cities: city_0 and city_1.",
            "Each city contains three locations: for city_0: location_0_0, location_0_1, location_0_2; for city_1: location_1_0, location_1_1, location_1_2.",
            "location_0_0 is an airport for city_0 and location_1_0 is an airport for city_1.",
            "Each city has exactly one truck located initially as specified in initial_positions.",
            "Trucks can move between any two locations within the same city.",
            "Airplanes can fly between airports in different cities; flights occur between airport locations.",
            "A package can be loaded into a truck or an airplane only if the package and the vehicle are co-located at the same location.",
            "Loading a package into a vehicle removes it from the location and places it into the vehicle.",
            "Unloading a package from a vehicle places the package at the vehicle's current location and removes it from the vehicle.",
            "Driving a truck changes its location within the same city.",
            "Flying an airplane moves it between airports in different cities."
        ]
    },
    "workflow": {
        "truck_agent": {
            "analysis": {
                "input": [],
                "output": "truck_report",
                "system_prompt": "You are an expert in ground logistics and truck operations. Provide clear, step-by-step action sequences and the required preconditions/effects for truck-related operations (load, unload, drive) constrained to a single city. Do not emit PDDL. Enumerate assumptions you need to make explicit for integration.",
                "prompt": "Your name is truck_agent. You are given the public information:\n{environment->public_information}\nAnd the following local facts about positions:\n{environment->init->initial_positions}\nYour goal is:\n{agents->truck_agent->goal}\nProduce a concise report listing feasible local ground actions (with preconditions and effects) that move packages in your city to support the global goal. Explicitly list any missing information you require."
            }
        },
        "airplane_agent": {
            "analysis": {
                "input": [],
                "output": "airplane_report",
                "system_prompt": "You are an expert in air logistics (inter-city). Provide clear, step-by-step action sequences and the required preconditions/effects for airplane-related operations (load, unload, fly) between airports. Do not emit PDDL. Enumerate assumptions you need to make explicit for integration.",
                "prompt": "Your name is airplane_agent. You are given the public information:\n{environment->public_information}\nAnd the following local facts about positions:\n{environment->init->initial_positions}\nYour goal is:\n{agents->airplane_agent->goal}\nProduce a concise report listing feasible inter-city actions (with preconditions and effects) that move packages between airports to support the global goal. Explicitly list any missing information you require."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_report",
                    "airplane_report"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor of plans that enforces temporal and causal consistency across multiple agents. Remove bookkeeping shortcuts and normalize plans into explicit, causally-ordered steps. Do not emit PDDL. Produce an audit report that documents corrections, resolved ambiguities, and a temporally consistent integration of the provided reports.",
                "prompt": "Your name is auditor. You receive the following reports from agents:\n{truck_report}\n{airplane_report}\nYour responsibilities:\n- Detect and eliminate implicit bookkeeping shortcuts or post-hoc adjustments.\n- Ensure preconditions and effects are explicit and consistent across agents.\n- Resolve naming or reference mismatches and produce a corrected, causally ordered action fragment ready for orchestration.\nProduce an audit report describing corrections, explicit assumptions adopted, and the consistent sequence of actions (with explicit preconditions/effects) that should be passed to the orchestrator."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_report",
                    "airplane_report",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning for classical PDDL and must produce a complete PDDL domain and a PDDL problem suitable for the FastDownward planner. Keep actions of different agents distinct (prefix or name them so truck and airplane actions are separable). Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Do not rely on hidden bookkeeping; reflect the auditor's corrections explicitly.",
                "prompt": "You are orchestrator. Integrate the following inputs:\n{truck_report}\n{airplane_report}\n{audit_report}\nGlobal goal to achieve:\n- package_0 at location_1_1\n- package_1 at location_1_0\n- package_2 at location_0_0\n- package_3 at location_0_2\nEnvironment facts (initial):\n{environment->init}\nProduce a final PDDL domain and a PDDL problem that capture trucks, airplanes, locations, airports, cities, load/unload, drive, and fly actions. Target the PDDL output to be consumed by the FastDownward planner. Enclose the domain in <domain></domain> and the problem in <problem></problem>."
            }
        },
        "constraints": [
            "truck_agent.analysis->auditor.audit",
            "airplane_agent.analysis->auditor.audit",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}