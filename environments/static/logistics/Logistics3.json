{
    "name": "Logistics3",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "city_modeler",
            "vehicle_modeler",
            "auditor",
            "orchestrator"
        ],
        "city_modeler": {
            "private_information": [
                "There are two cities: city_0 and city_1.",
                "Each city contains exactly one location: location_0_0 in city_0 and location_1_0 in city_1.",
                "location_0_0 and location_1_0 are airports."
            ],
            "goal": "Provide a clear, unambiguous declarative model of the geographic and location topology used by planners."
        },
        "vehicle_modeler": {
            "private_information": [
                "There are two trucks, one per city: truck_0 in city_0 and truck_1 in city_1.",
                "There are two airplanes: airplane_0 and airplane_1, both initially at location_0_0.",
                "Packages: package_0 and package_1 with initial locations as stated in the environment."
            ],
            "goal": "Specify vehicle and cargo capabilities, action preconditions and effects in a structured form suitable for conversion to PDDL."
        },
        "auditor": {
            "private_information": [
                "Responsible for checking temporal and causal consistency and removing bookkeeping shortcuts and informal assumptions.",
                "Will flag implicit assumptions such as instantaneous load/unload or hidden capacity tokens."
            ],
            "goal": "Audit the models produced by other agents for causal completeness and temporal consistency and produce a correction report."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the models and the auditor report and produce a complete PDDL domain and problem targeted to the FastDownwards planner that achieves the global goal."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 1,
            "airports_per_city": 1
        },
        "public_information": [
            "There are two cities connected by air routes: city_0 and city_1.",
            "Each city has locations that are directly connected within the city for trucks.",
            "Each city has exactly one truck assigned to it.",
            "Each city has exactly one airport location.",
            "Trucks move between locations within a city, airplanes fly between airports of different cities.",
            "Load and unload actions move packages between vehicles and locations according to vehicle presence and location equality.",
            "Initial facts: location_0_0 is an airport, location_1_0 is an airport, airplane_0 is at location_0_0, airplane_1 is at location_0_0, package_0 is at location_1_0, package_1 is at location_1_0, truck_0 is at location_0_0, truck_1 is at location_1_0, location_0_0 is in city_0 and location_1_0 is in city_1.",
            "Goal: package_0 at location_1_0 and package_1 at location_0_0."
        ]
    },
    "workflow": {
        "city_modeler": {
            "model": {
                "input": [],
                "output": "model_city",
                "system_prompt": "You are an expert modeller of static geographic and topological information. Produce a precise structured description of objects (cities, locations, airports), their membership relations (location in city), and connectivity relations that are required by planners. Do not output PDDL, instead output clear lists of objects, predicates, and any naming conventions to be used by downstream agents.",
                "prompt": "Your name is city_modeler. Use the public information {environment->public_information} and your private information {agents->city_modeler->private_information} to produce a structured model describing objects, predicates, and connectivity relevant for logistics planning. Focus on clarity, no PDDL, and enumerate any assumptions you make."
            }
        },
        "vehicle_modeler": {
            "model": {
                "input": [
                    "model_city"
                ],
                "output": "model_vehicle",
                "system_prompt": "You are an expert in vehicle and cargo action specification. Produce structured action schemas for load, unload, drive, and fly with explicit preconditions and effects expressed in a declarative structured format. Describe object types, fluent predicates, and action parameterization. Do not produce PDDL here, only a structured machine-friendly specification.",
                "prompt": "Your name is vehicle_modeler. Given the city model {model_city} and public information {environment->public_information} and your private information {agents->vehicle_modeler->private_information}, produce detailed action schemas for load into truck, unload from truck, load into airplane, unload from airplane, drive truck, and fly airplane. Explicitly state preconditions and effects and any constraints like co-location or airport requirements. Enumerate any assumptions about capacities or instantaneous actions."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_city",
                    "model_vehicle"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor focused on temporal and causal consistency. Inspect structured models for hidden bookkeeping shortcuts, implicit temporal assumptions, missing causal links, and ambiguous naming. Produce a corrective report that lists each issue and precise recommended fixes in the structured modelling language used by the other agents.",
                "prompt": "Your name is auditor. Given the city model {model_city} and the vehicle model {model_vehicle}, check for temporal inconsistencies (for example missing effects that would make actions possible), causal gaps (for example loading without co-location), and any bookkeeping shortcuts (tokens or implicit counters). Output a concise list of issues and suggested corrections or clarifications that the orchestrator can apply."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_city",
                    "model_vehicle",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL integration and in producing final PDDL suitable for the FastDownwards planner. Integrate the structured models and the auditor report, resolve naming mismatches, keep actions of different agents distinct, and output a complete PDDL domain and PDDL problem that FastDownwards can solve. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure types, predicates, actions, initial state, and goal are fully specified and consistent with the provided initial facts and goal.",
                "prompt": "You are the orchestrator. Receive the city model {model_city}, the vehicle model {model_vehicle}, and the auditor report {audit_report}. Integrate them into a complete PDDL domain and problem aimed at FastDownwards. Keep agent actions namespaced or distinct where appropriate, ensure airports and intra-city connections are modeled, ensure load/unload drive/fly semantics reflect the constraints in the public information, and ensure the initial state and goals match the environment public information. Output the PDDL domain and problem, with the domain enclosed in <domain></domain> and the problem enclosed in <problem></problem>."
            }
        },
        "constraints": [
            "city_modeler.model->vehicle_modeler.model",
            "city_modeler.model->auditor.audit",
            "vehicle_modeler.model->auditor.audit",
            "city_modeler.model->orchestrator.pddl",
            "vehicle_modeler.model->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    },
    "constraints": []
}