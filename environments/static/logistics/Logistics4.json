{
    "name": "Logistics4",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_operator",
            "air_operator",
            "auditor",
            "orchestrator"
        ],
        "truck_operator": {
            "private_information": [
                "There is exactly one truck per city",
                "Trucks can load and unload packages at locations in their city",
                "Trucks can drive between any two locations inside the same city"
            ],
            "goal": "Contribute a city-level plan to move package_0 toward its destination while respecting truck constraints"
        },
        "air_operator": {
            "private_information": [
                "Airplanes operate between airports, one airport per city exists",
                "An airplane must be at an airport to load or unload packages",
                "Flying moves an airplane from the airport of one city to the airport of another city"
            ],
            "goal": "Contribute an inter-city flight plan to move package_0 between cities using airports"
        },
        "auditor": {
            "private_information": [
                "Expert in temporal and causal consistency of multi-agent plans",
                "Removes bookkeeping shortcuts and ensures no implicit assumptions about time or capacity are introduced"
            ],
            "goal": "Audit agent plans for causal and temporal consistency and produce corrections or constraints to make plans executable without shortcuts"
        },
        "orchestrator": {
            "private_information": [
                "Coordinator that integrates per-vehicle plans into a unified PDDL model for the FastDownwards solver"
            ],
            "goal": "Produce the final combined PDDL domain and problem for FastDownwards that achieves package_0 at location_1_1"
        }
    },
    "environment": {
        "init": {
            "cities_count": 2,
            "locations_per_city": 2,
            "visibility": 1
        },
        "public_information": [
            "There are two cities: city_0 and city_1",
            "Each city has two locations: city_0 has location_0_0 and location_0_1, city_1 has location_1_0 and location_1_1",
            "location_0_0 is the airport in city_0 and location_1_0 is the airport in city_1",
            "Airplanes move between airports only",
            "Trucks move between any two locations inside the same city",
            "A package can be loaded into a truck only if the package and the truck are in the same location",
            "When loaded into a truck the package is no longer at the location and is in the truck",
            "A package can be loaded into an airplane only if the package and the airplane are in the same location (airport)",
            "When loaded into an airplane the package is no longer at the location and is in the airplane",
            "A package can be unloaded from a truck only if it is in the truck, and then it becomes at the truck location",
            "A package can be unloaded from an airplane only if it is in the airplane, and then it becomes at the airplane location",
            "A truck can drive from one city-location to another location in the same city only if the truck is at the from-location",
            "An airplane can fly from one airport to another only if the airplane is at the from-airport",
            "Initial facts: location_0_0 is an airport, location_1_0 is an airport, airplane_0 is at location_1_0, package_0 is at location_1_0, truck_0 is at location_0_0, truck_1 is at location_1_0, location_0_0 is in city_0, location_0_1 is in city_0, location_1_0 is in city_1, location_1_1 is in city_1",
            "Goal: package_0 is at location_1_1"
        ]
    },
    "workflow": {
        "truck_operator": {
            "analysis": {
                "input": [],
                "output": "truck_analysis",
                "system_prompt": "You are an expert in truck-level logistics and constraints. Produce a concise natural-language model of the objects you care about, predicates you require, and the truck action schemata (preconditions and effects) as clear structured text. Do not emit PDDL; provide an explicit list of objects, predicates, and action templates with parameter names and semantics.",
                "prompt": "Agent: truck_operator. Use the public information {environment->public_information} and your private information {agents->truck_operator->private_information}. Your goal is {agents->truck_operator->goal}. Provide the truck-centric object listing, predicate definitions, and action templates for load, unload, and drive including preconditions and effects. Identify any assumptions that must be validated by other agents."
            }
        },
        "air_operator": {
            "analysis": {
                "input": [],
                "output": "air_analysis",
                "system_prompt": "You are an expert in airplane-level logistics and constraints. Produce a concise natural-language model of the objects you care about, predicates you require, and the airplane action schemata (preconditions and effects) as clear structured text. Do not emit PDDL; provide an explicit list of objects, predicates, and action templates with parameter names and semantics.",
                "prompt": "Agent: air_operator. Use the public information {environment->public_information} and your private information {agents->air_operator->private_information}. Your goal is {agents->air_operator->goal}. Provide the airplane-centric object listing, predicate definitions, and action templates for load, unload, and fly including preconditions and effects. Identify any assumptions that must be validated by other agents."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_analysis",
                    "air_analysis"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in causal and temporal correctness of multi-agent logistics plans. Your job is to detect hidden bookkeeping shortcuts, temporal impossibilities, and causal gaps and to emit corrections or explicit constraints that remove those shortcuts. Provide clear comments and required invariants. Do not produce PDDL; produce a structured audit report.",
                "prompt": "Agent: auditor. Use the outputs {truck_analysis} and {air_analysis} and your private information {agents->auditor->private_information}. Your goal is {agents->auditor->goal}. Produce a checklist of causal dependencies, temporal ordering constraints, capacity or location invariants, and a minimal set of corrections or extra preconditions to make per-vehicle plans executable without shortcuts."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_analysis",
                    "air_analysis",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL modeling and planning and you must produce a PDDL domain and a PDDL problem targeting the FastDownwards planner. Keep actions of different agents distinct by prefixing or qualifying action names. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Ensure the model encodes the city and location structure, trucks, airplanes, package state transitions, and any constraints provided by the auditor.",
                "prompt": "Agent: orchestrator. Integrate the truck and airplane analyses {truck_analysis} and {air_analysis} and the auditor report {audit_report}. Your coordination goal is {agents->orchestrator->goal}. Produce a single coherent PDDL domain and a single coherent PDDL problem that, when given to the FastDownwards solver, achieves the goal package_0 at location_1_1. Keep truck and airplane actions distinct and include objects, init facts, and goal. Enclose domain between <domain></domain> and problem between <problem></problem>."
            }
        },
        "constraints": [
            "truck_operator.analysis->orchestrator.pddl",
            "air_operator.analysis->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}