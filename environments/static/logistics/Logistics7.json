{
    "name": "Logistics7",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_agent",
            "airplane_agent",
            "auditor",
            "orchestrator"
        ],
        "truck_agent": {
            "private_information": [
                "There is exactly one truck in each city.",
                "Trucks operate only within the same city and can move between any two locations in that city.",
                "Trucks can load and unload packages when co-located with the package."
            ],
            "goal": "Contribute to delivering packages to their target locations by providing accurate action schemas for loading, unloading, and driving with preconditions and effects."
        },
        "airplane_agent": {
            "private_information": [
                "There is one airport location per city.",
                "Airplanes operate between airports and can move between the airport locations of different cities.",
                "Airplanes can load and unload packages when co-located with the package at an airport."
            ],
            "goal": "Contribute to delivering packages between cities by providing accurate action schemas for loading, unloading, and flying with preconditions and effects."
        },
        "auditor": {
            "private_information": [
                "Plans and partial models sometimes use bookkeeping shortcuts such as implicit tokens, post-hoc penalties, or temporal shortcuts that hide causal breaks.",
                "A valid plan must respect causal preconditions and effects without relying on post-hoc bookkeeping."
            ],
            "goal": "Audit partial plans and models for temporal and causal consistency and produce corrections that remove bookkeeping shortcuts and make the model realistic."
        },
        "orchestrator": {
            "private_information": [
                "The orchestrator must integrate partial models and corrections into a single consistent PDDL domain and problem suitable for FastDownwards.",
                "Actions must be kept distinct per agent where relevant."
            ],
            "goal": "Produce a final PDDL domain and problem that solve the logistics task for the FastDownwards planner."
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 2
        },
        "public_information": [
            "There are two cities: city_0 and city_1.",
            "Each city has exactly two locations. In city_0 the locations are location_0_0 and location_0_1. In city_1 the locations are location_1_0 and location_1_1.",
            "In each city exactly one of the locations is an airport. location_0_0 is an airport and is in city_0. location_1_0 is an airport and is in city_1.",
            "There is exactly one truck in each city: truck_0 is in city_0 at location_0_0 and truck_1 is in city_1 at location_1_1.",
            "There is an airplane airplane_0 at location_1_0 (the airport in city_1).",
            "There are two packages: package_0 is at location_1_1 and package_1 is at location_0_0.",
            "Locations within a city are directly connected and trucks can drive between any two locations in the same city.",
            "Airplanes can fly between airports of different cities and flights use airport locations as the from and to locations.",
            "Load into truck: package and truck must be at the same location. After loading the package is in the truck and not at the location.",
            "Unload from truck: package must be in the truck. After unloading the package is at the truck location and not in the truck.",
            "Load into airplane: package and airplane must be at the same airport location. After loading the package is in the airplane and not at the location.",
            "Unload from airplane: package must be in the airplane. After unloading the package is at the airplane location and not in the airplane.",
            "Drive truck: truck must be at the from-location and both locations must belong to the same city. After driving the truck is at the to-location and not at the from-location.",
            "Fly airplane: airplane must be at the from-airport and both from and to locations must be airports. After flying the airplane is at the to-airport and not at the from-airport.",
            "Initial facts: location_0_0 is an airport, location_1_0 is an airport, airplane_0 is at location_1_0, package_0 is at location_1_1, package_1 is at location_0_0, truck_0 is at location_0_0, truck_1 is at location_1_1, location_0_0 is in city_0, location_0_1 is in city_0, location_1_0 is in city_1, location_1_1 is in city_1.",
            "Goal: package_0 must be at location_1_0 and package_1 must be at location_0_0."
        ]
    },
    "workflow": {
        "truck_agent": {
            "report": {
                "input": [],
                "output": "truck_report",
                "system_prompt": "You are an expert in intra-city truck operations and action modelling. Produce a clear structured report describing the truck-related actions available in this environment, listing for each action its name, parameters, preconditions, and effects. Do not emit PDDL. Do not assume extra objects beyond those in the public information. Highlight any ambiguities or missing details that would prevent generating sound PDDL.",
                "prompt": "You are truck_agent. Use the public information and your private information to produce a structured report of truck actions and constraints. Provide action schemas for load-into-truck, unload-from-truck, and drive-truck. For each schema list parameters, preconditions, and effects. Point out assumptions if any are required to complete the schema."
            }
        },
        "airplane_agent": {
            "report": {
                "input": [],
                "output": "airplane_report",
                "system_prompt": "You are an expert in inter-city airplane operations and action modelling. Produce a clear structured report describing the airplane-related actions available in this environment, listing for each action its name, parameters, preconditions, and effects. Do not emit PDDL. Do not assume extra objects beyond those in the public information. Highlight any ambiguities or missing details that would prevent generating sound PDDL.",
                "prompt": "You are airplane_agent. Use the public information and your private information to produce a structured report of airplane actions and constraints. Provide action schemas for load-into-airplane, unload-from-airplane, and fly-airplane. For each schema list parameters, preconditions, and effects. Point out assumptions if any are required to complete the schema."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "truck_report",
                    "airplane_report"
                ],
                "output": "audit_report",
                "system_prompt": "You are an expert auditor of temporal and causal consistency for planning models. Given partial action schemas or reports, identify bookkeeping shortcuts such as implicit tokens, post-hoc penalties, or missing causal links. Produce a corrective report that removes such shortcuts and that enforces explicit preconditions and effects required for causal soundness. Do not emit PDDL. Provide concrete corrections and explicit constraints that the orchestrator must incorporate.",
                "prompt": "You are auditor. Use the truck_report and airplane_report together with the public information to detect temporal or causal inconsistencies and to remove bookkeeping shortcuts. Produce a corrective report that lists specific fixes, explicit preconditions or invariants to add, and any changes to action effects so that a planner cannot rely on hidden bookkeeping. If something is ambiguous, list the ambiguity clearly."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "truck_report",
                    "airplane_report",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL modelling and planning for the FastDownwards planner. Your job is to integrate reports and audit corrections into a single consistent PDDL domain and a PDDL problem that FastDownwards can solve. Keep agent actions distinct when relevant. Produce a PDDL domain and a PDDL problem and enclose the domain between <domain></domain> tags and the problem between <problem></problem> tags. Ensure types, predicates, actions, initial state, and goal are explicit and consistent with the public information and audit corrections. Target the FastDownwards solver conventions.",
                "prompt": "You are orchestrator. Integrate the truck_report, airplane_report, and audit_report into a full PDDL domain and problem suitable for FastDownwards. Ensure all preconditions and effects from the audit are included and that no bookkeeping shortcuts remain. Keep truck and airplane actions distinct. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_agent.report->auditor.audit",
            "airplane_agent.report->auditor.audit",
            "truck_agent.report->orchestrator.pddl",
            "airplane_agent.report->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}