{
    "name": "Logistics7",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "actions_modeler",
            "instance_analyst",
            "orchestrator"
        ],
        "actions_modeler": {
            "private_information": [
                "Expert in STRIPS/ADT action modeling.",
                "Focus on transforming natural-language action descriptions into normalized schemas."
            ],
            "goal": "Extract and normalize the action set (preconditions, add and delete effects) from the public description into a compact machine-readable schema."
        },
        "instance_analyst": {
            "private_information": [
                "Expert in parsing problem instances, grounding facts, and plan validation by forward simulation.",
                "Able to reconcile multiple statements into distinct problem instances."
            ],
            "goal": "Parse the initial states, objects, and goals from each statement; ground any provided plan; validate feasibility against the action schemas."
        },
        "orchestrator": {
            "private_information": [
                "Coordinates inputs from other agents and compiles final artifacts.",
                "Targets Fast Downward-compatible PDDL."
            ],
            "goal": "Produce the final PDDL domain and problem(s) for the Fast Downward planner based on the normalized action schemas and parsed instances."
        }
    },
    "environment": {
        "init": {
            "domain_name": "objects_play",
            "use_typing": true
        },
        "public_information": [
            "Available actions over objects (names kept as given):\n- Paltry object_0 object_1 object_2.\n- Sip object_0 object_1 object_2.\n- Clip object_0 object_1 object_2.\n- Wretched object_0 object_1 object_2 object_3.\n- Memory object_0 object_1 object_2.\n- Tightfisted object_0 object_1 object_2.",
            "Action semantics (preconditions \u2192 add effects; delete effects):\n- paltry(o0,o1,o2):\n  Pre: hand o0, cats o1, texture o2, vase o0 o1, next o1 o2\n  Add: next o0 o2\n  Del: vase o0 o1\n- sip(o0,o1,o2):\n  Pre: hand o0, cats o1, texture o2, next o0 o2, next o1 o2\n  Add: vase o0 o1\n  Del: next o0 o2\n- clip(o0,o1,o2):\n  Pre: hand o0, sneeze o1, texture o2, next o1 o2, next o0 o2\n  Add: vase o0 o1\n  Del: next o0 o2\n- wretched(o0,o1,o2,o3):\n  Pre: sneeze o0, texture o1, texture o2, stupendous o3, next o0 o1, collect o1 o3, collect o2 o3\n  Add: next o0 o2\n  Del: next o0 o1\n- memory(o0,o1,o2):\n  Pre: cats o0, spring o1, spring o2, next o0 o1\n  Add: next o0 o2\n  Del: next o0 o1\n- tightfisted(o0,o1,o2):\n  Pre: hand o0, sneeze o1, texture o2, next o1 o2, vase o0 o1\n  Add: next o0 o2\n  Del: vase o0 o1",
            "[STATEMENT 1]\nInitial conditions:\n- cats object_0\n- cats object_1\n- collect object_6 object_2\n- collect object_7 object_2\n- collect object_8 object_3\n- collect object_9 object_3\n- hand object_10\n- next object_0 object_8\n- next object_1 object_6\n- next object_10 object_9\n- next object_4 object_6\n- next object_5 object_9\n- sneeze object_4\n- sneeze object_5\n- spring object_6\n- spring object_8\n- stupendous object_2\n- stupendous object_3\n- texture object_6\n- texture object_7\n- texture object_8\n- texture object_9\nGoal:\n- next object_10 object_6\nProvided plan:\n1) clip object_10 object_5 object_9\n2) wretched object_5 object_9 object_8 object_3\n3) tightfisted object_10 object_5 object_8\n4) sip object_10 object_0 object_8\n5) memory object_0 object_8 object_6\n6) paltry object_10 object_0 object_6",
            "[STATEMENT 2]\nInitial conditions:\n- cats object_0\n- collect object_5 object_1\n- collect object_6 object_1\n- collect object_7 object_2\n- collect object_8 object_2\n- hand object_10\n- hand object_9\n- next object_0 object_7\n- next object_10 object_5\n- next object_3 object_5\n- next object_4 object_8\n- next object_9 object_8\n- sneeze object_3\n- sneeze object_4\n- spring object_5\n- spring object_7\n- stupendous object_1\n- stupendous object_2\n- texture object_5\n- texture object_6\n- texture object_7\n- texture object_8\nGoals:\n- next object_10 object_5\n- next object_9 object_7\nProvided plan:\n- (no plan provided)"
        ]
    },
    "workflow": {
        "actions_modeler": {
            "extract_actions": {
                "input": [],
                "output": "actions_schema",
                "system_prompt": "You translate human action descriptions into normalized STRIPS-like schemas suitable for compilation into PDDL later. Output a concise JSON object listing each action with: name, parameters (use ?o0, ?o1, ?o2, ?o3 as needed), preconditions, add_effects, del_effects. Do not emit PDDL. Keep predicate names and arities exactly as given (hand, cats, texture, vase, next, sneeze, stupendous, collect, spring).",
                "prompt": "Your name is actions_modeler. From the public information below, extract the six actions (paltry, sip, clip, wretched, memory, tightfisted) into a normalized STRIPS-like JSON schema. Use only the predicates and semantics provided; do not invent objects or predicates.\nPublic action description:\n{environment->public_information}"
            }
        },
        "instance_analyst": {
            "parse_instances": {
                "input": [],
                "output": "instances_data",
                "system_prompt": "You parse problem instances from narrative text. For each [STATEMENT], produce an entry with: name (instance_1, instance_2), objects (unique set inferred from the facts), init (set of ground predicates), goals (set of ground predicates), and provided_plan (if any). Do not emit PDDL.",
                "prompt": "Your name is instance_analyst. Parse the two statements in the public information into two instances named instance_1 and instance_2. List objects explicitly (e.g., object_0 ...), initial facts, goals, and the provided grounded plan for instance_1. Leave provided_plan empty for instance_2.\nPublic information:\n{environment->public_information}"
            },
            "validate_plan": {
                "input": [
                    "actions_schema",
                    "instances_data"
                ],
                "output": "validation_report",
                "system_prompt": "You validate a grounded plan by forward simulation using STRIPS semantics. Report whether the provided plan for instance_1 is applicable and achieves the goal from the given initial state. If invalid, indicate the first failing step and the missing precondition. Keep the report concise and structured.",
                "prompt": "Validate the provided plan in instance_1 against the extracted action schemas. Use exact predicate names and effects. Summarize: applicability per step, resulting state deltas, and whether the final state satisfies the goal. Also provide any notes helpful to the orchestrator.\nAction schemas:\n{actions_schema}\nInstances:\n{instances_data}"
            }
        },
        "orchestrator": {
            "compile_pddl": {
                "input": [
                    "actions_schema",
                    "instances_data",
                    "validation_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with PDDL targeting the Fast Downward planner. Produce a single PDDL domain and two PDDL problem files (one per instance). Use only the predicates and action semantics provided by the upstream schemas. Ensure Fast Downward compatibility (use :strips and optionally :typing; avoid negative preconditions; use consistent object names). Always enclose the PDDL domain between <domain></domain> tags, and each PDDL problem between <problem></problem> tags. Output only these PDDL blocks.",
                "prompt": "Integrate the action schemas and parsed instances into final PDDL artifacts for Fast Downward. Preserve the exact semantics (preconditions, add, delete) for actions paltry, sip, clip, wretched, memory, tightfisted. Create a domain (name: objects_play) with predicates: hand(?x), cats(?x), texture(?x), vase(?x ?y), next(?x ?y), sneeze(?x), stupendous(?x), collect(?x ?y), spring(?x). Then produce two problems: problem_instance_1 and problem_instance_2, each with its objects, initial state, and goals derived from the instances. Do not assume any additional facts beyond those given.\nExtracted action schemas:\n{actions_schema}\nParsed instances:\n{instances_data}\nPlan validation notes:\n{validation_report}"
            }
        },
        "constraints": [
            "actions_modeler.extract_actions->instance_analyst.validate_plan",
            "instance_analyst.parse_instances->instance_analyst.validate_plan",
            "actions_modeler.extract_actions->orchestrator.compile_pddl",
            "instance_analyst.parse_instances->orchestrator.compile_pddl",
            "instance_analyst.validate_plan->orchestrator.compile_pddl"
        ]
    }
}