{
    "name": "Logistics8",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "city_planner",
            "truck_operator",
            "airline_operator",
            "auditor",
            "orchestrator"
        ],
        "city_planner": {
            "private_information": [
                "There are two cities indexed 0 and 1",
                "Each city has exactly two locations indexed 0 and 1",
                "location_0_0 and location_1_0 are airports",
                "Locations in the same city are directly connected for trucks",
                "Each location belongs to exactly one city"
            ],
            "goal": "Provide a correct structural description of cities, locations, and airports to support planning the delivery of packages to their goals"
        },
        "truck_operator": {
            "private_information": [
                "Each city has exactly one truck named truck_<city_index>",
                "Trucks can drive between any two locations in the same city",
                "Load and unload semantics for trucks: package must be co-located with truck to load; loading removes package from location and places it in the truck; unloading requires package in truck and places it at the truck location"
            ],
            "goal": "Provide a correct model of trucks, truck capabilities, and local load/unload constraints to support planning"
        },
        "airline_operator": {
            "private_information": [
                "There are airplanes that move between airports of cities",
                "Airplanes can only fly between airport locations",
                "Load and unload semantics for airplanes: package must be at the airport to load; loading removes package from location and places it in the airplane; unloading requires package in airplane and places it at the airport location"
            ],
            "goal": "Provide a correct model of airplanes, airports, and intercity flight capabilities to support planning"
        },
        "auditor": {
            "private_information": [
                "Role is to detect temporal and causal shortcutting in models and to require explicit resource or state transitions rather than bookkeeping shortcuts",
                "Audit will check for implicit assumptions such as instant teleportation, hidden tokens, or omitted loading/unloading preconditions"
            ],
            "goal": "Audit combined models for causal and temporal consistency and produce a report eliminating bookkeeping shortcuts and listing necessary preconditions and effects"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the models and audit report and produce a single PDDL domain and PDDL problem tailored for the FastDownward solver that solves the global delivery goal"
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 2,
            "airports": [
                "location_0_0",
                "location_1_0"
            ]
        },
        "public_information": [
            "There are two cities: city_0 and city_1",
            "Each city has two locations: location_<city>_0 and location_<city>_1",
            "location_0_0 is an airport in city_0",
            "location_1_0 is an airport in city_1",
            "airplane_0 is at location_0_0",
            "package_0 is at location_0_0",
            "package_1 is at location_0_0",
            "truck_0 is at location_0_0",
            "truck_1 is at location_1_1",
            "location_0_0 is in city_0",
            "location_0_1 is in city_0",
            "location_1_0 is in city_1",
            "location_1_1 is in city_1",
            "Actions available are: load into truck, unload from truck, drive truck between locations in same city, load into airplane, unload from airplane, fly airplane between airports",
            "Restrictions: package and vehicle must be co-located to load into that vehicle, loading removes package from the location and places it in the vehicle, unloading requires the package to be in the vehicle and places it at the vehicle location, trucks can only drive within the same city, airplanes only fly between airport locations"
        ]
    },
    "workflow": {
        "city_planner": {
            "model": {
                "input": [],
                "output": "model_city",
                "system_prompt": "You are the city planner subsystem. Analyze the public information and your private information and produce a concise structured model of cities, locations, and which locations are airports. Do not emit PDDL. Output a machine readable description of types, objects, and relationships such as which location belongs to which city and which location is the airport in that city.",
                "prompt": "As city_planner you receive the public information and your private information. Produce a clear structured model listing objects, types, location-to-city membership, and airport designations. Do not assume extra objects beyond those stated. Do not output PDDL."
            }
        },
        "truck_operator": {
            "model": {
                "input": [],
                "output": "model_truck",
                "system_prompt": "You are the truck operator subsystem. Use your private information and the public information to produce a structured description of trucks, their initial locations, and the exact preconditions and effects for loading, unloading, and driving actions as they apply within a city. Do not emit PDDL. Present the local action schemas and initial truck-related facts.",
                "prompt": "As truck_operator produce a structured model of trucks, initial truck locations, and formalized preconditions and effects for truck load, unload, and drive actions. Do not output PDDL."
            }
        },
        "airline_operator": {
            "model": {
                "input": [],
                "output": "model_air",
                "system_prompt": "You are the airline operator subsystem. Use your private information and the public information to produce a structured description of airplanes, their initial locations, airports, and the exact preconditions and effects for loading, unloading, and flying actions between airports. Do not emit PDDL. Present the airplane-related action schemas and initial airplane facts.",
                "prompt": "As airline_operator produce a structured model of airplanes, initial airplane locations, airport constraints, and formalized preconditions and effects for plane load, unload, and fly actions. Do not output PDDL."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_city",
                    "model_truck",
                    "model_air"
                ],
                "output": "audit_report",
                "system_prompt": "You are an independent auditor that checks temporal and causal consistency. Review the structured models produced by the other subsystems and produce a report that identifies any causal shortcuts, missing preconditions, or bookkeeping tokens. Propose explicit preconditions or effects to remove shortcuts and ensure the models are temporally consistent. Do not produce PDDL. Output a clear list of required corrections or confirmations.",
                "prompt": "As auditor, receive the structured models from city_planner, truck_operator, and airline_operator. Check for causal and temporal shortcuts such as instant teleportation, omitted load or unload preconditions, or hidden resources. Produce an audit_report listing corrections, required explicit preconditions, and confirmed assumptions. Do not output PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_city",
                    "model_truck",
                    "model_air",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL problems. Integrate the provided structured models and the auditor report and produce a complete PDDL domain and a PDDL problem file tailored for the FastDownward solver. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep actions produced by trucks and airplanes distinct and include all necessary types, predicates, action schemas, initial state, objects, and the global goal. Ensure the PDDL uses constructs supported by FastDownward and avoid nonstandard extensions.",
                "prompt": "As orchestrator, integrate the models and the audit_report into a single coherent planning model. Produce a PDDL domain and a PDDL problem targeted to FastDownward. Enclose the domain with <domain></domain> tags and the problem with <problem></problem> tags. Make sure to keep agent actions distinct and to reflect all audit corrections."
            }
        },
        "constraints": [
            "city_planner.model->orchestrator.pddl",
            "truck_operator.model->orchestrator.pddl",
            "airline_operator.model->orchestrator.pddl",
            "auditor.audit->orchestrator.pddl"
        ]
    }
}