{
    "name": "Logistics9",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "truck_operator",
            "plane_operator",
            "auditor",
            "orchestrator"
        ],
        "truck_operator": {
            "private_information": [
                "I operate the trucks that serve intra-city movement",
                "Each city has exactly one truck named truck_0, truck_1, etc",
                "Trucks can drive between any two locations within the same city",
                "Trucks can load and unload packages when the package and truck are at the same location"
            ],
            "goal": "Provide a correct intra-city action model and local plan guidance that supports the global delivery goal"
        },
        "plane_operator": {
            "private_information": [
                "I operate airplanes that serve inter-city movement",
                "Each city has one airport located at the location with suffix _0, for example location_0_0",
                "Airplanes can fly between airports of different cities",
                "Airplanes can load and unload packages when the package and airplane are at the same airport location"
            ],
            "goal": "Provide a correct inter-city action model and local plan guidance that supports the global delivery goal"
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency across models and plans",
                "I remove bookkeeping shortcuts and unrealistic modeling artifacts such as quota tokens or implicit post-hoc penalties",
                "I validate preconditions and effects for causal completeness"
            ],
            "goal": "Detect and correct temporal or causal inconsistencies in the local models and plans produced by operators and provide a consolidated audit report"
        },
        "orchestrator": {
            "private_information": [
                "I integrate operator models and auditor findings into a single PDDL domain and problem suitable for FastDownward"
            ],
            "goal": "Produce the final PDDL domain and PDDL problem targeting the FastDownward planner so that package_0 is at location_0_1 and package_1 is at location_1_0"
        }
    },
    "environment": {
        "init": {
            "cities": 2,
            "locations_per_city": 2
        },
        "public_information": [
            "There are two cities city_0 and city_1",
            "Each city has exactly two locations named location_<city>_<index> where index is 0 or 1",
            "Each city has exactly one truck and one airport location which is location_<city>_0",
            "Locations within a city are directly connected for trucks",
            "Airplanes operate between airports which are the location with index 0 in each city",
            "Initial facts: location_0_0 is an airport",
            "Initial facts: location_1_0 is an airport",
            "Initial facts: airplane_0 is at location_1_0",
            "Initial facts: airplane_1 is at location_0_0",
            "Initial facts: package_0 is at location_0_0",
            "Initial facts: package_1 is at location_1_1",
            "Initial facts: truck_0 is at location_0_0",
            "Initial facts: truck_1 is at location_1_0",
            "Initial facts: location_0_0 is in city_0",
            "Initial facts: location_0_1 is in city_0",
            "Initial facts: location_1_0 is in city_1",
            "Initial facts: location_1_1 is in city_1",
            "Global goal: package_0 at location_0_1 and package_1 at location_1_0"
        ]
    },
    "workflow": {
        "truck_operator": {
            "local_truck_model": {
                "input": [],
                "output": "local_truck_model",
                "system_prompt": "You are an expert in intra-city truck logistics and modeling. Provide a precise structured local model for truck actions including types, predicates, action schemas, preconditions and effects, and example concrete steps relevant to the current initial facts and global goal. Do not emit PDDL. Focus on load, unload and drive actions for trucks and explicit state changes for packages and trucks.",
                "prompt": "Your name is truck_operator. Use the public information {environment->public_information} and your private knowledge {agents->truck_operator->private_information} to produce a clear local truck action model and suggested intra-city plan fragments that help achieve the global goal {agents->orchestrator->goal}. Explain preconditions and effects in a precise structured form and list any assumptions you require."
            }
        },
        "plane_operator": {
            "local_plane_model": {
                "input": [],
                "output": "local_plane_model",
                "system_prompt": "You are an expert in inter-city airplane logistics and modeling. Provide a precise structured local model for airplane actions including types, predicates, action schemas, preconditions and effects, and example concrete steps relevant to the initial facts and global goal. Do not emit PDDL. Focus on load, unload and fly actions for airplanes and explicit state changes for packages and airplanes.",
                "prompt": "Your name is plane_operator. Use the public information {environment->public_information} and your private knowledge {agents->plane_operator->private_information} to produce a clear local airplane action model and suggested inter-city plan fragments that help achieve the global goal {agents->orchestrator->goal}. Explain preconditions and effects in a precise structured form and list any assumptions you require."
            }
        },
        "auditor": {
            "audit_report": {
                "input": [
                    "local_truck_model",
                    "local_plane_model"
                ],
                "output": "audit_report",
                "system_prompt": "You are an auditor specialized in temporal and causal consistency for multi-model planning. Inspect the models and plan fragments supplied by operators and produce an audit report that lists inconsistencies, missing causal links, temporal ordering issues, and recommended corrections. Remove any bookkeeping shortcuts and require explicit modeling of resources or constraints if needed. Do not emit PDDL.",
                "prompt": "Your name is auditor. Receive the operators' models {local_truck_model} and {local_plane_model} and use your private knowledge {agents->auditor->private_information} to produce an audit report that identifies problems and prescribes concrete corrections and clarifications for the orchestrator to integrate. Make your report precise and implementable."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "local_truck_model",
                    "local_plane_model",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL and must integrate operator models and auditor corrections into a single PDDL domain and PDDL problem file compatible with the FastDownward planner. Produce a complete PDDL domain and a complete PDDL problem that implement the combined semantics. Keep agent actions distinct by prefixing or annotating actions so it is clear which agent performs them. Ensure the PDDL is STRIPS-compatible where possible and suitable for FastDownward. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "Your name is orchestrator. Integrate the public information {environment->public_information}, the operators' models {local_truck_model} and {local_plane_model}, and the auditor's corrections {audit_report} together with your private goal {agents->orchestrator->goal}. Think step by step and produce a PDDL domain and a PDDL problem to achieve the global goal. Keep actions from truck_operator and plane_operator distinct. Target the FastDownward solver and ensure compatibility and completeness. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "truck_operator.local_truck_model->orchestrator.pddl",
            "plane_operator.local_plane_model->orchestrator.pddl",
            "auditor.audit_report->orchestrator.pddl"
        ]
    }
}