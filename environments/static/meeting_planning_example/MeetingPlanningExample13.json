{
    "name": "MeetingPlanningExample13",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "traveler",
            "travel_estimator",
            "calendar_planner",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "I want to maximize the number of distinct friends I meet today.",
                "I prefer schedules with minimal idle time and as few unnecessary moves as possible."
            ],
            "goal": "Meet as many friends as possible during the day while ensuring at least 75 minutes with Betty within her availability window."
        },
        "travel_estimator": {
            "private_information": [
                "I compute travel feasibility, buffers, and earliest/latest arrival times between locations based on the provided travel durations."
            ],
            "goal": "Translate travel times and constraints into feasible timing windows and movement rules that the scheduler can use."
        },
        "calendar_planner": {
            "private_information": [
                "I enumerate diverse candidate schedules that satisfy hard constraints and score them using the given objectives."
            ],
            "goal": "Generate several feasible itineraries and rank them to maximize friends met, then total meeting time, then minimize idle time and travel."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate all inputs, select the best schedule, and produce the final PDDL domain and problem for the FastDownward solver."
        }
    },
    "environment": {
        "init": {
            "location": "San Francisco",
            "start_location": "Presidio",
            "arrival_time": "09:00",
            "timezone": "PDT",
            "time_unit": "minutes",
            "time_format": "24h",
            "planning_horizon_end": "22:30",
            "visibility": 1
        },
        "public_information": [
            "Objective: Meet as many friends as possible in one day. Primary objective: maximize the count of distinct friends met; secondary: maximize total meeting minutes; tertiary: minimize idle and travel time.",
            "You arrive at Presidio at 09:00.",
            "Betty will be at North Beach from 18:45 to 22:00.",
            "You would like to meet Betty for a minimum of 75 minutes within her availability window.",
            "Travel times (in minutes): Presidio -> North Beach: 18; North Beach -> Presidio: 17.",
            "Assume intra-neighborhood walking time is negligible but apply a 5-minute buffer between consecutive events at the same location.",
            "Default minimum meeting duration for any friend except Betty is 20 minutes.",
            "Friends and availabilities (24h time): Alex at Presidio 09:15-10:00; Chris at Presidio 10:30-12:00; Dana at Presidio 13:00-14:30; Eli at Presidio 15:00-16:00; Farah at Presidio 16:15-17:15; Betty at North Beach 18:45-22:00.",
            "Only two locations are relevant today: Presidio and North Beach.",
            "Day ends at 22:30."
        ]
    },
    "workflow": {
        "traveler": {
            "preferences": {
                "input": [],
                "output": "prefs_traveler",
                "system_prompt": "You are the traveler. Provide concise, machine-readable preferences and soft constraints to guide the schedule.",
                "prompt": "Your name is traveler. Use the public information {environment->public_information} and your private information {agents->traveler->private_information}. Express preferences and soft goals without making assumptions beyond what is given. Output a compact JSON object with keys: preferences, must_meet, soft_goals. Do not emit PDDL."
            }
        },
        "travel_estimator": {
            "analyze": {
                "input": [],
                "output": "travel_windows",
                "system_prompt": "You compute travel feasibility from the given travel durations and windows and return machine-readable constraints.",
                "prompt": "Your name is travel_estimator. Use the public information {environment->public_information}. Derive earliest feasible arrival times to North Beach that allow at least 75 minutes with Betty, compute latest departure times, and provide movement rules including buffers. Output a JSON with keys: travel (matrix), windows (per location and friend), feasibility_rules (bulleted list in strings). Do not emit PDDL."
            }
        },
        "calendar_planner": {
            "enumerate": {
                "input": [
                    "prefs_traveler",
                    "travel_windows"
                ],
                "output": "candidate_schedules",
                "system_prompt": "You enumerate diverse feasible schedules and score them by objectives.",
                "prompt": "Your name is calendar_planner. Use the public information {environment->public_information} plus the traveler preferences {prefs_traveler} and movement windows {travel_windows}. Generate 3 to 5 diverse feasible itineraries that meet all hard constraints including the 75-minute meeting with Betty. Each itinerary must list chronologically ordered events with start and end times, location, and friend or move, include mandatory 5-minute buffers for same-location transitions and account for travel times between locations. For each itinerary compute metrics: friends_met (count), total_meeting_minutes, idle_minutes, total_travel_minutes, meets_betty_75min (boolean). Rank itineraries by the stated objectives. Output a JSON object with keys: itineraries (array), ranking (array of itinerary ids in best-first order). Do not emit PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "prefs_traveler",
                    "travel_windows",
                    "candidate_schedules"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL. Integrate inputs and produce a valid PDDL domain and problem for the FastDownward (Fast Downward) solver. Enclose the domain in <domain></domain> and the problem in <problem></problem>. Use a classical STRIPS-style encoding suitable for FastDownward; represent locations, friends, and discrete time slots or task ordering constraints so that the solver can find a plan that respects availability windows, travel durations, buffers, and the 75-minute requirement with Betty.",
                "prompt": "You will receive traveler preferences {prefs_traveler}, travel feasibility {travel_windows}, and enumerated schedules {candidate_schedules}. 1) Evaluate the candidate schedules and select the best one according to the objectives stated in {environment->public_information}. 2) Produce an integrated PDDL domain and problem consistent with the best schedule and constraints. The domain should include actions such as move-between-locations and meet-friend with preconditions and effects that encode ordering, availability, and minimum durations via discrete time slots or action sequencing. Ensure the problem instance includes all relevant objects (locations Presidio and NorthBeach, friends Alex, Chris, Dana, Eli, Farah, Betty) and initial facts (start at Presidio at 09:00), and goals that guarantee meeting Betty for at least 75 minutes within 18:45-22:00 and maximize friends met as per the chosen best schedule. Enclose the PDDL domain in <domain></domain> and the PDDL problem in <problem></problem> and target the FastDownward solver."
            }
        },
        "constraints": [
            "traveler.preferences->calendar_planner.enumerate",
            "travel_estimator.analyze->calendar_planner.enumerate",
            "traveler.preferences->orchestrator.pddl",
            "travel_estimator.analyze->orchestrator.pddl",
            "calendar_planner.enumerate->orchestrator.pddl"
        ]
    }
}