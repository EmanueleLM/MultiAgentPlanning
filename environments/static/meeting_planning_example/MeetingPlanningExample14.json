{
    "name": "MeetingPlanningExample14",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "traveler",
            "map_agent",
            "calendar_agent",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "I start at Nob Hill at 09:00.",
                "I can travel between neighborhoods during the day.",
                "I want to maximize the number of friends I meet.",
                "Hard requirement: meet Mary for at least 120 minutes within her 20:00-22:00 window at Marina District."
            ],
            "goal": "Plan the day in San Francisco to meet as many friends as possible while guaranteeing a 120-minute meeting with Mary within her availability."
        },
        "map_agent": {
            "private_information": [
                "Known travel times in minutes: Nob Hill to Marina District = 11; Marina District to Nob Hill = 12.",
                "Assume deterministic travel times for planning purposes."
            ],
            "goal": "Provide travel-time primitives and routing constraints to enable feasible schedule generation."
        },
        "calendar_agent": {
            "private_information": [
                "Mary will be at Marina District from 20:00 to 22:00.",
                "You must meet Mary for a minimum of 120 minutes within that interval."
            ],
            "goal": "Aggregate friend availability windows and minimum-duration rules; if only Mary is known, encode her window and duration requirement as hard constraints."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Coordinate agent outputs and produce a final PDDL domain and problem for the FastDownwards solver that optimizes the schedule while satisfying all hard constraints."
        }
    },
    "environment": {
        "init": {
            "city": "San Francisco",
            "timezone": "America/Los_Angeles",
            "planning_horizon": "09:00-24:00",
            "units": "minutes",
            "solver": "FastDownwards"
        },
        "public_information": [
            "You arrive at Nob Hill at 09:00.",
            "Mary will be at Marina District from 20:00 to 22:00.",
            "You want to meet Mary for a minimum of 120 minutes.",
            "Travel time Nob Hill -> Marina District: 11 minutes.",
            "Travel time Marina District -> Nob Hill: 12 minutes.",
            "Objective: meet as many friends as possible in one day while honoring hard constraints."
        ]
    },
    "workflow": {
        "traveler": {
            "preferences": {
                "input": [],
                "output": "traveler_preferences",
                "system_prompt": "You are the traveler. Summarize personal objectives, soft preferences, and acceptable schedule structures that align with the hard constraints. Do not emit PDDL; focus on concise, structured guidance the planner can use.",
                "prompt": "Context: {environment->public_information} | Provide prioritized objectives (maximize number of meetings; minimize idle time), acceptable commute assumptions (use given deterministic times), and any flexibility before Mary\u2019s window. Output a compact list of preferences and tie-breaking rules."
            },
            "feasible_windows": {
                "input": [],
                "output": "traveler_windows",
                "system_prompt": "Identify feasible time windows for meetings given the day starts at Nob Hill at 09:00 and ends by midnight. Do not emit PDDL; produce structured windows and any buffers needed for travel and setup.",
                "prompt": "Context: {environment->public_information} | Return a minimal set of non-overlapping windows the traveler is available for meetings, ensuring that a 120-minute block for Mary at Marina District between 20:00 and 22:00 is reserved, and include suggested buffers for travel."
            }
        },
        "map_agent": {
            "routing": {
                "input": [],
                "output": "city_routes",
                "system_prompt": "You are a geospatial assistant. Provide travel-time primitives and asymmetric routing constraints between Nob Hill and Marina District using the supplied deterministic times. Do not emit PDDL; return a compact, structured set of route facts and consistency rules.",
                "prompt": "Context: {environment->public_information} | Output route primitives (locations, directed edges, durations), asymmetry notes, and any simple composition rules needed for scheduling (e.g., depart_time + duration = arrive_time)."
            }
        },
        "calendar_agent": {
            "attendances": {
                "input": [],
                "output": "friend_windows",
                "system_prompt": "You are a calendar synthesizer. Compile meeting availability windows and minimum-duration requirements for friends. Do not emit PDDL; report facts that a planner can consume directly.",
                "prompt": "Known: Mary at Marina District 20:00-22:00 with a required continuous 120-minute meeting. If other friends are unspecified, include placeholders or leave them absent. Output structured availability entries and duration constraints."
            }
        },
        "orchestrator": {
            "pddl_plan": {
                "input": [
                    "traveler_preferences",
                    "traveler_windows",
                    "city_routes",
                    "friend_windows"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert multi-agent planner. Produce a single PDDL domain and a PDDL problem for the FastDownwards solver. Enclose the domain in <domain></domain> and the problem in <problem></problem>. Encode time windows, asymmetric travel durations, and minimum meeting durations. Model a single agent 'traveler' operating in locations {NobHill, MarinaDistrict}. Prefer standard STRIPS with durative actions compatible with FastDownwards' temporal planning. Ensure feasibility: start at Nob Hill at 09:00, meet Mary at Marina District for at least 120 minutes within 20:00-22:00, and respect travel times (NobHill->MarinaDistrict=11, MarinaDistrict->NobHill=12). Maximize meetings where information exists; if only Mary is known, produce a feasible plan that secures Mary and leaves earlier slack as optional.",
                "prompt": "Goal: choose the best feasible schedule to maximize the number of meetings subject to hard constraints. Inputs: {traveler_preferences} | {traveler_windows} | {city_routes} | {friend_windows}. Output only the PDDL domain and problem wrapped in their tags, targeting FastDownwards."
            }
        },
        "constraints": [
            "traveler.preferences->orchestrator.pddl_plan",
            "traveler.feasible_windows->orchestrator.pddl_plan",
            "map_agent.routing->orchestrator.pddl_plan",
            "calendar_agent.attendances->orchestrator.pddl_plan"
        ]
    }
}