{
    "name": "MeetingPlanningExample23",
    "author": "Human",
    "agents": {
        "number": 6,
        "names": [
            "traveler",
            "mapper",
            "constraints_builder",
            "scheduler",
            "analyzer",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "You prefer minimizing idle time.",
                "You can travel between neighborhoods using the public transit estimates provided."
            ],
            "goal": "Plan a one-day visit in San Francisco to meet as many friends as possible while ensuring a minimum 75-minute meeting with John within his availability window."
        },
        "mapper": {
            "private_information": [
                "You convert pairwise travel times into a directed graph with edge weights in minutes.",
                "Only assume symmetric travel times when explicitly stated."
            ],
            "goal": "Produce a compact travel-time graph between relevant neighborhoods to support schedule generation."
        },
        "constraints_builder": {
            "private_information": [
                "You translate natural-language constraints into formal time windows, required durations, and start conditions.",
                "You preserve units and time zones exactly as provided."
            ],
            "goal": "Compile all task constraints into a structured set of hard constraints for scheduling."
        },
        "scheduler": {
            "private_information": [
                "You enumerate feasible non-overlapping schedules given travel times and time windows.",
                "You respect all hard constraints and generate multiple alternatives when possible."
            ],
            "goal": "Generate a set of candidate day schedules that satisfy constraints and cover the maximum number of friends."
        },
        "analyzer": {
            "private_information": [
                "You score schedules lexicographically by: number of friends met (maximize), total idle time (minimize), and total travel time (minimize).",
                "You provide a brief rationale for the top choice."
            ],
            "goal": "Evaluate candidate schedules and pick the best one according to the scoring criteria."
        },
        "orchestrator": {
            "private_information": [
                "You integrate all intermediate artifacts and produce the final PDDL domain and problem.",
                "Your PDDL must be compatible with the FastDownward solver and must be enclosed between <domain></domain> and <problem></problem> tags."
            ],
            "goal": "Produce a final, solvable PDDL domain and problem that encodes the chosen schedule, constraints, and travel times targeting the FastDownwards solver."
        }
    },
    "environment": {
        "init": {
            "time_unit": "minutes",
            "reference_timezone": "America/Los_Angeles",
            "locations": [
                "Bayview",
                "Russian Hill"
            ]
        },
        "public_information": [
            "There are two locations: Bayview and Russian Hill.",
            "Travel time from Bayview to Russian Hill is 23 minutes.",
            "Travel time from Russian Hill to Bayview is 23 minutes.",
            "Arrival time at Bayview is 09:00.",
            "John is available at Russian Hill from 17:30 to 21:00.",
            "You want to meet John for at least 75 minutes.",
            "Objective: Meet as many friends as possible while respecting all constraints."
        ]
    },
    "workflow": {
        "traveler": {
            "preferences": {
                "input": [],
                "output": "user_preferences",
                "system_prompt": "You are the traveler summarizing your objectives and preferences for a single-day visit in San Francisco.",
                "prompt": "Your name is traveler. Use the public information to restate the hard constraints and list the target friends to meet (at least John), the minimum meeting duration for John, and preferences about idle time and travel minimization. Return a compact JSON object with fields objective, priority_friends, min_meeting_minutes, hard_constraints, and preferences. Do not produce PDDL."
            }
        },
        "mapper": {
            "map_graph": {
                "input": [],
                "output": "travel_graph",
                "system_prompt": "You are a mapping assistant that builds a minimal directed travel-time graph from the provided facts.",
                "prompt": "Create a directed graph of locations with edge weights in minutes based strictly on the public information. Return a JSON object with nodes and edges, where edges are tuples of the form [from, to, minutes]. Do not invent locations or times. Do not produce PDDL."
            }
        },
        "constraints_builder": {
            "compile_constraints": {
                "input": [
                    "user_preferences"
                ],
                "output": "time_constraints",
                "system_prompt": "You are a constraints compiler that converts textual constraints into structured scheduling constraints.",
                "prompt": "From the public information and user preferences, output a JSON object with fields start_location, start_time, friend_windows, required_meetings, and min_durations. Represent all times in 24-hour HH:MM local time and durations in minutes. Do not produce PDDL."
            }
        },
        "scheduler": {
            "propose_schedules": {
                "input": [
                    "travel_graph",
                    "time_constraints",
                    "user_preferences"
                ],
                "output": "candidate_schedules",
                "system_prompt": "You are a schedule generator that enumerates feasible non-overlapping day plans.",
                "prompt": "Using the travel graph and constraints, generate several feasible schedules that meet all hard constraints, including the minimum 75-minute meeting with John within his window. For each schedule, list ordered events with fields location, start, end, and description, and include total_travel_minutes and total_idle_minutes. Return a JSON array of schedules. Do not produce PDDL."
            }
        },
        "analyzer": {
            "pick_best": {
                "input": [
                    "candidate_schedules",
                    "user_preferences"
                ],
                "output": "best_schedule",
                "system_prompt": "You are a schedule analyst selecting the best option using provided scoring rules.",
                "prompt": "Evaluate candidate schedules by maximizing number of friends met, then minimizing total idle time, then minimizing total travel time. Return a JSON object with fields winner (the chosen schedule), score, and rationale. Do not produce PDDL."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "travel_graph",
                    "time_constraints",
                    "candidate_schedules",
                    "best_schedule"
                ],
                "output": "final_pddl",
                "system_prompt": "You are an expert in PDDL who produces the final domain and problem compatible with the FastDownward solver. You must enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem> tags.",
                "prompt": "Integrate the travel graph, constraints, and the selected schedule to produce a final PDDL domain and problem that captures: locations (Bayview and Russian Hill), travel actions with 23-minute durations in both directions, meeting actions including a meeting with John of at least 75 minutes within his availability window (17:30 to 21:00), and the initial condition starting at Bayview at 09:00. Model time consistently in minutes. Ensure the problem encodes feasibility of meeting John and provides the objective to maximize the number of friends met and, secondarily, to minimize makespan or idle time, using a metric compatible with FastDownwards. Enclose the domain in <domain></domain> and the problem in <problem></problem> tags only."
            }
        },
        "constraints": [
            "traveler.preferences->constraints_builder.compile_constraints",
            "mapper.map_graph->scheduler.propose_schedules",
            "constraints_builder.compile_constraints->scheduler.propose_schedules",
            "traveler.preferences->scheduler.propose_schedules",
            "scheduler.propose_schedules->analyzer.pick_best",
            "traveler.preferences->analyzer.pick_best",
            "mapper.map_graph->orchestrator.pddl",
            "constraints_builder.compile_constraints->orchestrator.pddl",
            "scheduler.propose_schedules->orchestrator.pddl",
            "analyzer.pick_best->orchestrator.pddl"
        ]
    }
}