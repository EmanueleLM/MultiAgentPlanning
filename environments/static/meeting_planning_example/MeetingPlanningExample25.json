{
    "name": "MeetingPlanningExample25",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "traveler",
            "calendar_analyst",
            "route_planner",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "I value meeting as many friends as possible in a single day visit",
                "I must meet David for at least 105 minutes",
                "I am comfortable traveling between neighborhoods if it increases total meetings"
            ],
            "goal": "Design a feasible one-day plan in San Francisco that maximizes the number of friends met while ensuring a meeting with David of at least 105 minutes."
        },
        "calendar_analyst": {
            "private_information": [
                "David is available at Chinatown between 16:00 and 21:45",
                "Some friends may have flexible or unknown availability; propose optional placeholders if needed"
            ],
            "goal": "Enumerate feasible meeting windows for friends, ensuring that David can be met for at least 105 minutes within his availability."
        },
        "route_planner": {
            "private_information": [
                "Travel time Golden Gate Park to Chinatown is 23 minutes",
                "Travel time Chinatown to Golden Gate Park is 23 minutes"
            ],
            "goal": "Assess route feasibility and buffers between candidate meeting windows, considering travel times and day boundaries."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate preferences, availability, and routing into a single optimal day plan and produce a final PDDL domain and problem suitable for the Fast Downward solver."
        }
    },
    "environment": {
        "init": {
            "timezone": "America/Los_Angeles",
            "date": "OneDayVisit",
            "start_location": "Golden Gate Park",
            "arrival_time": "09:00",
            "day_end_latest": "21:45",
            "time_step_minutes": 5,
            "locations": [
                "Golden Gate Park",
                "Chinatown"
            ],
            "travel_time_minutes": {
                "Golden Gate Park": {
                    "Chinatown": 23
                },
                "Chinatown": {
                    "Golden Gate Park": 23
                }
            }
        },
        "public_information": [
            "The traveler arrives at Golden Gate Park at 09:00.",
            "David will be at Chinatown from 16:00 to 21:45.",
            "The traveler wants to meet David for a minimum of 105 minutes.",
            "Travel time from Golden Gate Park to Chinatown is 23 minutes.",
            "Travel time from Chinatown to Golden Gate Park is 23 minutes.",
            "Objective is to meet as many friends as possible within the day while satisfying the David constraint."
        ]
    },
    "workflow": {
        "traveler": {
            "state_preferences": {
                "input": [],
                "output": "preferences",
                "system_prompt": "You are the traveler defining objectives and tie-breakers for a one-day visit. Summarize preferences, hard constraints, and tie-breaking rules without producing PDDL.",
                "prompt": "Your name is traveler. Public information: {environment->public_information}. Your knowledge: {agents->traveler->private_information}. Global goal: {agents->traveler->goal}. Provide a concise, prioritized list of preferences and tie-breakers (e.g., maximize number of distinct friends met, ensure David meeting duration at least 105 minutes, avoid infeasible overlaps, prefer fewer long moves). Output a compact bullet list with any quantitative scoring you suggest."
            }
        },
        "calendar_analyst": {
            "availability_report": {
                "input": [],
                "output": "availability",
                "system_prompt": "You are a calendar analyst. Produce a structured availability summary and feasible meeting windows, focusing on David and optionally placeholders for other friends. Do not produce PDDL.",
                "prompt": "Your name is calendar_analyst. Public information: {environment->public_information}. Your knowledge: {agents->calendar_analyst->private_information}. Goal: {agents->calendar_analyst->goal}. Provide normalized time windows in HH:MM 24h format. Ensure at least one David window of duration >= 105 minutes within 16:00-21:45. Suggest several alternative windows that differ by start time and buffers for travel. If other friends are unknown, include optional placeholders with flexible windows that do not conflict with David windows."
            }
        },
        "route_planner": {
            "routes": {
                "input": [],
                "output": "routes_info",
                "system_prompt": "You are a route planner. Compute feasibility of moving between proposed meetings given travel times and day bounds. Do not produce PDDL.",
                "prompt": "Your name is route_planner. Public information: {environment->public_information}. Your knowledge: {agents->route_planner->private_information}. Goal: {agents->route_planner->goal}. Given candidate meeting windows (to be provided by other agents), outline travel departures and arrivals needed to make each candidate feasible. Include buffers, earliest and latest feasible departure times from Golden Gate Park to reach Chinatown before each David window, and note any conflicts with day_end_latest."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "preferences",
                    "availability",
                    "routes_info"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning. Produce a final PDDL domain and problem tailored for the Fast Downward solver. Enclose the domain in <domain></domain> and the problem in <problem></problem>. Use discrete time modeling suitable for classical planning by representing time slots as sequential steps (e.g., 5-minute increments) or by encoding durations via action sequences. Keep actions conceptually distinct where relevant (e.g., travel, meet, wait). Ensure constraints: start at Golden Gate Park at 09:00, travel between Golden Gate Park and Chinatown takes 23 minutes one way, David is available at Chinatown from 16:00 to 21:45, meeting with David must last at least 105 minutes, objective is to maximize the number of friends met while satisfying the David constraint. Provide a goal condition and, if using a metric, prefer plans maximizing meetings and then minimizing total travel or idle time.",
                "prompt": "Integrate inputs to synthesize a solvable planning model. Inputs: preferences: {preferences}; availability: {availability}; routes: {routes_info}. Provide a PDDL domain with predicates for at location, time-slot progression, availability windows, and meeting commitments, plus actions for wait, travel, and meet. Provide a PDDL problem instantiating locations GoldenGatePark and Chinatown, the traveler and David, initial state at GoldenGatePark at 09:00, availability facts so David is at Chinatown and can meet from 16:00 to 21:45, and discrete time slots of 5 minutes until 21:45. Encode the minimum 105-minute meeting length with either a chain of meeting steps or a derived constraint. Ensure the problem is compatible with Fast Downward STRIPS by avoiding durative actions and numeric fluents unless you include a metric supported by Fast Downward. Output only the PDDL domain and problem enclosed in the required tags."
            }
        },
        "constraints": [
            "traveler.state_preferences->orchestrator.pddl",
            "calendar_analyst.availability_report->orchestrator.pddl",
            "route_planner.routes->orchestrator.pddl"
        ]
    }
}