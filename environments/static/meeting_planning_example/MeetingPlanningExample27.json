{
    "name": "MeetingPlanningExample27",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "scheduler",
            "temporal_auditor",
            "optimizer",
            "orchestrator"
        ],
        "scheduler": {
            "private_information": [
                "Start location: Marina District at 9:00 AM (Time 0).",
                "End constraint: Meeting Margaret must be included.",
                "Meeting Margaret must last a minimum of 15 minutes."
            ],
            "goal": "Model the essential spatial and temporal constraints for visiting Margaret."
        },
        "temporal_auditor": {
            "private_information": [
                "I must ensure all travel times are correctly modeled temporally.",
                "I check for violations of availability windows for all meetings."
            ],
            "goal": "Verify the temporal consistency of the initial planning components."
        },
        "optimizer": {
            "private_information": [
                "The core objective is to maximize the number of successful meetings within the available time."
            ],
            "goal": "Define the optimization metric and structure the problem to maximize successful meetings."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce a final multi-agent PDDL plan that satisfies all temporal constraints and optimizes the number of meetings."
        }
    },
    "environment": {
        "init": {
            "start_time_minutes": 540,
            "end_time_minutes_margaret": 1185,
            "locations": [
                "Marina District",
                "Pacific Heights"
            ],
            "travel_times": {
                "Marina_to_Pacific_Heights": 7,
                "Pacific_Heights_to_Marina": 6
            }
        },
        "public_information": [
            "You are visiting San Francisco for one day.",
            "Travel from Marina District to Pacific Heights takes 7 minutes.",
            "Travel from Pacific Heights to Marina District takes 6 minutes.",
            "You arrive at Marina District at 9:00 AM (Time 0).",
            "Margaret is available at Pacific Heights from 7:00 PM (19:00) to 7:45 PM (19:45).",
            "A successful meeting must last a minimum of 15 minutes."
        ]
    },
    "workflow": {
        "scheduler": {
            "pddl": {
                "input": [],
                "output": "pddl_scheduler",
                "system_prompt": "You are an expert in defining PDDL domains and problems focused on scheduling movement and temporal constraints. You must strictly adhere to the provided timeframes and geographical information. Use PDDL 2.1 syntax for duration constraints if necessary.",
                "prompt": "Your name is scheduler. You are planning a trip with the following public information:\n{environment->public_information}\nYou have the following knowledge:\n{agents->scheduler->private_information}\nThis is your immediate goal:\n{agents->scheduler->goal}\nFocus on modeling locations, travel actions, and the time windows for visiting Margaret. Provide a PDDL domain and a PDDL problem file to solve this segment of the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "temporal_auditor": {
            "pddl": {
                "input": [
                    "pddl_scheduler"
                ],
                "output": "pddl_auditor",
                "system_prompt": "You are an expert temporal auditor for PDDL plans. Your role is to analyze a submitted PDDL domain/problem, specifically checking for inconsistencies or violations regarding time and duration constraints. You must ensure temporal causality is maintained. You always provide a refined PDDL structure.",
                "prompt": "Your name is temporal_auditor. You need to verify the temporal plan components provided by the scheduler against the following constraints:\n{environment->public_information}\nHere is the scheduler's PDDL response:\n{pddl_scheduler}\nAnalyze the PDDL plan for temporal consistency (e.g., ensuring travel times are correctly modeled and Margaret's availability window is respected). If inconsistencies are found, provide a corrected or refined PDDL structure. Otherwise, echo the received PDDL but confirm its validity in your thinking process.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "optimizer": {
            "pddl": {
                "input": [
                    "pddl_auditor"
                ],
                "output": "pddl_optimizer",
                "system_prompt": "You are an optimization expert specializing in PDDL metrics. Your goal is to take a temporally valid PDDL plan and structure it to maximize the goal metric defined by the task requirements.",
                "prompt": "Your name is optimizer. The overall goal is:\n{agents->optimizer->goal}\nYou have received the validated temporal plan structure:\n{pddl_auditor}\nUsing the structure provided, define the PDDL metric necessary to maximize the number of successful meetings. Ensure that meeting Margaret contributes positively to the overall metric. Use PDDL 2.1 syntax for metric optimization.\nThink step by step and provide a PDDL domain and a PDDL problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_optimizer"
                ],
                "output": "pddl_final_plan",
                "system_prompt": "You are an expert with PDDL problems targeting the FastDownwards solver. You integrate planning components and optimization metrics to generate the final, comprehensive PDDL files.",
                "prompt": "Your name is orchestrator. You need to finalize the planning process by integrating the validated temporal plan and the defined optimization metrics. The final plan must satisfy all temporal constraints and maximize the metric of meetings.\nHere is the optimized PDDL structure:\n{pddl_optimizer}\nEnsure the domain supports PDDL 2.1 temporal features and metric optimization compatible with FastDownwards.\nThink step by step and provide the final unified PDDL domain and PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "scheduler.pddl->temporal_auditor.pddl",
            "temporal_auditor.pddl->optimizer.pddl",
            "optimizer.pddl->orchestrator.pddl"
        ]
    }
}