{
    "name": "MeetingPlanningExample3",
    "author": "Human",
    "agents": {
        "number": 5,
        "names": [
            "traveler",
            "availability_agent",
            "route_agent",
            "scheduler_agent",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "You value longer catch-ups with close friends.",
                "You are comfortable using public transit or rideshares within the city."
            ],
            "goal": "Meet as many friends as possible today while guaranteeing at least a 90-minute meeting with Barbara within her availability window."
        },
        "availability_agent": {
            "private_information": [
                "You specialize in normalizing human-readable time windows into machine-usable constraints."
            ],
            "goal": "Extract and normalize availability windows and minimum meeting requirements for known friends."
        },
        "route_agent": {
            "private_information": [
                "You estimate directed travel times between San Francisco neighborhoods and points of interest."
            ],
            "goal": "Provide directed travel-time facts between relevant locations so the schedule can be validated."
        },
        "scheduler_agent": {
            "private_information": [
                "You enumerate candidate schedules that respect availability and travel-time constraints."
            ],
            "goal": "Propose several feasible schedules and highlight the best option that maximizes meetings while satisfying all constraints."
        },
        "orchestrator": {
            "private_information": [
                "You integrate facts and candidate schedules and produce the final PDDL domain and problem for the FastDownward solver."
            ],
            "goal": "Synthesize a coherent planning model and instance that ensures meeting Barbara for at least 90 minutes and supports optimization of time."
        }
    },
    "environment": {
        "init": {
            "time_unit": "minutes",
            "day": "today",
            "time_discretization": 10,
            "solver_target": "FastDownward"
        },
        "public_information": [
            "You arrive at Bayview at 09:00 (540 minutes after midnight).",
            "Barbara will be at Golden Gate Park from 08:00 (480) to 11:30 (690).",
            "You would like to meet Barbara for a minimum of 90 minutes today.",
            "Directed travel times (in minutes): Bayview -> Golden Gate Park: 22; Golden Gate Park -> Bayview: 23.",
            "Primary objective: meet as many friends as possible; constraint: ensure a minimum 90-minute meeting with Barbara within her availability window."
        ]
    },
    "workflow": {
        "traveler": {
            "state_preferences": {
                "input": [],
                "output": "preferences_summary",
                "system_prompt": "You are the traveler summarizing any preferences that might shape scheduling and travel choices; do not produce PDDL.",
                "prompt": "Summarize your scheduling preferences and any soft constraints based on the public information: {environment->public_information}. Keep it concise and structured (bullets or short JSON)."
            }
        },
        "availability_agent": {
            "analyze_availability": {
                "input": [],
                "output": "availability_facts",
                "system_prompt": "You normalize human-readable time windows and minimum meeting requirements; do not produce PDDL.",
                "prompt": "From the public information {environment->public_information}, extract normalized availability facts and minimum required meeting durations for each person, using minutes-since-midnight. Return a concise machine-readable summary (e.g., JSON with fields: person, location, availability_start, availability_end, min_meeting_minutes)."
            }
        },
        "route_agent": {
            "estimate_travel": {
                "input": [],
                "output": "travel_facts",
                "system_prompt": "You provide directed travel time facts between locations; do not produce PDDL.",
                "prompt": "From the public information {environment->public_information}, output directed travel times as a compact machine-readable list of facts (e.g., JSON with fields: from, to, minutes). Include both Bayview->GoldenGatePark and GoldenGatePark->Bayview."
            }
        },
        "scheduler_agent": {
            "enumerate_schedules": {
                "input": [
                    "availability_facts",
                    "travel_facts"
                ],
                "output": "candidate_schedules",
                "system_prompt": "You enumerate feasible schedules and pick the best option under the stated objective; do not produce PDDL.",
                "prompt": "Using availability facts and travel times: {availability_facts} {travel_facts}, enumerate a few feasible schedules starting from Bayview at 09:00 (540). Each schedule should list actions with start times and durations (travel and meeting segments) and must include a meeting with Barbara for at least 90 minutes within her availability window. Identify the best schedule according to the objective 'meet as many friends as possible' (with known data, prioritize satisfying Barbara's minimum meeting) and explain why it is best."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "availability_facts",
                    "travel_facts",
                    "candidate_schedules"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in PDDL 2.1 numeric planning targeting the FastDownward solver. You must output a complete PDDL domain and problem that satisfy the requirements. Always enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "Integrate the availability and travel facts and the candidate schedules to produce a valid planning model for FastDownward that ensures a meeting with Barbara of at least 90 minutes within her availability and respects directed travel times. Use minutes-since-midnight. Provide: 1) a PDDL domain named meeting-planner-sf with types (location, person), predicates (at ?l - location, person_at ?p - person ?l - location), and numeric functions (time, travel_time ?from ?to - location, remaining_need ?p - person, avail_start ?p - person, avail_end ?p - person). Include actions: travel (?from ?to) that moves the traveler and increases time by travel_time, and meet-10 (?p ?l) that requires co-location and time within [avail_start, avail_end - 10], increases time by 10, and decreases remaining_need by 10. 2) a PDDL problem that instantiates locations bayview and ggp, and person barbara, with initial numeric values: time = 540; travel_time bayview ggp = 22; travel_time ggp bayview = 23; avail_start barbara = 480; avail_end barbara = 690; remaining_need barbara = 90; predicates: at bayview, person_at barbara ggp. Set the goal to (<= (remaining_need barbara) 0) and add a metric to minimize (time). Output only the PDDL in the required tags."
            }
        },
        "constraints": [
            "availability_agent.analyze_availability->scheduler_agent.enumerate_schedules",
            "route_agent.estimate_travel->scheduler_agent.enumerate_schedules",
            "availability_agent.analyze_availability->orchestrator.pddl",
            "route_agent.estimate_travel->orchestrator.pddl",
            "scheduler_agent.enumerate_schedules->orchestrator.pddl"
        ]
    }
}