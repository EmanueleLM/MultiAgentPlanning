{
    "name": "MeetingPlanningExample7",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "traveler",
            "john",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "You arrive at Richmond District at 9:00AM",
                "You want to meet as many friends as possible during the day",
                "You know travel times: Richmond District to North Beach takes 17 minutes and North Beach to Richmond District takes 18 minutes"
            ],
            "goal": "Plan a daily schedule that maximizes meetings with friends while ensuring a meeting with John of at least 75 minutes during his availability"
        },
        "john": {
            "private_information": [
                "I will be at North Beach from 3:15PM to 5:15PM",
                "I am available only within that window for meeting the traveler"
            ],
            "goal": "Be met by the traveler for at least 75 minutes sometime between 3:15PM and 5:15PM"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate schedule proposals and produce a final PDDL domain and problem compatible with the FastDownward solver to find an optimal schedule that satisfies all constraints"
        }
    },
    "environment": {
        "init": {
            "start_location": "Richmond District",
            "arrival_time": "09:00AM",
            "day": "one_day_trip"
        },
        "public_information": [
            "Locations of interest: Richmond District and North Beach",
            "Travel time from Richmond District to North Beach is 17 minutes",
            "Travel time from North Beach to Richmond District is 18 minutes",
            "You arrive at Richmond District at 9:00AM",
            "John will be at North Beach from 3:15PM to 5:15PM",
            "You would like to meet John for a minimum of 75 minutes"
        ]
    },
    "workflow": {
        "traveler": {
            "propose_schedule": {
                "input": [],
                "output": "traveler_schedule",
                "system_prompt": "You are an expert day planner for a person visiting a city. Provide candidate schedules as structured proposals listing meeting slots, travel legs with durations, and arrival and departure times for each meeting. Do not emit PDDL.",
                "prompt": "You are the traveler. Consider the public information about locations and travel times and your private information that you arrive at Richmond District at 09:00AM and want to meet as many friends as possible. Propose one or more feasible candidate schedules for the day. For each candidate schedule provide a list of visits with start and end times, travel segments with durations, and any assumptions you make."
            }
        },
        "john": {
            "announce_availability": {
                "input": [],
                "output": "john_availability",
                "system_prompt": "You are a person describing your availability window and any flexibility. Provide your exact availability windows and whether any parts of that window are more or less flexible. Do not emit PDDL.",
                "prompt": "You are John. Provide your availability details based on your private information that you will be at North Beach from 3:15PM to 5:15PM and that you require a meeting of at least 75 minutes. State any flexibility within that window and any constraints on meeting start or end times."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "traveler_schedule",
                    "john_availability"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL formulation targeting the FastDownward planner. Integrate schedule proposals and availability declarations into a single PDDL domain and a PDDL problem. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep agent actions distinct and include optimization metric components to maximize meetings while satisfying hard timing constraints. The produced PDDL must be compatible with FastDownward.",
                "prompt": "You receive candidate schedules from the traveler and availability from John. Integrate them to produce a PDDL domain and a PDDL problem that the FastDownward solver can use to find an optimal schedule. Represent time as discrete minutes or appropriate time steps, encode travel durations between Richmond District and North Beach, enforce the traveler's arrival at 09:00AM, enforce John's availability at North Beach from 3:15PM to 5:15PM, and require at least 75 minutes of meeting time with John within that window. Also encode the objective to maximize meetings with friends or maximize total meeting time if multiple friends are present. Provide the PDDL domain and PDDL problem only, enclosed in <domain> and <problem> tags, and do not include additional commentary."
            }
        },
        "constraints": [
            "traveler.propose_schedule->orchestrator.pddl",
            "john.announce_availability->orchestrator.pddl"
        ]
    }
}