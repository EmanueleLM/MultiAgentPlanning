{
    "name": "MeetingPlanningExample9",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "traveler",
            "calendar_agent",
            "routing_agent",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "Personal objective: maximize the number of friends met today while respecting hard constraints.",
                "Hard constraint: meet Mary for at least 75 minutes within her availability window.",
                "Starting position: Union Square at 09:00."
            ],
            "goal": "Create a feasible day plan that enables meeting as many friends as possible, satisfying the 75-minute meeting with Mary within her availability, and respecting travel times."
        },
        "calendar_agent": {
            "private_information": [
                "Known friend: Mary.",
                "Mary's availability: at Nob Hill from 12:00 to 16:15.",
                "Required minimum meeting duration with Mary: 75 minutes."
            ],
            "goal": "Aggregate friend availability windows, minimum meeting requirements, and hard constraints into a clear, conflict-free agenda baseline."
        },
        "routing_agent": {
            "private_information": [
                "Travel time Union Square -> Nob Hill: 9 minutes.",
                "Travel time Nob Hill -> Union Square: 7 minutes.",
                "Traveler arrives at Union Square at 09:00."
            ],
            "goal": "Propose distinct, feasible route and schedule candidates that respect time windows and travel times, explicitly including a plan to meet Mary for at least 75 minutes."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate preferences, availability, and route candidates to produce a final, planner-ready PDDL domain and problem targeting the Fast Downward solver that enforces meeting Mary for at least 75 minutes within her availability window."
        }
    },
    "environment": {
        "init": {
            "timezone": "America/Los_Angeles",
            "start_location": "Union Square",
            "time_unit": "minute",
            "reference_times": {
                "09:00": 540,
                "12:00": 720,
                "16:15": 975
            }
        },
        "public_information": [
            "You arrive at Union Square at 09:00.",
            "Mary will be at Nob Hill from 12:00 to 16:15.",
            "You want to meet Mary for at least 75 minutes.",
            "Travel time from Union Square to Nob Hill is 9 minutes.",
            "Travel time from Nob Hill to Union Square is 7 minutes.",
            "Primary objective: meet as many friends as possible given known availabilities; if information about other friends is unavailable, prioritize satisfying the meeting with Mary."
        ]
    },
    "workflow": {
        "traveler": {
            "preference_summary": {
                "input": [],
                "output": "prefs",
                "system_prompt": "You are a helpful planner who summarizes user preferences and hard constraints for a single-day city visit.",
                "prompt": "Your name is traveler. Summarize goals and constraints in a concise, structured list including priorities, meeting duration requirements, starting position and time, and any optimization preferences. Use only information you have: public information {environment->public_information} and your knowledge {agents->traveler->private_information}. Do not produce PDDL; produce a clear, human-readable summary."
            }
        },
        "calendar_agent": {
            "availability": {
                "input": [],
                "output": "availability_data",
                "system_prompt": "You maintain and reconcile friend availability windows and required meeting durations.",
                "prompt": "Your name is calendar_agent. Produce a concise availability summary for known friends, listing each friend's location, availability window, and minimum required meeting duration, along with any hard constraints. Use only information you have: public information {environment->public_information} and your knowledge {agents->calendar_agent->private_information}. Do not produce PDDL; produce a clear, human-readable summary."
            }
        },
        "routing_agent": {
            "generate_routes": {
                "input": [
                    "prefs",
                    "availability_data"
                ],
                "output": "route_candidates",
                "system_prompt": "You design feasible travel and meeting schedules that respect time windows and travel times.",
                "prompt": "Your name is routing_agent. Using public information {environment->public_information}, traveler preferences {prefs}, and availability data {availability_data}, propose 2 to 4 distinct feasible candidate schedules. Each candidate should specify the sequence of locations, departure and arrival times, buffer times, and the exact meeting interval with Mary lasting at least 75 minutes within her window. Do not produce PDDL; produce a compact, human-readable list of candidates."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "prefs",
                    "availability_data",
                    "route_candidates"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL planning targeting the Fast Downward solver. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the PDDL domain between <domain></domain> tags, and the PDDL problem between <problem></problem> tags. Your domain and problem must be solvable by Fast Downward (classical mode) using numeric fluents and action costs. Model time as a numeric fluent in minutes with 09:00 = 540, 12:00 = 720, and 16:15 = 975. Encode travel times via a travel-time function and update both time and total-cost. Enforce meeting Mary for at least 75 minutes within her availability window by requiring the meeting to start no earlier than 720 and no later than 900 (which is 975 - 75). Provide a simple wait-until-noon action using assign to advance time to 720 if needed. Include objects for locations (union_square, nob_hill) and person (mary). Initial state must place the traveler at union_square at time 540, set travel-time union_square->nob_hill = 9 and nob_hill->union_square = 7, set availability bounds and latest-start for Mary, and require the goal (met mary). Use :requirements at least :strips :typing :negative-preconditions :fluents :numeric-fluents :action-costs. Minimize total-cost.",
                "prompt": "You will receive traveler preferences {prefs}, availability data {availability_data}, and route candidates {route_candidates}. Integrate them and produce a final PDDL domain and problem that capture: locations (Union Square, Nob Hill), a single traveler, friend Mary, numeric time in minutes, travel durations, the ability to optionally wait until 12:00, and the requirement to meet Mary for at least 75 minutes within 12:00 to 16:15. Choose the simplest consistent encoding aligned with Fast Downward. Return only the PDDL enclosed in <domain></domain> and <problem></problem> with no extra commentary."
            }
        },
        "constraints": [
            "traveler.preference_summary->routing_agent.generate_routes",
            "calendar_agent.availability->routing_agent.generate_routes",
            "routing_agent.generate_routes->orchestrator.pddl",
            "calendar_agent.availability->orchestrator.pddl",
            "traveler.preference_summary->orchestrator.pddl"
        ]
    }
}