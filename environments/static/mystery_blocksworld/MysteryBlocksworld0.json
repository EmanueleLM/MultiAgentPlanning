{
    "name": "MysteryBlocksworld0",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "ExpertPlanner",
            "Auditor",
            "orchestrator"
        ],
        "ExpertPlanner": {
            "private_information": [
                "I am responsible for defining the abstract planning domain based on the provided rules."
            ],
            "goal": "Generate a PDDL domain and problem definition to achieve the goal state starting from the initial state."
        },
        "Auditor": {
            "private_information": [
                "I must verify that the PDDL domain adheres strictly to standard planning syntax and that the problem instance is solvable given the initial state."
            ],
            "goal": "Review the planning artifacts generated by the ExpertPlanner for temporal/causal consistency and PDDL validity."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Consolidate and finalize the PDDL domain and problem files for the overall task."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "a",
                "b",
                "c",
                "d"
            ],
            "types": [
                "object"
            ]
        },
        "public_information": [
            "The environment consists of four objects: a, b, c, and d.",
            "Predicates available: (Province ?o), (Planet ?o), (Harmony), (Pain ?o), (Craves ?o1 ?o2).",
            "Initial State:",
            "  - Craves(a, b), Craves(d, c)",
            "  - Harmony is true",
            "  - Planet(b), Planet(c)",
            "  - Province(a), Province(d)",
            "Goal State: Craves(c, a).",
            "Action Rules:",
            "1. Attack (?o): Pre: Province(?o), Planet(?o), Harmony. Effects: Add Pain(?o). Del Province(?o), Planet(?o), Harmony.",
            "2. Succumb (?o): Pre: Pain(?o). Effects: Add Province(?o), Planet(?o), Harmony. Del Pain(?o).",
            "3. Overcome (?o1, ?o2): Pre: Province(?o2), Pain(?o1). Effects: Add Harmony, Province(?o1), Craves(?o1, ?o2). Del Province(?o2), Pain(?o1).",
            "4. Feast (?o1, ?o2): Pre: Craves(?o1, ?o2), Province(?o1), Harmony. Effects: Add Pain(?o1), Province(?o2). Del Craves(?o1, ?o2), Province(?o1), Harmony."
        ]
    },
    "workflow": {
        "ExpertPlanner": {
            "pddl": {
                "input": [],
                "output": "pddl_initial_plan",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your task is to define a PDDL domain and problem instance based on the provided environment context, initial state, goal state, and action rules.\nEnvironment public information:\n{environment->public_information}\nGlobal Goal:\n{agents->ExpertPlanner->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task. Ensure all action parameters and preconditions reflect the rules accurately.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "Auditor": {
            "review": {
                "input": [
                    "pddl_initial_plan"
                ],
                "output": "pddl_review_feedback",
                "system_prompt": "You are a planning domain auditor specializing in temporal and causal consistency. Your goal is to review the provided PDDL plan to ensure it is valid, conforms to standard syntax, and logically achieves the goal without using non-standard shortcuts or external bookkeeping mechanisms.",
                "prompt": "Review the following PDDL domain and problem definition generated by the ExpertPlanner:\n{pddl_initial_plan}\nYour primary goal is to audit temporal/causal consistency and remove any bookkeeping shortcuts (quota tokens, post-hoc penalties, etc.).\nIf the PDDL is valid and consistent, state 'VALID PDDL'. If changes are needed, describe them clearly.\nOutput your analysis and/or correction.\nIf corrections are applied, re-enclose the corrected PDDL domain between <domain></domain> tags, and the corrected PDDL problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_initial_plan",
                    "pddl_review_feedback"
                ],
                "output": "pddl_final",
                "system_prompt": "You are the final orchestrator. You receive planning artifacts and feedback. Your job is to compile the definitive PDDL domain and problem files, ensuring they are ready for execution by a solver like FastDownwards. Always prioritize audited and corrected plans if available.",
                "prompt": "You have received the initial plan (pddl_initial_plan) and the auditor's review (pddl_review_feedback). Based on the review, output the final, confirmed PDDL domain and problem files.\nInitial Plan:\n{pddl_initial_plan}\nAuditor Review:\n{pddl_review_feedback}\nIf the auditor provided a corrected PDDL, use that version. Otherwise, use the initial plan. Ensure the final output is enclosed between <domain></domain> tags and <problem></problem> tags, ready for a standard PDDL solver."
            }
        },
        "constraints": [
            "ExpertPlanner.pddl->Auditor.review",
            "Auditor.review->orchestrator.pddl"
        ]
    }
}