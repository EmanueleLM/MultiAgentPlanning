{
    "name": "MysteryBlocksworld16",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [
                "I am responsible for formalizing abstract rules into PDDL, defining objects, predicates, and actions based on the provided constraints."
            ],
            "goal": "Formalize the environment, actions, initial state, and goal state into a valid PDDL problem and domain file to find a plan that solves the task."
        },
        "auditor": {
            "private_information": [
                "I must ensure causal consistency and adherence to temporal rules."
            ],
            "goal": "Review the PDDL plan generated by the planner for logical and causal consistency against the original rules provided, ensuring no shortcuts are used."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate the output for the FastDownwards solver."
            ],
            "goal": "Integrate the PDDL plan and the audit feedback to produce the final, verified PDDL domain and problem ready for execution by a solver."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 1
        },
        "public_information": [
            "Objects involved in the task are identified as a, b, c, and d. These represent abstract entities.",
            "Initial State:",
            " - object a craves object c",
            " - object b craves object a",
            " - object d craves object b",
            " - harmony is true",
            " - planet object c is true",
            " - province object d is true",
            "Goal State:",
            " - object b craves object c must be true",
            " - object c craves object d must be true"
        ],
        "rules": [
            "Attack (O): Preconditions: Province(O), Planet(O), Harmony. Effects: +Pain(O), -Province(O), -Planet(O), -Harmony.",
            "Succumb (O): Preconditions: Pain(O). Effects: +Province(O), +Planet(O), +Harmony, -Pain(O).",
            "Overcome (O, O2): Preconditions: Province(O2), Pain(O). Effects: +Harmony, +Province(O), +Craves(O, O2), -Province(O2), -Pain(O).",
            "Feast (O, O2): Preconditions: Craves(O, O2), Province(O), Harmony. Effects: +Pain(O), +Province(O2), -Craves(O, O2), -Province(O), -Harmony."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You must define object types, predicates, and actions accurately based on the provided abstract rules. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You are a specialized planner agent. Formalize the planning environment described below into a PDDL domain and problem file. All abstract 'objects' (a, b, c, d) should be treated as entities of a single type.\n\nRules and constraints:\n{environment->rules}\n\nInitial State and Goal:\n{environment->public_information}\n\nThink step by step and provide the PDDL domain and problem to achieve the goal.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_planner"
                ],
                "output": "review_auditor",
                "system_prompt": "You are an expert auditor specializing in validating PDDL planning problems. Your role is to ensure that the PDDL domain accurately implements the stated rules and that the PDDL problem correctly captures the initial and goal states, without introducing simplified bookkeeping mechanisms (like generic counters or post-hoc penalties) that might bypass the causal logic. Focus strictly on causal consistency.",
                "prompt": "Review the PDDL provided by the planner against the original rules (preconditions and effects):\n\nOriginal Rules:\n{environment->rules}\n\nPlanner's PDDL output:\n{pddl_planner}\n\nAnalyze the consistency. If the PDDL is consistent and complete, state 'PDDL CONSISTENT'. If changes are needed, describe specific corrections to the domain (types, predicates, or actions) or the problem (objects, initial state, or goal state) to ensure strict adherence to the causality defined by the rules. Do not generate the PDDL itself, just the feedback."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_planner",
                    "review_auditor"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the central orchestrator responsible for compiling the final PDDL required by the FastDownwards solver. You must ensure the resulting PDDL is a single, coherent pair of domain and problem files.",
                "prompt": "You have received an initial PDDL plan and an audit review. Your task is to produce the final, executable PDDL domain and problem files.\n\nInitial PDDL proposal:\n{pddl_planner}\n\nAudit Feedback:\n{review_auditor}\n\nIf the audit indicates inconsistencies, integrate the necessary corrections. If the audit confirms consistency, output the original PDDL proposal directly.\n\nThink step by step to ensure correctness and adherence to the original planning task goal.\nEnclose the final pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl->auditor.review",
            "planner.pddl->orchestrator.pddl",
            "auditor.review->orchestrator.pddl"
        ]
    }
}