{
    "name": "MysteryBlocksworld2",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "analyzer_actions",
            "analyzer_plan",
            "orchestrator"
        ],
        "analyzer_actions": {
            "private_information": [
                "You are focused on the formalization of the action schemata and the mapping between action names and their preconditions and effects.",
                "You have detailed knowledge of the six actions: paltry, sip, clip, wretched, memory, tightfisted and their described preconditions and effects as provided in the use case."
            ],
            "goal": "Parse and structure the action definitions into predicates, parameter lists, preconditions and effects so another agent can construct PDDL."
        },
        "analyzer_plan": {
            "private_information": [
                "You are focused on initial states, goals, and plan trace validation.",
                "You have the two scenario statements, the initial facts, and the example plan steps from the use case."
            ],
            "goal": "Validate the provided plan fragments against the action schemata, enumerate all objects present, list initial facts and desired goal facts, and report any missing or inconsistent facts required to execute the plan."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the analyses from the analyzers and produce a final PDDL domain and PDDL problem suitable for the FastDownward planner that models the environment and the latest stated goal."
        }
    },
    "environment": {
        "init": {
            "objects_count": 9
        },
        "public_information": [
            "Objects present include object_0 through object_8.",
            "Predicates present include hand(X), cats(X), texture(X), vase(X,Y), next(X,Y), sneeze(X), collect(X,Y), spring(X), stupendous(X).",
            "Actions available: paltry, sip, clip, wretched, memory, tightfisted.",
            "Action paltry requires: hand object_0, cats object_1, texture object_2, vase object_0 object_1, next object_1 object_2; performing paltry makes next object_0 object_2 true and makes vase object_0 object_1 false.",
            "Action sip requires: hand object_0, cats object_1, texture object_2, next object_0 object_2, next object_1 object_2; performing sip makes vase object_0 object_1 true and makes next object_0 object_2 false.",
            "Action clip requires: hand object_0, sneeze object_1, texture object_2, next object_1 object_2, next object_0 object_2; performing clip makes vase object_0 object_1 true and makes next object_0 object_2 false.",
            "Action wretched requires: sneeze object_0, texture object_1, texture object_2, stupendous object_3, next object_0 object_1, collect object_1 object_3, collect object_2 object_3; performing wretched makes next object_0 object_2 true and makes next object_0 object_1 false.",
            "Action memory requires: cats object_0, spring object_1, spring object_2, next object_0 object_1; performing memory makes next object_0 object_2 true and makes next object_0 object_1 false.",
            "Action tightfisted requires: hand object_0, sneeze object_1, texture object_2, next object_1 object_2, vase object_0 object_1; performing tightfisted makes next object_0 object_2 true and makes vase object_0 object_1 false.",
            "Initial facts for the scenarios include: cats object_0; collect object_5 object_1; collect object_6 object_2; hand object_7; hand object_8; next object_0 object_6; next object_3 object_5; next object_4 object_6; next object_7 object_6; next object_8 object_6; sneeze object_3; sneeze object_4; spring object_5; spring object_6; stupendous object_1; stupendous object_2; texture object_5; texture object_6.",
            "Two goals appear in the use case. The first scenario's goal was next object_7 object_6 and next object_8 object_6 and had an example plan. The later stated (current) goal is next object_7 object_5 and next object_8 object_5."
        ]
    },
    "workflow": {
        "analyzer_actions": {
            "analyze": {
                "input": [],
                "output": "analysis_actions",
                "system_prompt": "You are an expert analyst of action schemata. Using the public information and your private information, extract and return a structured description of the domain's predicates, the list of objects referenced by actions, and a formalized version of each action as: name, parameters, preconditions, and add/delete effects. Do not emit PDDL. Provide the analysis as structured JSON only.",
                "prompt": "Your name is analyzer_actions. You are provided with the public information about the environment and you have the following private knowledge: {agents->analyzer_actions->private_information}. Produce a structured JSON analysis of predicates, objects used by the actions, and for each action produce a clear parameter list and explicit preconditions and effects derived from the public information. Do not produce PDDL and do not assume facts that are not stated."
            }
        },
        "analyzer_plan": {
            "analyze": {
                "input": [],
                "output": "analysis_plan",
                "system_prompt": "You are an expert at validating initial states, goals and stepwise plans. Using the public information and your private information, enumerate all objects present in the initial state, list the initial facts, restate the current goal, and evaluate the provided plan fragments step by step against the action schemata. Report any missing preconditions in the initial state or any contradictions. Do not emit PDDL. Provide the analysis as structured JSON only.",
                "prompt": "Your name is analyzer_plan. You are provided with the public information about the environment and you have the following private knowledge: {agents->analyzer_plan->private_information}. Produce a structured JSON report that lists all objects found, the initial facts, the active goal to achieve, and a validation of each plan step given the action schemata. Indicate whether each step is applicable, what new facts it would produce, and any unmet preconditions. Do not produce PDDL and do not invent unspecified facts."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "analysis_actions",
                    "analysis_plan"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent PDDL modeling and planning for the FastDownward planner. You will receive structured JSON analyses from other agents summarizing predicates, objects, action schemata, initial facts, goals and plan validation. Your task is to integrate those analyses and produce a complete PDDL domain file and a PDDL problem file suitable for FastDownward. Ensure action names are distinct and consistent, define all predicates and objects, and encode the latest stated goal of achieving next object_7 object_5 and next object_8 object_5. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target FastDownward compatibility and include appropriate :requirements. Output only the two tagged PDDL sections.",
                "prompt": "You are the orchestrator. Integrate the following analyses: analysis of actions: {analysis_actions} and analysis of plans/initial state: {analysis_plan}. Produce a PDDL domain and PDDL problem pair that models the environment and the current goal next object_7 object_5 and next object_8 object_5. Keep agent actions distinct by preserving action names and parameters. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem>. The output will be consumed by the FastDownward planner."
            }
        },
        "constraints": [
            "analyzer_actions.analyze->orchestrator.pddl",
            "analyzer_plan.analyze->orchestrator.pddl"
        ]
    }
}