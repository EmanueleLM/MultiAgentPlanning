{
    "name": "MysteryBlocksworld3",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "analyst",
            "simulator",
            "auditor",
            "orchestrator"
        ],
        "analyst": {
            "private_information": [
                "I am responsible for converting the human description of actions and constraints into a precise structured action model.",
                "I should not emit PDDL directly but must produce a formal, unambiguous representation of actions, their preconditions, and their effects."
            ],
            "goal": "Produce a precise, structured action model representing Attack, Succumb, Overcome, and Feast with clear preconditions and effects."
        },
        "simulator": {
            "private_information": [
                "I am responsible for generating possible action sequences consistent with the analyst model and the initial state.",
                "I produce simulation traces showing state transitions step by step without committing to a final planner encoding."
            ],
            "goal": "Explore reachable states from the initial conditions and produce candidate traces that can achieve the high-level goal if possible."
        },
        "auditor": {
            "private_information": [
                "I audit temporal and causal consistency and remove bookkeeping shortcuts such as quota tokens, post-hoc penalties, or implicit shorthand.",
                "I identify and correct latent assumptions and ensure effects and preconditions are causally coherent across traces."
            ],
            "goal": "Audit the analyst model and simulator traces to ensure causal and temporal consistency and to remove any bookkeeping shortcuts."
        },
        "orchestrator": {
            "private_information": [
                "I coordinate the contributions of other agents and produce a final PDDL domain and problem targeted for the FastDownwards solver.",
                "I must integrate the structured model, simulation traces, and audit corrections to produce a coherent final planning encoding."
            ],
            "goal": "Produce a final PDDL domain and problem for FastDownwards that encodes the actions and initial state and achieves the goal that object b craves object a and object d craves object c."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "a",
                "b",
                "c",
                "d"
            ],
            "predicates": [
                "craves(x,y)",
                "harmony",
                "planet(x)",
                "province(x)",
                "pain"
            ]
        },
        "public_information": [
            "Actions available: Attack, Succumb, Overcome, Feast.",
            "Attack preconditions: province(object), planet(object), harmony.",
            "Attack effects add: pain.",
            "Attack effects remove: province(object), planet(object), harmony.",
            "Succumb preconditions: pain.",
            "Succumb effects add: province(object), planet(object), harmony.",
            "Succumb effects remove: pain.",
            "Overcome preconditions: province(other_object), pain.",
            "Overcome effects add: harmony, province(object), craves(object, other_object).",
            "Overcome effects remove: province(other_object), pain.",
            "Feast preconditions: craves(object, other_object), province(object), harmony.",
            "Feast effects add: pain, province(other_object).",
            "Feast effects remove: craves(object, other_object), province(object), harmony.",
            "Initial facts: craves(b,a), craves(c,b), harmony, planet(a), planet(d), province(c), province(d).",
            "Goal: craves(b,a) and craves(d,c)."
        ]
    },
    "workflow": {
        "analyst": {
            "analysis": {
                "input": [],
                "output": "model_analyst",
                "system_prompt": "You are an expert modeler of action schemas. Your task is to convert a human description of actions and constraints into a formal structured action model. Do not emit PDDL. Instead produce a clear representation that lists each action name, parameters, preconditions as a set of ground or parameterized predicates, add effects, and delete effects. Explicitly note any ambiguous or missing references and do not assume unspecified facts.",
                "prompt": "Your role is analyst. You have the following public information: {environment->public_information} You have private information: {agents->analyst->private_information} Your goal: {agents->analyst->goal} Produce a precise structured action model for Attack, Succumb, Overcome, and Feast. For each action include parameters, positive preconditions, negative preconditions if any, add effects, and delete effects. Flag ambiguities instead of resolving them by assumption."
            }
        },
        "simulator": {
            "simulate": {
                "input": [
                    "model_analyst"
                ],
                "output": "simulation_trace",
                "system_prompt": "You are a deterministic state simulator. Given a structured action model and an initial state you produce stepwise state traces that show the state before and after each action application. Do not produce PDDL. If multiple plausible traces exist, produce a small set of representative traces and explain which assumptions you used to choose them.",
                "prompt": "Your role is simulator. Use this structured model: {model_analyst} and the environment public information: {environment->public_information} Your goal: {agents->simulator->goal} Produce candidate action sequences and the corresponding state transitions starting from the initial facts. Make implicit assumptions explicit. Provide at least one trace that attempts to reach the goal if possible."
            }
        },
        "auditor": {
            "audit": {
                "input": [
                    "model_analyst",
                    "simulation_trace"
                ],
                "output": "audit_report",
                "system_prompt": "You are a temporal and causal auditor. Your responsibility is to remove bookkeeping shortcuts and to ensure that action preconditions and effects are temporally and causally consistent. Look for placeholders like quota tokens, ad-hoc counters, or post-hoc penalties and recommend normalized causal schemas. Produce corrections or clarifications to the model and to any simulation trace to eliminate such shortcuts.",
                "prompt": "Your role is auditor. Use the model: {model_analyst} and traces: {simulation_trace} and the public information: {environment->public_information} Your goal: {agents->auditor->goal} Produce an audit report that lists detected bookkeeping shortcuts or implicit assumptions and provide corrected model fragments and trace adjustments that ensure causal and temporal consistency. Output a cleaned model fragment and annotated traces."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "model_analyst",
                    "simulation_trace",
                    "audit_report"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert PDDL engineer preparing input for the FastDownwards planner. Integrate the structured model, simulation traces, and auditor corrections. Produce a complete PDDL domain and a PDDL problem that encode objects, predicates, initial state, and the goal. Enclose the PDDL domain between <domain></domain> and the PDDL problem between <problem></problem>. Use STRIPS or typed predicates as appropriate and ensure compatibility with FastDownwards. Keep agent actions distinct only if model requires multi-agent separation. Resolve ambiguities by using the auditor report. Do not include extraneous bookkeeping tokens in the PDDL.",
                "prompt": "Your role is orchestrator. Inputs: analyst model {model_analyst}, simulator traces {simulation_trace}, auditor corrections {audit_report}, and environment public information {environment->public_information} Your goal: {agents->orchestrator->goal} Produce a PDDL domain and a PDDL problem targeted for FastDownwards. Enclose the domain in <domain></domain> and the problem in <problem></problem>. Ensure predicates, object declarations, initial state, and goal are consistent with the auditor's cleaned model. If you make design choices, document them briefly above the PDDL as plain text comments."
            }
        },
        "constraints": [
            "analyst.analysis->simulator.simulate",
            "simulator.simulate->auditor.audit",
            "auditor.audit->orchestrator.pddl",
            "analyst.analysis->orchestrator.pddl"
        ]
    },
    "constraints": [
        "analyst.analysis->simulator.simulate",
        "simulator.simulate->auditor.audit",
        "auditor.audit->orchestrator.pddl",
        "analyst.analysis->orchestrator.pddl"
    ]
}