{
    "name": "MysteryBlocksworld6",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "planner",
            "auditor",
            "orchestrator"
        ],
        "planner": {
            "private_information": [],
            "goal": "Generate a PDDL plan to achieve the target craving relations using the defined actions."
        },
        "auditor": {
            "private_information": [],
            "goal": "Audit the PDDL generated by the planner for temporal and causal consistency based on the environment rules."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the planning output and audit feedback to produce the final, validated PDDL domain and problem."
        }
    },
    "environment": {
        "init": {
            "objects": [
                "a",
                "b",
                "c",
                "d"
            ],
            "initial_facts": [
                "object b craves object c",
                "harmony",
                "planet object a",
                "planet object c",
                "planet object d",
                "province object a",
                "province object b",
                "province object d"
            ],
            "goal_state": [
                "object a craves object b",
                "object b craves object d",
                "object d craves object c"
            ]
        },
        "public_information": [
            "This is a planning domain involving objects (a, b, c, d) and abstract concepts (Province, Planet, Harmony, Pain, Craves).",
            "Actions are restricted by preconditions and have specific effects:",
            "1. Attack object O:",
            "   Preconditions: Province O, Planet O, Harmony.",
            "   Effects (Add): Pain O.",
            "   Effects (Delete): Province O, Planet O, Harmony.",
            "2. Feast object O from other object O2:",
            "   Preconditions: O Craves O2, Province O, Harmony.",
            "   Effects (Add): Pain O, Province O2.",
            "   Effects (Delete): O Craves O2, Province O, Harmony.",
            "3. Succumb object O:",
            "   Preconditions: Pain O.",
            "   Effects (Add): Province O, Planet O, Harmony.",
            "   Effects (Delete): Pain O.",
            "4. Overcome object O from other object O2:",
            "   Preconditions: Province O2, Pain O.",
            "   Effects (Add): Harmony, Province O, O Craves O2.",
            "   Effects (Delete): Province O2, Pain O."
        ]
    },
    "workflow": {
        "planner": {
            "pddl": {
                "input": [],
                "output": "pddl_draft",
                "system_prompt": "You are an expert PDDL problem generator. Based on the provided environment definition, initial state, and goal, you must generate a complete PDDL domain and problem file. Ensure all objects, predicates (Province, Planet, Harmony, Pain, Craves), and actions (Attack, Feast, Succumb, Overcome) are defined correctly.",
                "prompt": "You are the primary planner. The environment is defined by the following public information (rules):\n{environment->public_information}\nThe initial state is:\n{environment->init->initial_facts}\nThe goal state is:\n{environment->init->goal_state}\nGenerate the PDDL domain and problem to solve this task. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "auditor": {
            "review": {
                "input": [
                    "pddl_draft"
                ],
                "output": "auditor_feedback",
                "system_prompt": "You are an expert auditor specializing in temporal and causal consistency checking for PDDL plans. Your task is to review the provided PDDL draft against the environment rules, ensuring no shortcuts or inconsistent logic are present. Focus strictly on whether the plan adheres to the action definitions and transitions specified. Remove any bookkeeping shortcuts (quota tokens, post-hoc penalties, etc.).",
                "prompt": "Review the following PDDL draft:\n{pddl_draft}\nYour primary goal is to audit temporal/causal consistency. Provide feedback on whether the PDDL accurately models the domain rules provided in the environment specification. If it is consistent and correct, state 'PDDL structure is consistent and correct.' Otherwise, detail required modifications."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_draft",
                    "auditor_feedback"
                ],
                "output": "pddl_final",
                "system_prompt": "You are an expert with PDDL problems, responsible for finalizing the planning environment for the FastDownwards solver. You must ensure the resulting PDDL domain and problem are valid and incorporate any necessary corrections based on the auditor's feedback.",
                "prompt": "You have received a PDDL draft and feedback from the auditor. The global goal is:\n{agents->orchestrator->goal}\nPDDL Draft:\n{pddl_draft}\nAuditor Feedback:\n{auditor_feedback}\nBased on the draft and the feedback, finalize the PDDL domain and problem. If the feedback suggests corrections, implement them. Ensure the final PDDL is ready for execution. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "planner.pddl->auditor.review",
            "planner.pddl->orchestrator.pddl",
            "auditor.review->orchestrator.pddl"
        ]
    }
}