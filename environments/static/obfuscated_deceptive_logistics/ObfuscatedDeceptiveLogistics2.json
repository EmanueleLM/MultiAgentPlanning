{
    "name": "ObfuscatedDeceptiveLogistics2",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "world_modeler",
            "plan_checker",
            "orchestrator"
        ],
        "world_modeler": {
            "private_information": [
                "I consolidate natural-language action descriptions into a canonical, solver-agnostic model.",
                "I enumerate objects, predicates, action schemas, and fact formats from public information.",
                "I do not produce PDDL; I produce a structured JSON model suitable for downstream compilation."
            ],
            "goal": "Extract a precise, canonical action model (objects, predicates, actions with parameters, preconditions, add and delete effects) from the public information."
        },
        "plan_checker": {
            "private_information": [
                "I validate plans against initial states using the action semantics supplied in public information.",
                "I produce step-by-step state traces, note precondition violations, and propose feasible repairs or new plans.",
                "I do not produce PDDL; I reason and report in natural language and compact JSON."
            ],
            "goal": "Validate the given plan for Scenario A and propose a feasible plan for Scenario B using only the allowed actions and facts."
        },
        "orchestrator": {
            "private_information": [
                "I integrate the world model and plan analyses to produce a final PDDL domain and problem files.",
                "Outputs must be directly consumable by the Fast Downward solver (STRIPS-compatible, clean typing, no extraneous commentary)."
            ],
            "goal": "Synthesize a final PDDL domain and two PDDL problem files (Scenario A and Scenario B) that exactly encode the provided actions, initial states, and goals."
        }
    },
    "environment": {
        "init": {
            "grid_size": 1,
            "visibility": 0,
            "objects": [
                "object_0",
                "object_1",
                "object_2",
                "object_3",
                "object_4",
                "object_5",
                "object_6",
                "object_7",
                "object_8"
            ]
        },
        "public_information": [
            "Objects present: object_0, object_1, object_2, object_3, object_4, object_5, object_6, object_7, object_8.",
            "Predicates (all boolean): hand(x), cats(x), sneeze(x), spring(x), texture(x), stupendous(x), next(x,y), collect(x,y), vase(x,y).",
            "Actions and parameters: Paltry(object_0, object_1, object_2); Sip(object_0, object_1, object_2); Clip(object_0, object_1, object_2); Wretched(object_0, object_1, object_2, object_3); Memory(object_0, object_1, object_2); Tightfisted(object_0, object_1, object_2).",
            "Paltry preconditions: hand object_0, cats object_1, texture object_2, vase object_0 object_1, next object_1 object_2. Paltry effects add: next object_0 object_2. Paltry effects delete: vase object_0 object_1.",
            "Sip preconditions: hand object_0, cats object_1, texture object_2, next object_0 object_2, next object_1 object_2. Sip effects add: vase object_0 object_1. Sip effects delete: next object_0 object_2.",
            "Clip preconditions: hand object_0, sneeze object_1, texture object_2, next object_1 object_2, next object_0 object_2. Clip effects add: vase object_0 object_1. Clip effects delete: next object_0 object_2.",
            "Wretched preconditions: sneeze object_0, texture object_1, texture object_2, stupendous object_3, next object_0 object_1, collect object_1 object_3, collect object_2 object_3. Wretched effects add: next object_0 object_2. Wretched effects delete: next object_0 object_1.",
            "Memory preconditions: cats object_0, spring object_1, spring object_2, next object_0 object_1. Memory effects add: next object_0 object_2. Memory effects delete: next object_0 object_1.",
            "Tightfisted preconditions: hand object_0, sneeze object_1, texture object_2, next object_1 object_2, vase object_0 object_1. Tightfisted effects add: next object_0 object_2. Tightfisted effects delete: vase object_0 object_1.",
            "Scenario A initial facts: cats object_0, collect object_5 object_1, collect object_6 object_2, hand object_7, hand object_8, next object_0 object_6, next object_3 object_5, next object_4 object_6, next object_7 object_6, next object_8 object_5, sneeze object_3, sneeze object_4, spring object_5, spring object_6, stupendous object_1, stupendous object_2, texture object_5, texture object_6.",
            "Scenario A goal: next object_7 object_6 and next object_8 object_6.",
            "Scenario A given plan (to be validated): memory object_0 object_6 object_5; sip object_8 object_0 object_5; memory object_0 object_5 object_6; paltry object_8 object_0 object_6.",
            "Scenario B initial facts: cats object_0, collect object_5 object_1, collect object_6 object_2, hand object_7, hand object_8, next object_0 object_6, next object_3 object_5, next object_4 object_6, next object_7 object_6, next object_8 object_6, sneeze object_3, sneeze object_4, spring object_5, spring object_6, stupendous object_1, stupendous object_2, texture object_5, texture object_6.",
            "Scenario B goal: next object_7 object_5 and next object_8 object_5."
        ]
    },
    "workflow": {
        "world_modeler": {
            "extract_facts": {
                "input": [],
                "output": "world_model_json",
                "system_prompt": "You are a knowledge engineer. Convert public information about objects, predicates, and actions into a precise, canonical JSON world model. Do not emit PDDL.",
                "prompt": "Your name is world_modeler. Use the following public information to produce a single JSON object containing keys: objects (list), predicates (list of predicate signatures with arities), actions (list with: name, parameters as [p0, p1, ...], preconditions as a list of atoms, add_effects as a list of atoms, del_effects as a list of atoms). Use symbols exactly as given; do not invent new objects or predicates; do not change arities. Public information: {environment->public_information}."
            }
        },
        "plan_checker": {
            "evaluate_plan": {
                "input": [],
                "output": "plan_assessment",
                "system_prompt": "You analyze plans against action semantics and initial states, producing validity checks, state traces, and suggested repairs or new plans. Do not emit PDDL.",
                "prompt": "Your name is plan_checker. 1) Validate Scenario A: simulate the given plan step-by-step from the Scenario A initial facts using the described actions, confirming preconditions at each step and providing the resulting final state and whether the goal is achieved. 2) Propose a feasible sequence of actions for Scenario B that achieves its goal, keeping actions strictly from the allowed set and using only given facts.  Return a concise report plus a compact JSON with keys: scenario_a_valid (bool), scenario_a_trace (list of applied steps with noted add and delete effects), scenario_b_plan (ordered list of actions). The public information you must use: {environment->public_information}."
            }
        },
        "orchestrator": {
            "synthesize_pddl": {
                "input": [
                    "world_model_json",
                    "plan_assessment"
                ],
                "output": "pddl_compilation",
                "system_prompt": "You are an expert in compiling consolidated models into clean PDDL for the Fast Downward solver. Produce exactly one PDDL domain and two PDDL problems (Scenario A and Scenario B) using STRIPS-compatible constructs, with typing, positive preconditions, and add/delete effects. No commentary outside the required tags.",
                "prompt": "Integrate the world model and plan assessment to produce final PDDL. Requirements: 1) Emit one <domain>...</domain> with domain name ObfuscatedDeceptiveDeceptiveLogistics2 and predicates/actions exactly matching the extracted model. Use :requirements :strips :typing. Use a single type obj. 2) Emit two <problem>...</problem> blocks named scenario_a and scenario_b, each referencing the domain, listing all objects object_0..object_8 of type obj, and encoding the exact initial facts and the goals for the corresponding scenario from public information. 3) Ensure action schemas match the specified preconditions and effects, using only positive preconditions and classical add/delete effects. 4) Do not include any explanation outside the <domain> and <problem> tags. Inputs you can rely on: World model: {world_model_json}. Plan analysis: {plan_assessment}. Public information: {environment->public_information}."
            }
        },
        "constraints": [
            "world_modeler.extract_facts->orchestrator.synthesize_pddl",
            "plan_checker.evaluate_plan->orchestrator.synthesize_pddl"
        ]
    }
}