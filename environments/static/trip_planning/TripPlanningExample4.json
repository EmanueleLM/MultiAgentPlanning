{
    "name": "TripPlanningExample4",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "tallinn_agent",
            "seville_agent",
            "munich_agent",
            "orchestrator"
        ],
        "tallinn_agent": {
            "private_information": [
                "I want to visit Tallinn for 2 days",
                "I want to meet a friend in Tallinn between day 11 and day 12"
            ],
            "goal": "Visit Tallinn for 2 days and meet the friend during the visit"
        },
        "seville_agent": {
            "private_information": [
                "I want to visit Seville for 7 days"
            ],
            "goal": "Visit Seville for 7 days"
        },
        "munich_agent": {
            "private_information": [
                "I plan to stay in Munich for 5 days"
            ],
            "goal": "Stay in Munich for 5 days"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Plan a 12 day trip visiting Tallinn Seville and Munich using only direct flights and schedule the visits to satisfy the agents constraints"
        }
    },
    "environment": {
        "init": {
            "total_days": 12,
            "cities": [
                "Tallinn",
                "Seville",
                "Munich"
            ],
            "direct_flights": [
                [
                    "Seville",
                    "Munich"
                ],
                [
                    "Munich",
                    "Tallinn"
                ]
            ]
        },
        "public_information": [
            "The total trip length is 12 days",
            "Cities to consider are Tallinn Seville and Munich",
            "Direct flights exist between Seville and Munich and between Munich and Tallinn",
            "Commuting between cities is only allowed via direct flights"
        ]
    },
    "workflow": {
        "tallinn_agent": {
            "pddl": {
                "input": [],
                "output": "pddl_tallinn_agent",
                "system_prompt": "You are an expert in writing FastDownward compatible PDDL. You must provide a PDDL domain and a PDDL problem file. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target the FastDownward solver and keep predicates and actions explicit.",
                "prompt": "You are tallinn_agent. Use the environment public information {environment->public_information} and your private information {agents->tallinn_agent->private_information} to produce a PDDL domain and problem that represent visiting Tallinn for 2 days and meeting a friend in Tallinn between day 11 and day 12. The global goal you consider is {agents->tallinn_agent->goal}. If information is missing do not assume new facts, restrict the PDDL to the information you have. Enclose domain in <domain></domain> and problem in <problem></problem> tags."
            }
        },
        "seville_agent": {
            "pddl": {
                "input": [],
                "output": "pddl_seville_agent",
                "system_prompt": "You are an expert in writing FastDownward compatible PDDL. You must provide a PDDL domain and a PDDL problem file. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target the FastDownward solver and keep predicates and actions explicit.",
                "prompt": "You are seville_agent. Use the environment public information {environment->public_information} and your private information {agents->seville_agent->private_information} to produce a PDDL domain and problem that represent visiting Seville for 7 days. The global goal you consider is {agents->seville_agent->goal}. If information is missing do not assume new facts, restrict the PDDL to the information you have. Enclose domain in <domain></domain> and problem in <problem></problem> tags."
            }
        },
        "munich_agent": {
            "pddl": {
                "input": [],
                "output": "pddl_munich_agent",
                "system_prompt": "You are an expert in writing FastDownward compatible PDDL. You must provide a PDDL domain and a PDDL problem file. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target the FastDownward solver and keep predicates and actions explicit.",
                "prompt": "You are munich_agent. Use the environment public information {environment->public_information} and your private information {agents->munich_agent->private_information} to produce a PDDL domain and problem that represent staying in Munich for 5 days. The global goal you consider is {agents->munich_agent->goal}. If information is missing do not assume new facts, restrict the PDDL to the information you have. Enclose domain in <domain></domain> and problem in <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_tallinn_agent",
                    "pddl_seville_agent",
                    "pddl_munich_agent"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi agent planning and FastDownward compatible PDDL. You must integrate multiple PDDL domains and problems into a consistent FastDownward PDDL domain and problem. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep the actions of each agent distinct and preserve their identities. Resolve conflicts explicitly and document any unresolved incompatibilities within comments in the PDDL problem using semicolon comments.",
                "prompt": "You are orchestrator. You receive PDDL outputs from other agents. Your task is to integrate them to achieve the orchestrator goal {agents->orchestrator->goal} using the environment public information {environment->public_information} and the PDDL fragments {pddl_tallinn_agent} {pddl_seville_agent} {pddl_munich_agent}. Keep the agents actions distinct and ensure the plan uses only direct flights as described in environment init. If agents PDDL fragments conflict with the total trip length or with each other, try to reconcile and produce a final PDDL domain and problem for FastDownward that represents a feasible schedule for 12 days. Enclose domain in <domain></domain> and problem in <problem></problem> tags."
            }
        },
        "constraints": [
            "tallinn_agent.pddl->orchestrator.pddl",
            "seville_agent.pddl->orchestrator.pddl",
            "munich_agent.pddl->orchestrator.pddl"
        ]
    }
}