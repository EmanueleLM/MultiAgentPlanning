{
    "name": "TripPlanningExample16",
    "author": "Human",
    "agents": {
        "number": 4,
        "names": [
            "prague_agent",
            "vienna_agent",
            "porto_agent",
            "orchestrator"
        ],
        "prague_agent": {
            "private_information": [
                "I want to spend 3 days in Prague.",
                "I have to attend a workshop in Prague between day 1 and day 3."
            ],
            "goal": "Visit Prague for the requested days and attend the workshop within the allowed window."
        },
        "vienna_agent": {
            "private_information": [
                "I want to spend 3 days in Vienna."
            ],
            "goal": "Visit Vienna for the requested days."
        },
        "porto_agent": {
            "private_information": [
                "I want to spend 5 days in Porto."
            ],
            "goal": "Visit Porto for the requested days."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Produce a consolidated feasible trip plan of 9 days visiting the three cities using only direct flights and respecting the workshop constraint in Prague. Output final PDDL domain and problem targeted to the FastDownward solver."
        }
    },
    "environment": {
        "init": {
            "total_days": 9,
            "cities": [
                "Prague",
                "Vienna",
                "Porto"
            ],
            "direct_flights": [
                [
                    "Vienna",
                    "Porto"
                ],
                [
                    "Prague",
                    "Vienna"
                ]
            ]
        },
        "public_information": [
            "You plan a trip of 9 days total across 3 cities: Prague, Vienna, and Porto.",
            "You only take direct flights to commute between cities.",
            "Direct flights exist between Vienna and Porto and between Prague and Vienna.",
            "You want to spend 3 days in Prague.",
            "You want to spend 3 days in Vienna.",
            "You want to spend 5 days in Porto.",
            "You must attend a workshop in Prague between day 1 and day 3.",
            "All travel must be direct flights present in the direct_flights list."
        ]
    },
    "workflow": {
        "prague_agent": {
            "itinerary": {
                "input": [],
                "output": "itinerary_prague",
                "system_prompt": "You are an assistant responsible for the Prague portion of the trip. Based on your private information and the public information, provide a concise local itinerary suggestion indicating which days you propose to be in Prague and which direct flight legs you would use to arrive or depart. Do not produce PDDL. If your requested days cannot be fully satisfied given the total trip length, indicate the preference and any flexibility.",
                "prompt": "Agent prague_agent. Public information: {environment->public_information}. Your private information: {agents->prague_agent->private_information}. Your goal: {agents->prague_agent->goal}. Provide a compact local itinerary suggestion as the output variable itinerary_prague."
            }
        },
        "vienna_agent": {
            "itinerary": {
                "input": [],
                "output": "itinerary_vienna",
                "system_prompt": "You are an assistant responsible for the Vienna portion of the trip. Based on your private information and the public information, provide a concise local itinerary suggestion indicating which days you propose to be in Vienna and which direct flight legs you would use to arrive or depart. Do not produce PDDL. If your requested days cannot be fully satisfied given the total trip length, indicate the preference and any flexibility.",
                "prompt": "Agent vienna_agent. Public information: {environment->public_information}. Your private information: {agents->vienna_agent->private_information}. Your goal: {agents->vienna_agent->goal}. Provide a compact local itinerary suggestion as the output variable itinerary_vienna."
            }
        },
        "porto_agent": {
            "itinerary": {
                "input": [],
                "output": "itinerary_porto",
                "system_prompt": "You are an assistant responsible for the Porto portion of the trip. Based on your private information and the public information, provide a concise local itinerary suggestion indicating which days you propose to be in Porto and which direct flight legs you would use to arrive or depart. Do not produce PDDL. If your requested days cannot be fully satisfied given the total trip length, indicate the preference and any flexibility.",
                "prompt": "Agent porto_agent. Public information: {environment->public_information}. Your private information: {agents->porto_agent->private_information}. Your goal: {agents->porto_agent->goal}. Provide a compact local itinerary suggestion as the output variable itinerary_porto."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "itinerary_prague",
                    "itinerary_vienna",
                    "itinerary_porto"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert in multi-agent planning and PDDL modeling. Your role is to integrate the local itinerary suggestions from the agents, reconcile any conflicting duration requests, enforce the global constraints (total trip duration equals 9 days, workshop in Prague between day 1 and day 3, and only direct flights allowed), and produce a final PDDL domain and PDDL problem targeted to the FastDownward solver. Keep actions for each agent distinct so that agent responsibilities remain clear. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Use a representation compatible with FastDownward (classical STRIPS or ADL features that FastDownward supports).",
                "prompt": "You receive the local itinerary suggestions from three agents: {itinerary_prague}, {itinerary_vienna}, and {itinerary_porto}. Your task is to produce a single coherent PDDL domain and PDDL problem that solves the global planning task: visit Prague, Vienna, and Porto within a total of 9 days using only direct flights specified in the environment, ensure the workshop in Prague occurs between day 1 and day 3, and produce distinct actions corresponding to travel and staying in each city. If agent requests sum to more than 9 days, reconcile by producing a feasible allocation that respects the workshop constraint and direct flight connectivity. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Target the FastDownward solver."
            }
        },
        "constraints": [
            "prague_agent.itinerary->orchestrator.pddl",
            "vienna_agent.itinerary->orchestrator.pddl",
            "porto_agent.itinerary->orchestrator.pddl"
        ]
    }
}