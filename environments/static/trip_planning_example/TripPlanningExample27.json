{
    "name": "TripPlanningExample27",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "duration_analyst",
            "connectivity_planner",
            "orchestrator"
        ],
        "duration_analyst": {
            "private_information": [
                "Desired durations: Santorini (3 days), Amsterdam (7 days), Istanbul (6 days).",
                "Total trip budget: 14 days. This implies a 2-day shortfall from desired stays."
            ],
            "goal": "Model the planning problem focusing on allocating time resources (days) to each city visit within the 14-day budget, defining the final required stay durations."
        },
        "connectivity_planner": {
            "private_information": [
                "Direct flights exist between Amsterdam and Santorini, and Istanbul and Amsterdam.",
                "The travel day between cities counts as one day of the trip.",
                "Santorini visit must occur such that the stay concludes on Day 14 (i.e., stay is between Day 12 and Day 14)."
            ],
            "goal": "Model the planning problem focusing on movement (flights) and temporal sequencing constraints for the city visits."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate temporal requirements, duration constraints, and connectivity rules to produce a complete 14-day itinerary plan, resolving all ambiguities and contradictions."
        }
    },
    "environment": {
        "init": {
            "cities": [
                "Santorini",
                "Amsterdam",
                "Istanbul"
            ],
            "total_days": 14,
            "flight_connections": [
                "Amsterdam-Santorini",
                "Istanbul-Amsterdam"
            ]
        },
        "public_information": [
            "The trip lasts 14 days and covers 3 European cities.",
            "Desired stay durations are: Santorini (3 days), Amsterdam (7 days), Istanbul (6 days).",
            "Travel between cities must use direct flights only.",
            "Santorini must be visited between day 12 and day 14."
        ]
    },
    "workflow": {
        "duration_analyst": {
            "pddl": {
                "input": [],
                "output": "pddl_duration_analyst",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You focus solely on resource allocation and duration management. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is duration_analyst. You are tasked with modeling the time constraints for a 14-day trip across three cities. Since desired stays (16 days total) exceed the budget (14 days), assume Amsterdam (7 days) and Santorini (3 days) are non-negotiable. Adjust the Istanbul stay accordingly (to 4 days) to maintain the 14-day total. Formulate a PDDL representation that defines the required duration goals and tracks day count.\nPublic information:\n{environment->public_information}\nPrivate knowledge:\n{agents->duration_analyst->private_information}\nGlobal goal:\n{agents->duration_analyst->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "connectivity_planner": {
            "pddl": {
                "input": [],
                "output": "pddl_connectivity_planner",
                "system_prompt": "You are an expert with PDDL problems (Planning Domain Definition Language). You focus solely on movement constraints and sequencing. You always provide a PDDL domain and a PDDL problem file to solve the task. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "Your name is connectivity_planner. You are tasked with modeling flight connectivity (direct flights) and sequencing constraints, especially the required timing for the Santorini visit (Day 12-14). Use the following knowledge to formulate a PDDL representation, focusing on location predicates and actions.\nPublic information:\n{environment->public_information}\nPrivate knowledge:\n{agents->connectivity_planner->private_information}\nGlobal goal:\n{agents->connectivity_planner->goal}\nThink step by step and provide a PDDL domain and a PDDL problem file to solve the task.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "pddl_duration_analyst",
                    "pddl_connectivity_planner"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert with multi-agent PDDL integration and scheduling. You must resolve inconsistencies, enforce resource constraints (14 days total), and fully integrate movement and temporal constraints to create a unified schedule. You always provide a final PDDL domain and a PDDL problem file targeting the FastDownwards solver. You always enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags.",
                "prompt": "You are the orchestrator tasked with synthesizing a complete 14-day itinerary. The planning must adhere to the calculated stays (A=7, S=3, I=4 days), enforce flight connectivity (A-S, I-A direct flights), and strictly ensure the Santorini stay occurs between Day 12 and Day 14 (inclusive).\nGoal:\n{agents->orchestrator->goal}\nHere are the PDDL components provided by the duration planner:\n{pddl_duration_analyst}\nHere are the PDDL components provided by the connectivity planner:\n{pddl_connectivity_planner}\nIntegrate these plans, ensuring temporal consistency and producing a unified PDDL plan that schedules the entire 14-day trip.\nThink step by step and provide the integrated PDDL domain and PDDL problem file.\nEnclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "duration_analyst.pddl->orchestrator.pddl",
            "connectivity_planner.pddl->orchestrator.pddl"
        ]
    }
}