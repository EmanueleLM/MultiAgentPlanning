{
    "name": "TripPlanningExample45",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "traveler",
            "flight_service",
            "orchestrator"
        ],
        "traveler": {
            "private_information": [
                "I plan a 16-day trip.",
                "I want to stay in Lisbon for 7 days.",
                "I want to visit Florence for 4 days.",
                "I want to spend 7 days in Copenhagen.",
                "I must attend conferences in Copenhagen on day 1 and day 7."
            ],
            "goal": "Provide a feasible allocation of the 16 trip days among Lisbon, Florence and Copenhagen while respecting the conference constraints and the requirement to use only direct flights for commuting. If the stated stays are inconsistent with the 16-day total, report the inconsistency and propose alternatives."
        },
        "flight_service": {
            "private_information": [
                "Direct flights exist between Copenhagen and Lisbon.",
                "Direct flights exist between Lisbon and Florence.",
                "There are no direct flights between Copenhagen and Florence."
            ],
            "goal": "Provide valid direct-flight-leg itineraries and feasible sequences of cities consistent with direct-flight-only commuting for the planned trip."
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate traveler preferences and flight constraints into a single coherent trip plan and produce a PDDL domain and problem suitable for the FastDownward planner that represents the trip scheduling problem and can be used to search for an optimal or feasible schedule."
        }
    },
    "environment": {
        "init": {
            "total_days": 16,
            "cities": [
                "Lisbon",
                "Florence",
                "Copenhagen"
            ]
        },
        "public_information": [
            "There are three cities: Lisbon, Florence and Copenhagen.",
            "The trip length is 16 days in total.",
            "Direct flights exist between Copenhagen and Lisbon, and between Lisbon and Florence.",
            "There is no direct flight between Copenhagen and Florence.",
            "Commutes between cities are allowed only when a direct flight exists between those two cities.",
            "Conferences must be attended in Copenhagen on day 1 and day 7."
        ]
    },
    "workflow": {
        "traveler": {
            "analyze": {
                "input": [],
                "output": "traveler_analysis",
                "system_prompt": "You are an agent that analyzes traveler preferences, stay durations, and hard constraints. Do not produce PDDL. Provide a clear, structured summary of the traveler's requested stays, any detected inconsistencies with the total trip duration, the hard constraints (conference days), and suggested resolutions if inconsistencies exist.",
                "prompt": "Your name is traveler. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following private knowledge:\n{agents->traveler->private_information}\nThis is your analysis goal:\n{agents->traveler->goal}\nCarefully analyze the requested stays and constraints. If you detect that the sum of requested stay lengths exceeds or conflicts with the total trip length, explain the inconsistency and propose one or more plausible adjustments (for example, reduce days in a city). Output a concise structured summary suitable for a planner to consume."
            }
        },
        "flight_service": {
            "analyze": {
                "input": [],
                "output": "flight_analysis",
                "system_prompt": "You are an agent that analyzes available direct-flight connections and provides feasible commuting sequences that respect the direct-flight-only constraint. Do not produce PDDL. Provide structured itineraries (ordered city sequences and required flight legs) that connect the cities given the direct-flight graph.",
                "prompt": "Your name is flight_service. You are in an environment with the following public information:\n{environment->public_information}\nYou have the following private knowledge:\n{agents->flight_service->private_information}\nThis is your analysis goal:\n{agents->flight_service->goal}\nList all feasible city-to-city commuting sequences that use only available direct flights, explain which city-to-city moves are possible, and provide example city visit sequences that could realize a multi-city trip under the direct-flight constraint."
            }
        },
        "orchestrator": {
            "pddl": {
                "input": [
                    "traveler_analysis",
                    "flight_analysis"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are an expert orchestrator that must integrate the analyses from the traveler and flight_service into a single PDDL domain and PDDL problem suitable for the FastDownward planner. Produce a PDDL domain and a PDDL problem that model days, city stays, flights (direct only), and the conference attendance constraints. Ensure the PDDL is compatible with FastDownward (declare appropriate :requirements) and is solvable for a feasible schedule if one exists. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags. Keep actions and predicates clearly named and document any assumptions inside comments in the PDDL where appropriate.",
                "prompt": "You are the orchestrator. You will receive structured analyses from the other agents. Integrate them to create a PDDL model that represents the planning problem of scheduling stays across days and commuting only via direct flights. Use the trip goal described here:\n{agents->orchestrator->goal}\nHere is the traveler's analysis:\n{traveler_analysis}\nHere is the flight service analysis:\n{flight_analysis}\nThink step by step. If the traveler analysis reports inconsistencies (for example, sum of requested stays differs from total days), include in the PDDL an approach to allow the planner to choose adjusted stay lengths (e.g., introduce flexible stay-duration variables or alternative goals) and document that choice in comments. Produce a clear PDDL domain and a matching PDDL problem file. Enclose the pddl domain between <domain></domain> tags, and the pddl problem between <problem></problem> tags. Target the FastDownward solver."
            }
        },
        "constraints": [
            "traveler.analyze->orchestrator.pddl",
            "flight_service.analyze->orchestrator.pddl"
        ]
    }
}