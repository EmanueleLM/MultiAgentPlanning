{
    "name": "TripPlanningExample48",
    "author": "Human",
    "agents": {
        "number": 3,
        "names": [
            "itinerary_planner",
            "flight_checker",
            "orchestrator"
        ],
        "itinerary_planner": {
            "private_information": [
                "I plan to visit 3 European cities over 4 days in total",
                "I would like to visit Split for 2 days",
                "I plan to stay in Manchester for 2 days",
                "I would like to visit Geneva for 2 days",
                "I want to meet a friend in Split between day 2 and day 3"
            ],
            "goal": "Propose a candidate day-by-day itinerary of up to 4 days that tries to respect preferences while using only direct flights for commuting"
        },
        "flight_checker": {
            "private_information": [
                "I know which direct flights exist between the cities",
                "Direct flights exist between Split and Geneva",
                "Direct flights exist from Manchester to Split",
                "Direct flights exist between Manchester and Geneva"
            ],
            "goal": "Validate transitions between cities under the constraint that only direct flights are allowed and provide flight feasibility information"
        },
        "orchestrator": {
            "private_information": [],
            "goal": "Integrate the itinerary proposal and flight feasibility information and produce a FastDownward-compatible PDDL domain and problem that encodes a feasible 4-day trip plan using only direct flights and meeting the friend constraint in Split"
        }
    },
    "environment": {
        "init": {
            "total_days": 4,
            "cities": [
                "Split",
                "Manchester",
                "Geneva"
            ],
            "direct_flights": [
                "Split-Geneva",
                "Manchester-Split",
                "Manchester-Geneva"
            ]
        },
        "public_information": [
            "You plan to visit 3 European cities for 4 days in total",
            "You only take direct flights to commute between cities",
            "You would like to visit Split for 2 days",
            "You plan to stay in Manchester for 2 days",
            "You would like to visit Geneva for 2 days",
            "You want to meet a friend in Split between day 2 and day 3",
            "Direct flights exist between Split and Geneva",
            "Direct flights exist from Manchester to Split",
            "Direct flights exist between Manchester and Geneva"
        ]
    },
    "workflow": {
        "itinerary_planner": {
            "propose_itinerary": {
                "input": [],
                "output": "itinerary_plan",
                "system_prompt": "You are an itinerary planning agent. Using the public information about total days and desired stays, propose a candidate day-by-day itinerary of up to 4 days that attempts to respect the user's preferences, highlights any conflicting preferences, and lists any assumptions. Do not produce PDDL. Provide the itinerary in a clear structured form suitable for the orchestrator to ingest."
            }
        },
        "flight_checker": {
            "check_flights": {
                "input": [],
                "output": "flights_info",
                "system_prompt": "You are a flight availability agent. Using the public information about direct flights between cities, provide which direct transitions are feasible and the constraints on commuting given only direct flights. Do not produce PDDL. Provide the flight connectivity and any notes about directionality or missing connections in a structured form suitable for the orchestrator to ingest."
            }
        },
        "orchestrator": {
            "generate_pddl": {
                "input": [
                    "itinerary_plan",
                    "flights_info"
                ],
                "output": "pddl_orchestrator",
                "system_prompt": "You are the orchestrator that must integrate an itinerary proposal and flight feasibility information from other agents and produce a single FastDownward-compatible PDDL domain and PDDL problem that encodes a feasible 4-day trip plan. Keep agent actions distinct when modeling multiple agents if relevant. The PDDL must be compatible with the FastDownward planner and should include clear objects, initial state, goal state, and action schemas for flights and staying in cities. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags.",
                "prompt": "Integrate the itinerary_plan and flights_info to produce a PDDL domain and a PDDL problem that finds a feasible assignment of the traveler to cities for each of the 4 days using only direct flights, and enforces that the traveler is in Split during the transition between day 2 and day 3 to meet the friend. If the agents provided conflicting preferences that cannot all be satisfied, produce a plan that respects hard constraints (total days and direct flights and meeting friend) and documents which soft preferences were relaxed. Enclose the PDDL domain between <domain></domain> tags and the PDDL problem between <problem></problem> tags."
            }
        },
        "constraints": [
            "itinerary_planner.propose_itinerary->orchestrator.generate_pddl",
            "flight_checker.check_flights->orchestrator.generate_pddl"
        ]
    }
}