There are a number of agents (satellites) coordinating to make observations, each carrying one or more scientific instruments. Every instrument supports specific modes of measurement (e.g., thermography, spectrography, generic imaging). The world consists of named directions—stars, ground stations, phenomena—at which a satellite can point. Actions take time and have preconditions that must hold at the start, over the whole interval, or at the end; effects can occur at the start or at the end. Two numeric tables determine durations: slew_time(a,b) gives the time to turn from direction b to direction a; calibration_time(i,d) gives the time to calibrate instrument i against direction d.

A satellite always points at exactly one direction. To re-aim, it turns from its current direction to a different one (you may not turn to the same place). The duration of a turn equals slew_time(new, prev). At the start of the turn the satellite stops pointing at the old direction; at the end it is pointing at the new one. During the turn, it is not considered to be pointing anywhere.

Instruments live on board particular satellites and share a single power feed per satellite. To power an instrument, the satellite switches it on (duration 2). Throughout this action the instrument must remain on that satellite; at the start, power must be available on the satellite. Switching on immediately claims the power feed (power becomes unavailable) and clears the instrument’s calibration; the instrument actually becomes powered at the end of the action.

To give the power feed back, the satellite switches the instrument off (duration 1). The instrument must remain on board; it must be powered at the start; it is switched off immediately at the start, and the satellite’s power becomes available again at the end.

Before an instrument can be used for science, it must be calibrated. Each instrument has a fixed calibration target (a direction). Calibrate lasts calibration_time(instrument, target) time units. The instrument must remain on board for the whole action; its calibration target is fixed throughout; the satellite must be pointing at that target at the start; and the instrument must be powered throughout and still powered at the end. The effect is that the instrument becomes calibrated at the end.

To take an image of direction d in mode m, the instrument must remain calibrated, on board, and supporting mode m throughout; it must be powered throughout (and still powered at the end); and the satellite must keep pointing at d throughout the action. Take image lasts 7 time units and yields, at the end, that you have_image(d,m).

The static relations (which instrument supports which modes, which satellite each instrument is on, and each instrument’s calibration target) never change. The evolving discrete state includes per-satellite pointing and power availability, and per-instrument power and calibration. Plans must schedule overlaps carefully—for example, you cannot turn while imaging because the pointing condition must hold the entire time; and you cannot power a second instrument while one is being switched on or already occupies the single power feed.


Objects:
- 2 satellites numbered 0..1.
- 3 instruments numbered 0..2.
- 3 modes (infrared0, infrared1, thermograph2).
- 10 directions (GroundStation1, Phenomenon8, Phenomenon9, Planet3, Planet5, Star0, Star2, Star4, Star6, Star7).
Initial state (per satellite):
- satellite0: instruments ['instrument0']; initially pointing Star6; power available.
- satellite1: instruments ['instrument1', 'instrument2']; initially pointing Star0; power available.
Instrument status and capabilities:
- instrument0 on satellite0: supports ['infrared0', 'thermograph2']; calibration target Star0; initially off, uncalibrated.
- instrument1 on satellite1: supports ['infrared0', 'infrared1', 'thermograph2']; calibration target Star2; initially off, uncalibrated.
- instrument2 on satellite1: supports ['infrared1', 'thermograph2']; calibration target Star2; initially off, uncalibrated.
Calibration times (instrument to [direction]: [time]):
- instrument0 to [Star0]: [65.8]
- instrument1 to [Star2]: [52.4]
- instrument2 to [Star2]: [72.1]
Slew times (each unordered pair listed once):
- GroundStation1 to [Phenomenon8, Phenomenon9, Planet3, Planet5, Star0, Star2, Star4, Star6, Star7]: [25.92, 21.7, 50.04, 36.81, 6.492, 19.93, 48.47, 9.513, 21.45]
- Phenomenon8 to [Phenomenon9, Planet3, Planet5, Star0, Star2, Star4, Star6, Star7]: [65.52, 52.31, 12.9, 2.077, 1.913, 14.09, 25.07, 4.865]
- Phenomenon9 to [Planet3, Planet5, Star0, Star2, Star4, Star6, Star7]: [2.509, 33.18, 10.01, 4.182, 81.97, 65.63, 85.25]
- Planet3 to [Planet5, Star0, Star2, Star4, Star6, Star7]: [40.46, 18.76, 20.45, 49.6, 12.7, 3.892]
- Planet5 to [Star0, Star2, Star4, Star6, Star7]: [46.82, 0.1683, 65.74, 71.12, 14.44]
- Star0 to [Star2, Star4, Star6, Star7]: [5.395, 44.64, 44.79, 12.11]
- Star2 to [Star4, Star6, Star7]: [28.13, 9.543, 13.72]
- Star4 to [Star6, Star7]: [12.41, 7.686]
- Star6 to [Star7]: [66.31]
Slew times are treated as symmetric (time from X to Y equals time from Y to X).
Goals: 7 images + 1 final pointing constraints.
- Image goals by mode: infrared1: 3, thermograph2: 2, infrared0: 2.
- pointing(satellite1, Planet5)
All image goals:
- have_image(Planet3, infrared1)
- have_image(Star4, infrared1)
- have_image(Planet5, thermograph2)
- have_image(Star6, infrared1)
- have_image(Star7, infrared0)
- have_image(Phenomenon8, thermograph2)
- have_image(Phenomenon9, infrared0)
Objective: minimize (total-time)