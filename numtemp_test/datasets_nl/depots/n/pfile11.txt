There are a number of agents (trucks and hoists) coordinating to transport and rearrange crates between locations. The world consists of places—depots and distributors. Things that can be located include trucks, hoists, and surfaces; surfaces are either pallets or crates (a crate is both a movable object and a surface that can support another crate). The state records where each locatable item is (at), which crates are on which surfaces (on), which crates are in which trucks (in), whether a hoist is available or currently lifting a crate, and whether a surface is clear (nothing sits on it).

In addition to these discrete facts, the model has numeric quantities. Each truck has a load limit and a current load; each crate has a weight. There is also a global numeric accumulator fuel-cost that increases when you drive trucks or operate hoists, and can be used as an optimization objective.

The truck can be driven from one place to another. The truck must be at the origin. After the move it is at the destination and no longer at the origin. This action increases the global fuel-cost by 10.

A hoist at a place can lift up a crate from a specific surface at the same place. Preconditions: the hoist is at the place and available; the crate is at the place, is on the given surface, and the crate itself is clear. Effects: the crate is no longer at the place (it’s now held by the hoist), the hoist becomes lifting that crate and is no longer available, the source surface becomes clear, the on relation is removed, and fuel-cost increases by 1.

A hoist can put a hoist-held crate down onto a surface at the same place. Preconditions: the hoist and the destination surface are at the place; the destination surface is clear; the hoist is lifting that crate. Effects: the hoist becomes available and is no longer lifting; the crate becomes at the place, the destination surface becomes not clear, the crate itself becomes clear, and the crate is now on the destination surface.

A hoist can place a hoist-held crate into a truck at the same place. Preconditions: the hoist and truck are co-located; the hoist is lifting the crate; and the capacity guard holds:

current_load(truck) + weight(crate) <= load_limit(truck).

Effects: the hoist is no longer lifting and becomes available; the crate is now in the truck; and the truck’s current_load increases by the crate’s weight.

Finally, a hoist can take a crate out of a truck at the same place and immediately start lifting it. Preconditions: the hoist and truck are co-located; the hoist is available; the crate is in the truck. Effects: the crate is removed from the truck; the hoist becomes not available and lifting that crate; and the truck’s current_load decreases by the crate’s weight.

In summary: trucks are the mobile carriers between places (subject to capacity), hoists are fixed at places and are the only way to pick up/put down/load/unload crates, clear/available/lifting enforce one-at-a-time resource use and stack discipline, and the fuel cost should be minimized.

Objects:
- 3 depots numbered 0..2.
- 3 distributors numbered 0..2.
- 2 trucks numbered 0..1.
- 6 hoists numbered 0..5.
- 6 pallets numbered 0..5.
- 10 crates numbered 0..9.
Initial locations (per place):
- depot0: crate1, hoist0, pallet0
- depot1: crate0, crate3, hoist1, pallet1
- depot2: crate2, crate4, crate5, crate9, hoist2, pallet2, truck0
- distributor0: hoist3, pallet3, truck1
- distributor1: hoist4, pallet4
- distributor2: crate6, crate7, crate8, hoist5, pallet5
Stacks (bottom -> top) per place:
- depot0: pallet0 -> crate1
- depot1: pallet1 -> crate0 -> crate3
- depot2: pallet2 -> crate2 -> crate4 -> crate5 -> crate9
- distributor0: pallet3
- distributor1: pallet4
- distributor2: pallet5 -> crate6 -> crate7 -> crate8
On relations:
- crate3 is on crate0
- crate4 is on crate2
- crate5 is on crate4
- crate9 is on crate5
- crate7 is on crate6
- crate8 is on crate7
- crate1 is on pallet0
- crate0 is on pallet1
- crate2 is on pallet2
- crate6 is on pallet5
Crates in trucks:
- (none)
Hoists:
- available hoists: ['hoist0', 'hoist1', 'hoist2', 'hoist3', 'hoist4', 'hoist5']
Clear surfaces:
- ['crate1', 'crate3', 'crate8', 'crate9', 'pallet3', 'pallet4']
Truck capacities:
- truck0: current_load=0, load_limit=336
- truck1: current_load=0, load_limit=366
Crate weights:
- crate0: 42
- crate1: 6
- crate2: 74
- crate3: 64
- crate4: 61
- crate5: 79
- crate6: 29
- crate7: 77
- crate8: 19
- crate9: 98
Global counters:
- fuel-cost = 0
Goals:
- crate7 is on crate1
- crate9 is on crate2
- crate6 is on crate5
- crate0 is on crate7
- crate3 is on crate9
- crate4 is on pallet0
- crate5 is on pallet2
- crate8 is on pallet3
- crate1 is on pallet4
- crate2 is on pallet5
Objective: minimize (fuel-cost)