There are a number of agents (satellites) coordinating to make observations, each carrying one or more scientific instruments. Every instrument supports specific modes of measurement (e.g., thermography, spectrography, generic imaging). The world is described by named directions—stars, ground stations, phenomena—at which a satellite can point. Actions take time: each one has a fixed duration, and preconditions can hold at the start, over all the action’s interval, or at the end; effects may occur at the start or at the end.

A satellite can point at exactly one direction at a time. To re-aim, it turns from its current direction to a different one (you may not turn to the same place). A turn takes 5 time units. At the start of the turn, the satellite stops pointing at the old direction; at the end, it is pointing at the new one. During the turn, it is not considered to be pointing anywhere.

Instruments live on board particular satellites and share a single power feed on each satellite. To power an instrument, the satellite switches it on (duration 2). Throughout the action, the instrument must remain on that satellite; at the start, power must be available on the satellite. Switching on immediately claims the power feed (power is no longer available) and clears the instrument’s calibration; the instrument actually becomes powered at the end of the action. Because the power feed is claimed at the start, a second switch-on cannot start until power is freed.

To give the power feed back, the satellite switches the instrument off (duration 1). The instrument must be on board throughout; it must be powered at the start; it is switched off immediately at the start, and the satellite’s power becomes available again at the end.

Before science, an instrument must be calibrated. Each instrument has a fixed calibration target (a direction). Calibrate takes 5 time units. The instrument must stay on board throughout; its calibration target is fixed throughout; the instrument must be powered for the whole action (and still powered at the end). The satellite must be pointing at the calibration target at the start. The effect is that the instrument becomes calibrated at the end.

To take an image of direction d in mode m, the instrument must remain calibrated, on board, and supporting mode m throughout the action; it must be powered throughout (and still powered at the end); and the satellite must keep pointing at d throughout. Take image lasts 7 time units and has the effect, at the end, that the image of (d,m) has been obtained.

The static relations (what each instrument supports, which satellite it is on, and each instrument’s calibration target) never change. The evolving discrete state includes per-satellite pointing and power availability, and per-instrument power and calibration. Plans must schedule overlapping actions carefully (e.g., you cannot move the satellite during imaging because pointing must hold the whole time, and you cannot power a second instrument while one is being switched on or is already on).

Objects:
- 5 satellites numbered 0..4.
- 9 instruments numbered 0..8.
- 5 modes (image3, image4, thermograph0, thermograph1, thermograph2).
- 30 directions (GroundStation2, GroundStation3, Phenomenon5, Phenomenon12, Phenomenon18, Phenomenon27, Planet6, Planet7, Planet8, Planet9, Planet10, Planet11, Planet13, Planet15, Planet16, Planet17, Planet20, Planet23, Planet24, Planet25, Planet28, Planet29, Star0, Star1, Star4, Star14, Star19, Star21, Star22, Star26).
Initial state (per satellite):
- satellite0: instruments ['instrument0', 'instrument1']; initially pointing Star19; power available.
- satellite1: instruments ['instrument2']; initially pointing Planet17; power available.
- satellite2: instruments ['instrument3', 'instrument4']; initially pointing Planet7; power available.
- satellite3: instruments ['instrument5']; initially pointing Star4; power available.
- satellite4: instruments ['instrument6', 'instrument7', 'instrument8']; initially pointing Phenomenon5; power available.
Instrument status and capabilities:
- instrument0 on satellite0: supports ['image4']; calibration target GroundStation3; initially off, uncalibrated.
- instrument1 on satellite0: supports ['image4', 'thermograph1']; calibration target GroundStation3; initially off, uncalibrated.
- instrument2 on satellite1: supports ['image4', 'thermograph0', 'thermograph2']; calibration target GroundStation3; initially off, uncalibrated.
- instrument3 on satellite2: supports ['image3', 'image4']; calibration target Star1; initially off, uncalibrated.
- instrument4 on satellite2: supports ['image3']; calibration target GroundStation3; initially off, uncalibrated.
- instrument5 on satellite3: supports ['image4', 'thermograph1']; calibration target GroundStation3; initially off, uncalibrated.
- instrument6 on satellite4: supports ['image3', 'thermograph0', 'thermograph1']; calibration target Star4; initially off, uncalibrated.
- instrument7 on satellite4: supports ['thermograph0', 'thermograph2']; calibration target Star0; initially off, uncalibrated.
- instrument8 on satellite4: supports ['image3', 'thermograph2']; calibration target GroundStation3; initially off, uncalibrated.
Goals: 24 images + 3 final pointing constraints.
- Image goals by mode: thermograph1: 7, image3: 6, thermograph0: 5, image4: 3, thermograph2: 3.
- pointing(satellite1, Phenomenon5)
- pointing(satellite2, Planet11)
- pointing(satellite4, Planet11)
All image goals:
- have_image(Phenomenon5, thermograph1)
- have_image(Planet6, image4)
- have_image(Planet7, image3)
- have_image(Planet8, image3)
- have_image(Planet9, thermograph0)
- have_image(Planet10, thermograph1)
- have_image(Planet11, thermograph2)
- have_image(Phenomenon12, image3)
- have_image(Planet13, thermograph1)
- have_image(Star14, image3)
- have_image(Planet15, thermograph0)
- have_image(Planet16, image3)
- have_image(Planet17, image4)
- have_image(Phenomenon18, image3)
- have_image(Star19, thermograph0)
- have_image(Star21, thermograph1)
- have_image(Star22, image4)
- have_image(Planet23, thermograph1)
- have_image(Planet24, thermograph2)
- have_image(Planet25, thermograph1)
- have_image(Star26, thermograph0)
- have_image(Phenomenon27, thermograph1)
- have_image(Planet28, thermograph2)
- have_image(Planet29, thermograph0)
Objective: minimize (total-time)