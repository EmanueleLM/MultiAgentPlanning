{
  "name": "CrateTransportRearrangement",
  "author": "Human",
  "agents": {
    "number": 9,
    "names": [
      "truck0",
      "truck1",
      "hoist0",
      "hoist1",
      "hoist2",
      "hoist3",
      "hoist4",
      "hoist5",
      "orchestrator"
    ],
    "agent_details": {
      "truck0": {
        "private_information": [
          "I am truck0",
          "I start at depot2",
          "My current_load is 0",
          "My load_limit is 336",
          "I can drive between places; driving costs 10 fuel-cost per move",
          "I can carry crates placed into me by a hoist as long as capacity constraints hold"
        ],
        "goal": "Transport crates as commanded to achieve the global arrangement while respecting my capacity and minimizing fuel-cost."
      },
      "truck1": {
        "private_information": [
          "I am truck1",
          "I start at distributor0",
          "My current_load is 0",
          "My load_limit is 366",
          "I can drive between places; driving costs 10 fuel-cost per move",
          "I can carry crates placed into me by a hoist as long as capacity constraints hold"
        ],
        "goal": "Transport crates as commanded to achieve the global arrangement while respecting my capacity and minimizing fuel-cost."
      },
      "hoist0": {
        "private_information": [
          "I am hoist0",
          "I start at depot0",
          "I am available initially",
          "I can lift or put down one crate at a time at my location",
          "Lifting costs 1 fuel-cost and requires the crate to be clear and on a surface at my place"
        ],
        "goal": "Manipulate crates at my place when directed to support achieving the global arrangement while minimizing fuel-cost."
      },
      "hoist1": {
        "private_information": [
          "I am hoist1",
          "I start at depot1",
          "I am available initially",
          "I can lift or put down one crate at a time at my location",
          "Lifting costs 1 fuel-cost and requires the crate to be clear and on a surface at my place"
        ],
        "goal": "Manipulate crates at my place when directed to support achieving the global arrangement while minimizing fuel-cost."
      },
      "hoist2": {
        "private_information": [
          "I am hoist2",
          "I start at depot2",
          "I am available initially",
          "I can lift or put down one crate at a time at my location",
          "Lifting costs 1 fuel-cost and requires the crate to be clear and on a surface at my place"
        ],
        "goal": "Manipulate crates at my place when directed to support achieving the global arrangement while minimizing fuel-cost."
      },
      "hoist3": {
        "private_information": [
          "I am hoist3",
          "I start at distributor0",
          "I am available initially",
          "I can lift or put down one crate at a time at my location",
          "Lifting costs 1 fuel-cost and requires the crate to be clear and on a surface at my place"
        ],
        "goal": "Manipulate crates at my place when directed to support achieving the global arrangement while minimizing fuel-cost."
      },
      "hoist4": {
        "private_information": [
          "I am hoist4",
          "I start at distributor1",
          "I am available initially",
          "I can lift or put down one crate at a time at my location",
          "Lifting costs 1 fuel-cost and requires the crate to be clear and on a surface at my place"
        ],
        "goal": "Manipulate crates at my place when directed to support achieving the global arrangement while minimizing fuel-cost."
      },
      "hoist5": {
        "private_information": [
          "I am hoist5",
          "I start at distributor2",
          "I am available initially",
          "I can lift or put down one crate at a time at my location",
          "Lifting costs 1 fuel-cost and requires the crate to be clear and on a surface at my place"
        ],
        "goal": "Manipulate crates at my place when directed to support achieving the global arrangement while minimizing fuel-cost."
      },
      "orchestrator": {
        "private_information": [],
        "goal": "Coordinate trucks and hoists to rearrange crates to match the global goal configuration while minimizing fuel-cost and respecting agent constraints."
      }
    }
  },
  "environment": {
    "init": {
      "places": {
        "depots": [
          "depot0",
          "depot1",
          "depot2"
        ],
        "distributors": [
          "distributor0",
          "distributor1",
          "distributor2"
        ]
      },
      "objects": {
        "trucks": [
          "truck0",
          "truck1"
        ],
        "hoists": [
          "hoist0",
          "hoist1",
          "hoist2",
          "hoist3",
          "hoist4",
          "hoist5"
        ],
        "pallets": [
          "pallet0",
          "pallet1",
          "pallet2",
          "pallet3",
          "pallet4",
          "pallet5"
        ],
        "crates": [
          "crate0",
          "crate1",
          "crate2",
          "crate3",
          "crate4",
          "crate5",
          "crate6",
          "crate7",
          "crate8",
          "crate9"
        ]
      },
      "locations": {
        "depot0": [
          "crate1",
          "hoist0",
          "pallet0"
        ],
        "depot1": [
          "crate0",
          "crate3",
          "hoist1",
          "pallet1"
        ],
        "depot2": [
          "crate2",
          "crate4",
          "crate5",
          "crate9",
          "hoist2",
          "pallet2",
          "truck0"
        ],
        "distributor0": [
          "hoist3",
          "pallet3",
          "truck1"
        ],
        "distributor1": [
          "hoist4",
          "pallet4"
        ],
        "distributor2": [
          "crate6",
          "crate7",
          "crate8",
          "hoist5",
          "pallet5"
        ]
      },
      "stacks": {
        "depot0": [
          "pallet0",
          "crate1"
        ],
        "depot1": [
          "pallet1",
          "crate0",
          "crate3"
        ],
        "depot2": [
          "pallet2",
          "crate2",
          "crate4",
          "crate5",
          "crate9"
        ],
        "distributor0": [
          "pallet3"
        ],
        "distributor1": [
          "pallet4"
        ],
        "distributor2": [
          "pallet5",
          "crate6",
          "crate7",
          "crate8"
        ]
      },
      "on_relations": [
        "crate3 on crate0",
        "crate4 on crate2",
        "crate5 on crate4",
        "crate9 on crate5",
        "crate7 on crate6",
        "crate8 on crate7",
        "crate1 on pallet0",
        "crate0 on pallet1",
        "crate2 on pallet2",
        "crate6 on pallet5"
      ],
      "in_truck": [],
      "hoist_status": {
        "available": [
          "hoist0",
          "hoist1",
          "hoist2",
          "hoist3",
          "hoist4",
          "hoist5"
        ],
        "lifting": []
      },
      "clear_surfaces": [
        "crate1",
        "crate3",
        "crate8",
        "crate9",
        "pallet3",
        "pallet4"
      ],
      "truck_loads": {
        "truck0": {
          "current_load": 0,
          "load_limit": 336
        },
        "truck1": {
          "current_load": 0,
          "load_limit": 366
        }
      },
      "crate_weights": {
        "crate0": 42,
        "crate1": 6,
        "crate2": 74,
        "crate3": 64,
        "crate4": 61,
        "crate5": 79,
        "crate6": 29,
        "crate7": 77,
        "crate8": 19,
        "crate9": 98
      },
      "fuel-cost": 0
    },
    "goal": {
      "on_relations": [
        "crate7 on crate1",
        "crate9 on crate2",
        "crate6 on crate5",
        "crate0 on crate7",
        "crate3 on crate9",
        "crate4 on pallet0",
        "crate5 on pallet2",
        "crate8 on pallet3",
        "crate1 on pallet4",
        "crate2 on pallet5"
      ],
      "optimize": "minimize(fuel-cost)"
    },
    "public_information": [
      "Places are depots and distributors",
      "Trucks can drive between places and move crates when crates are loaded/unloaded by hoists",
      "Hoists can lift/put down crates at their place and load/unload trucks subject to capacity",
      "Crates can be stacked on pallets or other crates; crates are also surfaces when supporting other crates",
      "fuel-cost increases by 10 for each truck move and by 1 for each hoist lift operation and should be minimized"
    ]
  },
  "workflow": {
    "participants": {
      "orchestrator": {
        "task": "pddl",
        "input": [],
        "output": "pddl_orchestrator",
        "system_prompt": "You are an expert in encoding multi-agent logistics and manipulation planning problems into PDDL. You will be provided the environment initial state, goals, and private constraints of trucks and hoists. Produce a PDDL domain and a PDDL problem that models trucks, hoists, crates, pallets, places, numeric fluents for weights, current loads, load limits, and a global fuel-cost. Include actions for driving trucks, hoist-lift, hoist-putdown, hoist-put-into-truck, and hoist-take-from-truck. Ensure capacity numeric preconditions are enforced and fuel-cost is updated appropriately. Distinguish actions by agent where relevant.",
        "prompt": "Your name is orchestrator.\nInitial information about the environment: {environment->init}.\nGoal for the environment: {environment->goal}.\nThe public information is: {environment->public_information}.\nThe trucks' constraints are: {agents->agent_details->truck0->private_information} and {agents->agent_details->truck1->private_information}.\nThe hoists' constraints are: {agents->agent_details->hoist0->private_information}, {agents->agent_details->hoist1->private_information}, {agents->agent_details->hoist2->private_information}, {agents->agent_details->hoist3->private_information}, {agents->agent_details->hoist4->private_information}, {agents->agent_details->hoist5->private_information}.\nThink step by step and provide a PDDL domain and problem that encapsulate the integrated model, respecting the constraints of each agent and the numeric fuel-cost objective. Do not make assumptions beyond the given information. There is no need for anything else beyond producing the pddl files."
      }
    },
    "order_constraints": [
      "orchestrator.pddl"
    ]
  }
}