(define (domain blocks-world-sequence)
  (:requirements :strips :typing :negative-preconditions)
  (:types block step)
  (:predicates
    (on ?x - block ?y - block)
    (ontable ?x - block)
    (clear ?x - block)
    (holding ?x - block)
    (handempty)
    (done ?s - step)
  )

  ;; Step 1: unstack(e, h)
  (:action step1-unstack-e-h
    :parameters ()
    :precondition (and
      (done s0)
      (not (done s1))
      (on e h)
      (clear e)
      (handempty)
    )
    :effect (and
      (holding e)
      (clear h)
      (not (on e h))
      (not (clear e))
      (not (handempty))
      (done s1)
      (not (done s0))
    )
  )

  ;; Step 2: stack(e, h)
  (:action step2-stack-e-h
    :parameters ()
    :precondition (and
      (done s1)
      (not (done s2))
      (holding e)
      (clear h)
    )
    :effect (and
      (on e h)
      (clear e)
      (handempty)
      (not (holding e))
      (not (clear h))
      (done s2)
      (not (done s1))
    )
  )

  ;; Step 3: unstack(e, h)
  (:action step3-unstack-e-h
    :parameters ()
    :precondition (and
      (done s2)
      (not (done s3))
      (on e h)
      (clear e)
      (handempty)
    )
    :effect (and
      (holding e)
      (clear h)
      (not (on e h))
      (not (clear e))
      (not (handempty))
      (done s3)
      (not (done s2))
    )
  )

  ;; Step 4: stack(e, d)
  (:action step4-stack-e-d
    :parameters ()
    :precondition (and
      (done s3)
      (not (done s4))
      (holding e)
      (clear d)
    )
    :effect (and
      (on e d)
      (clear e)
      (handempty)
      (not (holding e))
      (not (clear d))
      (done s4)
      (not (done s3))
    )
  )

  ;; Step 5: unstack(h, a)
  (:action step5-unstack-h-a
    :parameters ()
    :precondition (and
      (done s4)
      (not (done s5))
      (on h a)
      (clear h)
      (handempty)
    )
    :effect (and
      (holding h)
      (clear a)
      (not (on h a))
      (not (clear h))
      (not (handempty))
      (done s5)
      (not (done s4))
    )
  )

  ;; Step 6: putdown(h)
  (:action step6-putdown-h
    :parameters ()
    :precondition (and
      (done s5)
      (not (done s6))
      (holding h)
    )
    :effect (and
      (ontable h)
      (clear h)
      (handempty)
      (not (holding h))
      (done s6)
      (not (done s5))
    )
  )

  ;; Step 7: pickup(h)
  (:action step7-pickup-h
    :parameters ()
    :precondition (and
      (done s6)
      (not (done s7))
      (ontable h)
      (clear h)
      (handempty)
    )
    :effect (and
      (holding h)
      (not (ontable h))
      (not (clear h))
      (not (handempty))
      (done s7)
      (not (done s6))
    )
  )

  ;; Step 8: stack(h, e)
  (:action step8-stack-h-e
    :parameters ()
    :precondition (and
      (done s7)
      (not (done s8))
      (holding h)
      (clear e)
    )
    :effect (and
      (on h e)
      (clear h)
      (handempty)
      (not (holding h))
      (not (clear e))
      (done s8)
      (not (done s7))
    )
  )

  ;; Step 9: unstack(h, e)
  (:action step9-unstack-h-e
    :parameters ()
    :precondition (and
      (done s8)
      (not (done s9))
      (on h e)
      (clear h)
      (handempty)
    )
    :effect (and
      (holding h)
      (clear e)
      (not (on h e))
      (not (clear h))
      (not (handempty))
      (done s9)
      (not (done s8))
    )
  )

  ;; Step 10: stack(h, e)
  (:action step10-stack-h-e
    :parameters ()
    :precondition (and
      (done s9)
      (not (done s10))
      (holding h)
      (clear e)
    )
    :effect (and
      (on h e)
      (clear h)
      (handempty)
      (not (holding h))
      (not (clear e))
      (done s10)
      (not (done s9))
    )
  )

  ;; Step 11: pickup(a)
  (:action step11-pickup-a
    :parameters ()
    :precondition (and
      (done s10)
      (not (done s11))
      (ontable a)
      (clear a)
      (handempty)
    )
    :effect (and
      (holding a)
      (not (ontable a))
      (not (clear a))
      (not (handempty))
      (done s11)
      (not (done s10))
    )
  )

  ;; Step 12: putdown(a)
  (:action step12-putdown-a
    :parameters ()
    :precondition (and
      (done s11)
      (not (done s12))
      (holding a)
    )
    :effect (and
      (ontable a)
      (clear a)
      (handempty)
      (not (holding a))
      (done s12)
      (not (done s11))
    )
  )

  ;; Step 13: pickup(a)
  (:action step13-pickup-a
    :parameters ()
    :precondition (and
      (done s12)
      (not (done s13))
      (ontable a)
      (clear a)
      (handempty)
    )
    :effect (and
      (holding a)
      (not (ontable a))
      (not (clear a))
      (not (handempty))
      (done s13)
      (not (done s12))
    )
  )

  ;; Step 14: stack(a, h)
  (:action step14-stack-a-h
    :parameters ()
    :precondition (and
      (done s13)
      (not (done s14))
      (holding a)
      (clear h)
    )
    :effect (and
      (on a h)
      (clear a)
      (handempty)
      (not (holding a))
      (not (clear h))
      (done s14)
      (not (done s13))
    )
  )

  ;; Step 15: unstack(a, h)
  (:action step15-unstack-a-h
    :parameters ()
    :precondition (and
      (done s14)
      (not (done s15))
      (on a h)
      (clear a)
      (handempty)
    )
    :effect (and
      (holding a)
      (clear h)
      (not (on a h))
      (not (clear a))
      (not (handempty))
      (done s15)
      (not (done s14))
    )
  )

  ;; Step 16: stack(a, h)
  (:action step16-stack-a-h
    :parameters ()
    :precondition (and
      (done s15)
      (not (done s16))
      (holding a)
      (clear h)
    )
    :effect (and
      (on a h)
      (clear a)
      (handempty)
      (not (holding a))
      (not (clear h))
      (done s16)
      (not (done s15))
    )
  )

  ;; Step 17: unstack(a, h)
  (:action step17-unstack-a-h
    :parameters ()
    :precondition (and
      (done s16)
      (not (done s17))
      (on a h)
      (clear a)
      (handempty)
    )
    :effect (and
      (holding a)
      (clear h)
      (not (on a h))
      (not (clear a))
      (not (handempty))
      (done s17)
      (not (done s16))
    )
  )

  ;; Step 18: putdown(a)
  (:action step18-putdown-a
    :parameters ()
    :precondition (and
      (done s17)
      (not (done s18))
      (holding a)
    )
    :effect (and
      (ontable a)
      (clear a)
      (handempty)
      (not (holding a))
      (done s18)
      (not (done s17))
    )
  )

  ;; Step 19: pickup(a)
  (:action step19-pickup-a
    :parameters ()
    :precondition (and
      (done s18)
      (not (done s19))
      (ontable a)
      (clear a)
      (handempty)
    )
    :effect (and
      (holding a)
      (not (ontable a))
      (not (clear a))
      (not (handempty))
      (done s19)
      (not (done s18))
    )
  )

  ;; Step 20: stack(a, h)
  (:action step20-stack-a-h
    :parameters ()
    :precondition (and
      (done s19)
      (not (done s20))
      (holding a)
      (clear h)
    )
    :effect (and
      (on a h)
      (clear a)
      (handempty)
      (not (holding a))
      (not (clear h))
      (done s20)
      (not (done s19))
    )
  )
)