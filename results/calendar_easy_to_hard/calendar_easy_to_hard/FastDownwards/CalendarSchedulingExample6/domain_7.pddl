(define (domain meeting-scheduling-multiagent)
  (:requirements :typing :strips :negative-preconditions)
  (:types person timeslot day)

  (:constants thomas dylan jerry - person)

  (:predicates
    (participant ?p - person)
    (is-timeslot ?t - timeslot)
    (is-day ?d - day)
    (on-day ?t - timeslot ?d - day)
    (within-workhours ?t - timeslot)
    (next ?t1 - timeslot ?t2 - timeslot)
    (available ?p - person ?t - timeslot)
    (proposed-by ?p - person ?t - timeslot)
    (meeting-unscheduled)
    (meeting-scheduled ?t - timeslot)
    (meeting-starts ?t - timeslot)
  )

  (:action propose_thomas
    :parameters (?t - timeslot ?d - day)
    :precondition (and
      (participant thomas)
      (is-timeslot ?t)
      (is-day ?d)
      (on-day ?t ?d)
      (within-workhours ?t)
      (available thomas ?t)
      (not (proposed-by thomas ?t))
      (meeting-unscheduled)
    )
    :effect (proposed-by thomas ?t)
  )

  (:action propose_dylan
    :parameters (?t - timeslot ?d - day)
    :precondition (and
      (participant dylan)
      (is-timeslot ?t)
      (is-day ?d)
      (on-day ?t ?d)
      (within-workhours ?t)
      (available dylan ?t)
      (not (proposed-by dylan ?t))
      (meeting-unscheduled)
    )
    :effect (proposed-by dylan ?t)
  )

  (:action propose_jerry
    :parameters (?t - timeslot ?d - day)
    :precondition (and
      (participant jerry)
      (is-timeslot ?t)
      (is-day ?d)
      (on-day ?t ?d)
      (within-workhours ?t)
      (available jerry ?t)
      (not (proposed-by jerry ?t))
      (meeting-unscheduled)
    )
    :effect (proposed-by jerry ?t)
  )

  (:action orchestrator_schedule
    :parameters (?t - timeslot ?tnext - timeslot ?d - day)
    :precondition (and
      (is-timeslot ?t)
      (is-timeslot ?tnext)
      (is-day ?d)
      (on-day ?t ?d)
      (on-day ?tnext ?d)
      (within-workhours ?t)
      (within-workhours ?tnext)
      (next ?t ?tnext)
      (participant thomas) (participant dylan) (participant jerry)
      (available thomas ?t) (available thomas ?tnext)
      (available dylan ?t) (available dylan ?tnext)
      (available jerry ?t) (available jerry ?tnext)
      (meeting-unscheduled)
      (not (meeting-scheduled ?t))
    )
    :effect (and
      (not (meeting-unscheduled))
      (meeting-scheduled ?t)
      (meeting-starts ?t)
    )
  )
)