(define (domain trip-planning)
  (:requirements :strips :typing :negative-preconditions)
  (:types city day)
  (:constants seville munich tallinn - city)
  (:predicates
    (current_day ?d - day)
    (next ?d1 ?d2 - day)
    (at_city ?c - city)
    (visited ?c - city ?d - day)
    (connected ?c1 ?c2 - city)
    (started)
    (not_started)
    (seville_days_0)
    (seville_days_1)
    (seville_days_2)
    (seville_days_3)
    (seville_days_4)
    (seville_days_5)
    (seville_days_6)
    (seville_days_7)
    (munich_days_0)
    (munich_days_1)
    (munich_days_2)
    (munich_days_3)
    (tallinn_days_0)
    (tallinn_days_1)
    (tallinn_days_2)
  )

  (:action start_in_seville
    :parameters (?d - day)
    :precondition (and (current_day ?d) (not_started) (seville_days_0))
    :effect (and
              (started)
              (not (not_started))
              (at_city seville)
              (visited seville ?d)
              (not (seville_days_0))
              (seville_days_1)
            )
  )

  (:action start_in_munich
    :parameters (?d - day)
    :precondition (and (current_day ?d) (not_started) (munich_days_0))
    :effect (and
              (started)
              (not (not_started))
              (at_city munich)
              (visited munich ?d)
              (not (munich_days_0))
              (munich_days_1)
            )
  )

  (:action start_in_tallinn
    :parameters (?d - day)
    :precondition (and (current_day ?d) (not_started) (tallinn_days_0))
    :effect (and
              (started)
              (not (not_started))
              (at_city tallinn)
              (visited tallinn ?d)
              (not (tallinn_days_0))
              (tallinn_days_1)
            )
  )

  ;; Stay actions for Seville (increment seville day counts up to 7)
  (:action stay_seville_0
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (seville_days_0))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited seville ?d2)
              (not (seville_days_0))
              (seville_days_1)
            )
  )
  (:action stay_seville_1
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (seville_days_1))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited seville ?d2)
              (not (seville_days_1))
              (seville_days_2)
            )
  )
  (:action stay_seville_2
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (seville_days_2))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited seville ?d2)
              (not (seville_days_2))
              (seville_days_3)
            )
  )
  (:action stay_seville_3
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (seville_days_3))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited seville ?d2)
              (not (seville_days_3))
              (seville_days_4)
            )
  )
  (:action stay_seville_4
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (seville_days_4))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited seville ?d2)
              (not (seville_days_4))
              (seville_days_5)
            )
  )
  (:action stay_seville_5
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (seville_days_5))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited seville ?d2)
              (not (seville_days_5))
              (seville_days_6)
            )
  )
  (:action stay_seville_6
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (seville_days_6))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited seville ?d2)
              (not (seville_days_6))
              (seville_days_7)
            )
  )

  ;; Stay actions for Munich (up to 3)
  (:action stay_munich_0
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (munich_days_0))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited munich ?d2)
              (not (munich_days_0))
              (munich_days_1)
            )
  )
  (:action stay_munich_1
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (munich_days_1))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited munich ?d2)
              (not (munich_days_1))
              (munich_days_2)
            )
  )
  (:action stay_munich_2
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (munich_days_2))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited munich ?d2)
              (not (munich_days_2))
              (munich_days_3)
            )
  )

  ;; Stay actions for Tallinn (up to 2)
  (:action stay_tallinn_0
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city tallinn) (tallinn_days_0))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited tallinn ?d2)
              (not (tallinn_days_0))
              (tallinn_days_1)
            )
  )
  (:action stay_tallinn_1
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city tallinn) (tallinn_days_1))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (visited tallinn ?d2)
              (not (tallinn_days_1))
              (tallinn_days_2)
            )
  )

  ;; Fly actions seville -> munich (increment munich counts up to 3)
  (:action fly_seville_munich_0
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (connected seville munich) (started) (munich_days_0))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city seville))
              (at_city munich)
              (visited munich ?d2)
              (not (munich_days_0))
              (munich_days_1)
            )
  )
  (:action fly_seville_munich_1
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (connected seville munich) (started) (munich_days_1))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city seville))
              (at_city munich)
              (visited munich ?d2)
              (not (munich_days_1))
              (munich_days_2)
            )
  )
  (:action fly_seville_munich_2
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city seville) (connected seville munich) (started) (munich_days_2))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city seville))
              (at_city munich)
              (visited munich ?d2)
              (not (munich_days_2))
              (munich_days_3)
            )
  )

  ;; Fly actions munich -> seville (increment seville counts up to 7)
  (:action fly_munich_seville_0
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich seville) (started) (seville_days_0))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city seville)
              (visited seville ?d2)
              (not (seville_days_0))
              (seville_days_1)
            )
  )
  (:action fly_munich_seville_1
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich seville) (started) (seville_days_1))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city seville)
              (visited seville ?d2)
              (not (seville_days_1))
              (seville_days_2)
            )
  )
  (:action fly_munich_seville_2
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich seville) (started) (seville_days_2))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city seville)
              (visited seville ?d2)
              (not (seville_days_2))
              (seville_days_3)
            )
  )
  (:action fly_munich_seville_3
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich seville) (started) (seville_days_3))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city seville)
              (visited seville ?d2)
              (not (seville_days_3))
              (seville_days_4)
            )
  )
  (:action fly_munich_seville_4
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich seville) (started) (seville_days_4))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city seville)
              (visited seville ?d2)
              (not (seville_days_4))
              (seville_days_5)
            )
  )
  (:action fly_munich_seville_5
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich seville) (started) (seville_days_5))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city seville)
              (visited seville ?d2)
              (not (seville_days_5))
              (seville_days_6)
            )
  )
  (:action fly_munich_seville_6
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich seville) (started) (seville_days_6))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city seville)
              (visited seville ?d2)
              (not (seville_days_6))
              (seville_days_7)
            )
  )

  ;; Fly actions munich -> tallinn (increment tallinn counts up to 2)
  (:action fly_munich_tallinn_0
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich tallinn) (started) (tallinn_days_0))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city tallinn)
              (visited tallinn ?d2)
              (not (tallinn_days_0))
              (tallinn_days_1)
            )
  )
  (:action fly_munich_tallinn_1
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city munich) (connected munich tallinn) (started) (tallinn_days_1))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city munich))
              (at_city tallinn)
              (visited tallinn ?d2)
              (not (tallinn_days_1))
              (tallinn_days_2)
            )
  )

  ;; Fly actions tallinn -> munich (increment munich counts up to 3)
  (:action fly_tallinn_munich_0
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city tallinn) (connected tallinn munich) (started) (munich_days_0))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city tallinn))
              (at_city munich)
              (visited munich ?d2)
              (not (munich_days_0))
              (munich_days_1)
            )
  )
  (:action fly_tallinn_munich_1
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city tallinn) (connected tallinn munich) (started) (munich_days_1))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city tallinn))
              (at_city munich)
              (visited munich ?d2)
              (not (munich_days_1))
              (munich_days_2)
            )
  )
  (:action fly_tallinn_munich_2
    :parameters (?d ?d2 - day)
    :precondition (and (current_day ?d) (next ?d ?d2) (at_city tallinn) (connected tallinn munich) (started) (munich_days_2))
    :effect (and
              (not (current_day ?d))
              (current_day ?d2)
              (not (at_city tallinn))
              (at_city munich)
              (visited munich ?d2)
              (not (munich_days_2))
              (munich_days_3)
            )
  )
)