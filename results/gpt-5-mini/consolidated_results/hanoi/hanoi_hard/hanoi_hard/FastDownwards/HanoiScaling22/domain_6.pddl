(define (domain hanoi6)
  (:requirements :strips :typing :negative-preconditions)
  (:types disk peg stage)

  (:predicates
    (on ?d - disk ?p - peg)
    (smaller ?d1 - disk ?d2 - disk)
    (at-stage ?s - stage)
    (succ ?s1 - stage ?s2 - stage)
  )

  ; Moves for disk a (smallest) - no smaller disks to check
  (:action move-a-left-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on a left) (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on a left)) (on a middle) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-a-left-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on a left) (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on a left)) (on a right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-a-middle-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on a middle) (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on a middle)) (on a left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-a-middle-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on a middle) (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on a middle)) (on a right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-a-right-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on a right) (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on a right)) (on a left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-a-right-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on a right) (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on a right)) (on a middle) (not (at-stage ?s)) (at-stage ?s2))
  )

  ; Moves for disk b (smaller disk: a)
  (:action move-b-left-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on b left)
                       (not (on a left))  ; a not on source (b is top)
                       (not (on a middle)) ; a not on dest (cannot place b on smaller a)
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on b left)) (on b middle) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-b-left-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on b left)
                       (not (on a left))
                       (not (on a right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on b left)) (on b right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-b-middle-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on b middle)
                       (not (on a middle))
                       (not (on a left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on b middle)) (on b left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-b-middle-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on b middle)
                       (not (on a middle))
                       (not (on a right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on b middle)) (on b right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-b-right-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on b right)
                       (not (on a right))
                       (not (on a left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on b right)) (on b left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-b-right-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on b right)
                       (not (on a right))
                       (not (on a middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on b right)) (on b middle) (not (at-stage ?s)) (at-stage ?s2))
  )

  ; Moves for disk c (smaller disks: a, b)
  (:action move-c-left-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on c left)
                       (not (on a left)) (not (on b left))
                       (not (on a middle)) (not (on b middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on c left)) (on c middle) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-c-left-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on c left)
                       (not (on a left)) (not (on b left))
                       (not (on a right)) (not (on b right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on c left)) (on c right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-c-middle-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on c middle)
                       (not (on a middle)) (not (on b middle))
                       (not (on a left)) (not (on b left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on c middle)) (on c left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-c-middle-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on c middle)
                       (not (on a middle)) (not (on b middle))
                       (not (on a right)) (not (on b right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on c middle)) (on c right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-c-right-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on c right)
                       (not (on a right)) (not (on b right))
                       (not (on a left)) (not (on b left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on c right)) (on c left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-c-right-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on c right)
                       (not (on a right)) (not (on b right))
                       (not (on a middle)) (not (on b middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on c right)) (on c middle) (not (at-stage ?s)) (at-stage ?s2))
  )

  ; Moves for disk d (smaller disks: a, b, c)
  (:action move-d-left-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on d left)
                       (not (on a left)) (not (on b left)) (not (on c left))
                       (not (on a middle)) (not (on b middle)) (not (on c middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on d left)) (on d middle) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-d-left-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on d left)
                       (not (on a left)) (not (on b left)) (not (on c left))
                       (not (on a right)) (not (on b right)) (not (on c right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on d left)) (on d right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-d-middle-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on d middle)
                       (not (on a middle)) (not (on b middle)) (not (on c middle))
                       (not (on a left)) (not (on b left)) (not (on c left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on d middle)) (on d left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-d-middle-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on d middle)
                       (not (on a middle)) (not (on b middle)) (not (on c middle))
                       (not (on a right)) (not (on b right)) (not (on c right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on d middle)) (on d right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-d-right-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on d right)
                       (not (on a right)) (not (on b right)) (not (on c right))
                       (not (on a left)) (not (on b left)) (not (on c left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on d right)) (on d left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-d-right-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on d right)
                       (not (on a right)) (not (on b right)) (not (on c right))
                       (not (on a middle)) (not (on b middle)) (not (on c middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on d right)) (on d middle) (not (at-stage ?s)) (at-stage ?s2))
  )

  ; Moves for disk e (smaller disks: a, b, c, d)
  (:action move-e-left-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on e left)
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left))
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on e left)) (on e middle) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-e-left-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on e left)
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left))
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on e left)) (on e right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-e-middle-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on e middle)
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle))
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on e middle)) (on e left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-e-middle-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on e middle)
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle))
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on e middle)) (on e right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-e-right-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on e right)
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right))
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on e right)) (on e left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-e-right-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on e right)
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right))
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on e right)) (on e middle) (not (at-stage ?s)) (at-stage ?s2))
  )

  ; Moves for disk f (largest) (smaller disks: a, b, c, d, e)
  (:action move-f-left-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on f left)
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left)) (not (on e left))
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle)) (not (on e middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on f left)) (on f middle) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-f-left-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on f left)
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left)) (not (on e left))
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right)) (not (on e right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on f left)) (on f right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-f-middle-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on f middle)
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle)) (not (on e middle))
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left)) (not (on e left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on f middle)) (on f left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-f-middle-right
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on f middle)
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle)) (not (on e middle))
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right)) (not (on e right))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on f middle)) (on f right) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-f-right-left
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on f right)
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right)) (not (on e right))
                       (not (on a left)) (not (on b left)) (not (on c left)) (not (on d left)) (not (on e left))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on f right)) (on f left) (not (at-stage ?s)) (at-stage ?s2))
  )
  (:action move-f-right-middle
    :parameters (?s - stage ?s2 - stage)
    :precondition (and (on f right)
                       (not (on a right)) (not (on b right)) (not (on c right)) (not (on d right)) (not (on e right))
                       (not (on a middle)) (not (on b middle)) (not (on c middle)) (not (on d middle)) (not (on e middle))
                       (at-stage ?s) (succ ?s ?s2))
    :effect (and (not (on f right)) (on f middle) (not (at-stage ?s)) (at-stage ?s2))
  )
)