(define (domain meeting-scheduling)
  (:requirements :strips :typing :negative-preconditions)
  (:types person slot)
  (:constants jesse kathryn megan orchestrator - person
              slot1 slot2 slot3 slot4 slot5 slot6 slot7 slot8 slot9 slot10 slot11 slot12 slot13 slot14 slot15 slot16 - slot)

  (:predicates
    (free ?p - person ?s - slot)
    (attends ?p - person ?s - slot)
    (allfree ?s - slot)
    (meeting-scheduled)
    (meeting-at ?s - slot)
  )

  ;; Distinct attend actions per participant
  (:action attend-jesse
    :parameters (?s - slot)
    :precondition (free jesse ?s)
    :effect (attends jesse ?s)
  )

  (:action attend-kathryn
    :parameters (?s - slot)
    :precondition (free kathryn ?s)
    :effect (attends kathryn ?s)
  )

  (:action attend-megan
    :parameters (?s - slot)
    :precondition (free megan ?s)
    :effect (attends megan ?s)
  )

  ;; Orchestrator has a distinct attend action (not required for scheduling)
  (:action attend-orchestrator
    :parameters (?s - slot)
    :precondition (free orchestrator ?s)
    :effect (attends orchestrator ?s)
  )

  ;; Schedule actions for each slot. Each requires that jesse, kathryn and megan have attended
  ;; and that this slot is marked allfree. To force earliest feasible slot, each later
  ;; schedule action forbids any earlier slot that is allfree.
  (:action schedule-slot1
    :parameters ()
    :precondition (and
      (attends jesse slot1)
      (attends kathryn slot1)
      (attends megan slot1)
      (allfree slot1)
    )
    :effect (and (meeting-scheduled) (meeting-at slot1))
  )

  (:action schedule-slot2
    :parameters ()
    :precondition (and
      (attends jesse slot2)
      (attends kathryn slot2)
      (attends megan slot2)
      (allfree slot2)
      (not (allfree slot1))
    )
    :effect (and (meeting-scheduled) (meeting-at slot2))
  )

  (:action schedule-slot3
    :parameters ()
    :precondition (and
      (attends jesse slot3)
      (attends kathryn slot3)
      (attends megan slot3)
      (allfree slot3)
      (not (allfree slot1))
      (not (allfree slot2))
    )
    :effect (and (meeting-scheduled) (meeting-at slot3))
  )

  (:action schedule-slot4
    :parameters ()
    :precondition (and
      (attends jesse slot4)
      (attends kathryn slot4)
      (attends megan slot4)
      (allfree slot4)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
    )
    :effect (and (meeting-scheduled) (meeting-at slot4))
  )

  (:action schedule-slot5
    :parameters ()
    :precondition (and
      (attends jesse slot5)
      (attends kathryn slot5)
      (attends megan slot5)
      (allfree slot5)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
    )
    :effect (and (meeting-scheduled) (meeting-at slot5))
  )

  (:action schedule-slot6
    :parameters ()
    :precondition (and
      (attends jesse slot6)
      (attends kathryn slot6)
      (attends megan slot6)
      (allfree slot6)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
    )
    :effect (and (meeting-scheduled) (meeting-at slot6))
  )

  (:action schedule-slot7
    :parameters ()
    :precondition (and
      (attends jesse slot7)
      (attends kathryn slot7)
      (attends megan slot7)
      (allfree slot7)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
    )
    :effect (and (meeting-scheduled) (meeting-at slot7))
  )

  (:action schedule-slot8
    :parameters ()
    :precondition (and
      (attends jesse slot8)
      (attends kathryn slot8)
      (attends megan slot8)
      (allfree slot8)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
    )
    :effect (and (meeting-scheduled) (meeting-at slot8))
  )

  (:action schedule-slot9
    :parameters ()
    :precondition (and
      (attends jesse slot9)
      (attends kathryn slot9)
      (attends megan slot9)
      (allfree slot9)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
    )
    :effect (and (meeting-scheduled) (meeting-at slot9))
  )

  (:action schedule-slot10
    :parameters ()
    :precondition (and
      (attends jesse slot10)
      (attends kathryn slot10)
      (attends megan slot10)
      (allfree slot10)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
      (not (allfree slot9))
    )
    :effect (and (meeting-scheduled) (meeting-at slot10))
  )

  (:action schedule-slot11
    :parameters ()
    :precondition (and
      (attends jesse slot11)
      (attends kathryn slot11)
      (attends megan slot11)
      (allfree slot11)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
      (not (allfree slot9))
      (not (allfree slot10))
    )
    :effect (and (meeting-scheduled) (meeting-at slot11))
  )

  (:action schedule-slot12
    :parameters ()
    :precondition (and
      (attends jesse slot12)
      (attends kathryn slot12)
      (attends megan slot12)
      (allfree slot12)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
      (not (allfree slot9))
      (not (allfree slot10))
      (not (allfree slot11))
    )
    :effect (and (meeting-scheduled) (meeting-at slot12))
  )

  (:action schedule-slot13
    :parameters ()
    :precondition (and
      (attends jesse slot13)
      (attends kathryn slot13)
      (attends megan slot13)
      (allfree slot13)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
      (not (allfree slot9))
      (not (allfree slot10))
      (not (allfree slot11))
      (not (allfree slot12))
    )
    :effect (and (meeting-scheduled) (meeting-at slot13))
  )

  (:action schedule-slot14
    :parameters ()
    :precondition (and
      (attends jesse slot14)
      (attends kathryn slot14)
      (attends megan slot14)
      (allfree slot14)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
      (not (allfree slot9))
      (not (allfree slot10))
      (not (allfree slot11))
      (not (allfree slot12))
      (not (allfree slot13))
    )
    :effect (and (meeting-scheduled) (meeting-at slot14))
  )

  (:action schedule-slot15
    :parameters ()
    :precondition (and
      (attends jesse slot15)
      (attends kathryn slot15)
      (attends megan slot15)
      (allfree slot15)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
      (not (allfree slot9))
      (not (allfree slot10))
      (not (allfree slot11))
      (not (allfree slot12))
      (not (allfree slot13))
      (not (allfree slot14))
    )
    :effect (and (meeting-scheduled) (meeting-at slot15))
  )

  (:action schedule-slot16
    :parameters ()
    :precondition (and
      (attends jesse slot16)
      (attends kathryn slot16)
      (attends megan slot16)
      (allfree slot16)
      (not (allfree slot1))
      (not (allfree slot2))
      (not (allfree slot3))
      (not (allfree slot4))
      (not (allfree slot5))
      (not (allfree slot6))
      (not (allfree slot7))
      (not (allfree slot8))
      (not (allfree slot9))
      (not (allfree slot10))
      (not (allfree slot11))
      (not (allfree slot12))
      (not (allfree slot13))
      (not (allfree slot14))
      (not (allfree slot15))
    )
    :effect (and (meeting-scheduled) (meeting-at slot16))
  )

)