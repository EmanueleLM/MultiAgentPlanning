(define (domain multiagent-itinerary)
  (:requirements :strips :typing :adl :action-costs :equality)
  (:types agent city day count)
  (:predicates
    (connected ?c - city ?c2 - city)
    (unassigned ?d - day)
    (assigned ?d - day ?c - city)
    (next ?d1 - day ?d2 - day)
    (first ?d - day)
    (at ?a - agent ?c - city)
    (direct-flight ?from - city ?to - city)
    (days-used ?n - count)
    (next-count ?n - count ?m - count)
    (target-duration ?n - count)
  )
  (:action assign-first
    :parameters (?sched - agent ?trav - agent ?d - day ?c - city ?n - count ?n+1 - count)
    :precondition (and (first ?d) (unassigned ?d) (at ?trav ?c) (days-used ?n) (next-count ?n ?n+1))
    :effect (and (assigned ?d ?c) (not (unassigned ?d)) (not (days-used ?n)) (days-used ?n+1))
  )
  (:action assign-next
    :parameters (?sched - agent ?trav - agent ?prev - day ?d - day ?cprev - city ?cnew - city ?n - count ?n+1 - count)
    :precondition (and (next ?prev ?d) (assigned ?prev ?cprev) (connected ?cprev ?cnew) (unassigned ?d) (at ?trav ?cnew) (days-used ?n) (next-count ?n ?n+1))
    :effect (and (assigned ?d ?cnew) (not (unassigned ?d)) (not (days-used ?n)) (days-used ?n+1))
  )
  (:action fly
    :parameters (?a - agent ?from - city ?to - city)
    :precondition (and (at ?a ?from) (direct-flight ?from ?to))
    :effect (and (not (at ?a ?from)) (at ?a ?to))
  )
)