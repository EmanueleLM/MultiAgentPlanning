(define (domain travel-assignments)
  (:requirements :strips :typing :negative-preconditions)
  (:types day city num)
  (:constants
    prague vienna porto - city
  )
  (:predicates
    (next ?d1 - day ?d2 - day)
    (current ?d - day)
    (assigned ?d - day)
    (at ?d - day ?c - city)

    (last-is-prague)
    (last-is-vienna)
    (last-is-porto)

    (direct ?c1 - city ?c2 - city)

    (workshop-day ?d - day)
    (first-day ?d - day)
    (last-day ?d - day)

    (current-count-prague ?n - num)
    (current-count-vienna ?n - num)
    (current-count-porto ?n - num)
    (next-num ?n1 - num ?n2 - num)
  )

  (:action assign-first-prague
    :parameters (?d - day ?d2 - day ?np - num ?np2 - num)
    :precondition (and
      (first-day ?d)
      (current ?d)
      (workshop-day ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (current-count-prague ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d prague)
      (not (current ?d))
      (current ?d2)
      (last-is-prague)
      (not (last-is-vienna))
      (not (last-is-porto))
      (not (current-count-prague ?np))
      (current-count-prague ?np2)
    )
  )

  (:action assign-next-prague-from-prague
    :parameters (?d - day ?d2 - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-prague)
      (current-count-prague ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d prague)
      (not (current ?d))
      (current ?d2)
      (last-is-prague)
      (not (last-is-vienna))
      (not (last-is-porto))
      (not (current-count-prague ?np))
      (current-count-prague ?np2)
    )
  )

  (:action assign-next-prague-from-vienna
    :parameters (?d - day ?d2 - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-vienna)
      (direct vienna prague)
      (current-count-prague ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d prague)
      (not (current ?d))
      (current ?d2)
      (last-is-prague)
      (not (last-is-vienna))
      (not (last-is-porto))
      (not (current-count-prague ?np))
      (current-count-prague ?np2)
    )
  )

  (:action assign-next-prague-from-porto
    :parameters (?d - day ?d2 - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-porto)
      (direct porto prague)
      (current-count-prague ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d prague)
      (not (current ?d))
      (current ?d2)
      (last-is-prague)
      (not (last-is-vienna))
      (not (last-is-porto))
      (not (current-count-prague ?np))
      (current-count-prague ?np2)
    )
  )

  (:action assign-next-vienna-from-prague
    :parameters (?d - day ?d2 - day ?nv - num ?nv2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-prague)
      (direct prague vienna)
      (not (workshop-day ?d))
      (current-count-vienna ?nv)
      (next-num ?nv ?nv2)
    )
    :effect (and
      (assigned ?d)
      (at ?d vienna)
      (not (current ?d))
      (current ?d2)
      (last-is-vienna)
      (not (last-is-prague))
      (not (last-is-porto))
      (not (current-count-vienna ?nv))
      (current-count-vienna ?nv2)
    )
  )

  (:action assign-next-vienna-from-vienna
    :parameters (?d - day ?d2 - day ?nv - num ?nv2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-vienna)
      (not (workshop-day ?d))
      (current-count-vienna ?nv)
      (next-num ?nv ?nv2)
    )
    :effect (and
      (assigned ?d)
      (at ?d vienna)
      (not (current ?d))
      (current ?d2)
      (last-is-vienna)
      (not (last-is-prague))
      (not (last-is-porto))
      (not (current-count-vienna ?nv))
      (current-count-vienna ?nv2)
    )
  )

  (:action assign-next-vienna-from-porto
    :parameters (?d - day ?d2 - day ?nv - num ?nv2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-porto)
      (direct porto vienna)
      (not (workshop-day ?d))
      (current-count-vienna ?nv)
      (next-num ?nv ?nv2)
    )
    :effect (and
      (assigned ?d)
      (at ?d vienna)
      (not (current ?d))
      (current ?d2)
      (last-is-vienna)
      (not (last-is-prague))
      (not (last-is-porto))
      (not (current-count-vienna ?nv))
      (current-count-vienna ?nv2)
    )
  )

  (:action assign-next-porto-from-prague
    :parameters (?d - day ?d2 - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-prague)
      (direct prague porto)
      (not (workshop-day ?d))
      (current-count-porto ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d porto)
      (not (current ?d))
      (current ?d2)
      (last-is-porto)
      (not (last-is-prague))
      (not (last-is-vienna))
      (not (current-count-porto ?np))
      (current-count-porto ?np2)
    )
  )

  (:action assign-next-porto-from-vienna
    :parameters (?d - day ?d2 - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-vienna)
      (direct vienna porto)
      (not (workshop-day ?d))
      (current-count-porto ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d porto)
      (not (current ?d))
      (current ?d2)
      (last-is-porto)
      (not (last-is-prague))
      (not (last-is-vienna))
      (not (current-count-porto ?np))
      (current-count-porto ?np2)
    )
  )

  (:action assign-next-porto-from-porto
    :parameters (?d - day ?d2 - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (next ?d ?d2)
      (not (assigned ?d))
      (last-is-porto)
      (not (workshop-day ?d))
      (current-count-porto ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d porto)
      (not (current ?d))
      (current ?d2)
      (last-is-porto)
      (not (last-is-prague))
      (not (last-is-vienna))
      (not (current-count-porto ?np))
      (current-count-porto ?np2)
    )
  )

  (:action assign-final-prague-from-prague
    :parameters (?d - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-prague)
      (current-count-prague ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d prague)
      (not (current ?d))
      (last-is-prague)
      (not (last-is-vienna))
      (not (last-is-porto))
      (not (current-count-prague ?np))
      (current-count-prague ?np2)
    )
  )

  (:action assign-final-prague-from-vienna
    :parameters (?d - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-vienna)
      (direct vienna prague)
      (current-count-prague ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d prague)
      (not (current ?d))
      (last-is-prague)
      (not (last-is-vienna))
      (not (last-is-porto))
      (not (current-count-prague ?np))
      (current-count-prague ?np2)
    )
  )

  (:action assign-final-prague-from-porto
    :parameters (?d - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-porto)
      (direct porto prague)
      (current-count-prague ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d prague)
      (not (current ?d))
      (last-is-prague)
      (not (last-is-vienna))
      (not (last-is-porto))
      (not (current-count-prague ?np))
      (current-count-prague ?np2)
    )
  )

  (:action assign-final-vienna-from-prague
    :parameters (?d - day ?nv - num ?nv2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-prague)
      (direct prague vienna)
      (not (workshop-day ?d))
      (current-count-vienna ?nv)
      (next-num ?nv ?nv2)
    )
    :effect (and
      (assigned ?d)
      (at ?d vienna)
      (not (current ?d))
      (last-is-vienna)
      (not (last-is-prague))
      (not (last-is-porto))
      (not (current-count-vienna ?nv))
      (current-count-vienna ?nv2)
    )
  )

  (:action assign-final-vienna-from-vienna
    :parameters (?d - day ?nv - num ?nv2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-vienna)
      (not (workshop-day ?d))
      (current-count-vienna ?nv)
      (next-num ?nv ?nv2)
    )
    :effect (and
      (assigned ?d)
      (at ?d vienna)
      (not (current ?d))
      (last-is-vienna)
      (not (last-is-prague))
      (not (last-is-porto))
      (not (current-count-vienna ?nv))
      (current-count-vienna ?nv2)
    )
  )

  (:action assign-final-vienna-from-porto
    :parameters (?d - day ?nv - num ?nv2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-porto)
      (direct porto vienna)
      (not (workshop-day ?d))
      (current-count-vienna ?nv)
      (next-num ?nv ?nv2)
    )
    :effect (and
      (assigned ?d)
      (at ?d vienna)
      (not (current ?d))
      (last-is-vienna)
      (not (last-is-prague))
      (not (last-is-porto))
      (not (current-count-vienna ?nv))
      (current-count-vienna ?nv2)
    )
  )

  (:action assign-final-porto-from-prague
    :parameters (?d - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-prague)
      (direct prague porto)
      (not (workshop-day ?d))
      (current-count-porto ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d porto)
      (not (current ?d))
      (last-is-porto)
      (not (last-is-prague))
      (not (last-is-vienna))
      (not (current-count-porto ?np))
      (current-count-porto ?np2)
    )
  )

  (:action assign-final-porto-from-vienna
    :parameters (?d - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-vienna)
      (direct vienna porto)
      (not (workshop-day ?d))
      (current-count-porto ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d porto)
      (not (current ?d))
      (last-is-porto)
      (not (last-is-prague))
      (not (last-is-vienna))
      (not (current-count-porto ?np))
      (current-count-porto ?np2)
    )
  )

  (:action assign-final-porto-from-porto
    :parameters (?d - day ?np - num ?np2 - num)
    :precondition (and
      (current ?d)
      (last-day ?d)
      (not (assigned ?d))
      (last-is-porto)
      (not (workshop-day ?d))
      (current-count-porto ?np)
      (next-num ?np ?np2)
    )
    :effect (and
      (assigned ?d)
      (at ?d porto)
      (not (current ?d))
      (last-is-porto)
      (not (last-is-prague))
      (not (last-is-vienna))
      (not (current-count-porto ?np))
      (current-count-porto ?np2)
    )
  )
)