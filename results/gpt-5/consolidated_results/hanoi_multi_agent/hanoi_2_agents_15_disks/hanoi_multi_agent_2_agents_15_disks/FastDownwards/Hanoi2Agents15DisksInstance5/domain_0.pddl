(define (domain hanoi-2agent-15)
  (:requirements :strips :typing :negative-preconditions)
  (:types
    agent disk peg step
  )
  (:predicates
    (on ?d - disk ?p - peg)
    (clear ?p - peg)
    (top ?d - disk ?p - peg)
    (peg ?p - peg)
    (smaller ?x - disk ?y - disk)
    (can-move ?a - agent ?d - disk)
    (current ?s - step)
    (next ?s1 - step ?s2 - step)
    (move-for ?s - step ?a - agent ?d - disk ?from - peg ?to - peg)
    (tops-for ?s - step ?tl - disk ?tm - disk ?tr - disk)
  )

  (:action move
    :parameters (?a - agent ?d - disk ?from - peg ?to - peg ?s - step ?s2 - step ?tl - disk ?tm - disk ?tr - disk)
    :precondition (and
      (can-move ?a ?d)
      (on ?d ?from)
      (top ?d ?from)
      (current ?s)
      (next ?s ?s2)
      (move-for ?s ?a ?d ?from ?to)
      (tops-for ?s2 ?tl ?tm ?tr)
    )
    :effect (and
      (not (on ?d ?from))
      (on ?d ?to)
      (not (current ?s))
      (current ?s2)
      (not (clear ?to))
      (not (top a left)) (not (top b left)) (not (top c left)) (not (top d left)) (not (top e left))
      (not (top f left)) (not (top g left)) (not (top h left)) (not (top i left)) (not (top j left))
      (not (top k left)) (not (top l left)) (not (top m left)) (not (top n left)) (not (top o left))
      (not (top a middle)) (not (top b middle)) (not (top c middle)) (not (top d middle)) (not (top e middle))
      (not (top f middle)) (not (top g middle)) (not (top h middle)) (not (top i middle)) (not (top j middle))
      (not (top k middle)) (not (top l middle)) (not (top m middle)) (not (top n middle)) (not (top o middle))
      (not (top a right)) (not (top b right)) (not (top c right)) (not (top d right)) (not (top e right))
      (not (top f right)) (not (top g right)) (not (top h right)) (not (top i right)) (not (top j right))
      (not (top k right)) (not (top l right)) (not (top m right)) (not (top n right)) (not (top o right))
      (top ?tl left)
      (top ?tm middle)
      (top ?tr right)
    )
  )
)