(define (problem hanoi_coop_20_instance)
  (:domain hanoi_coop_20)
  (:objects
    left middle right - peg
    a b c d e f g h i j k l m n o p q r s t - disk
    agent_1 agent_2 - agent
    s1 s2 s3 s4 s5 s6 - step
  )
  (:init
    ; typing facts as predicates
    (peg left) (peg middle) (peg right)
    (agent agent_1) (agent agent_2)
    (disk a) (disk b) (disk c) (disk d) (disk e) (disk f) (disk g) (disk h) (disk i) (disk j)
    (disk k) (disk l) (disk m) (disk n) (disk o) (disk p) (disk q) (disk r) (disk s) (disk t)

    ; size ordering (smaller than) A < B < ... < T
    (smaller a b) (smaller a c) (smaller a d) (smaller a e) (smaller a f) (smaller a g) (smaller a h) (smaller a i) (smaller a j) (smaller a k) (smaller a l) (smaller a m) (smaller a n) (smaller a o) (smaller a p) (smaller a q) (smaller a r) (smaller a s) (smaller a t)
    (smaller b c) (smaller b d) (smaller b e) (smaller b f) (smaller b g) (smaller b h) (smaller b i) (smaller b j) (smaller b k) (smaller b l) (smaller b m) (smaller b n) (smaller b o) (smaller b p) (smaller b q) (smaller b r) (smaller b s) (smaller b t)
    (smaller c d) (smaller c e) (smaller c f) (smaller c g) (smaller c h) (smaller c i) (smaller c j) (smaller c k) (smaller c l) (smaller c m) (smaller c n) (smaller c o) (smaller c p) (smaller c q) (smaller c r) (smaller c s) (smaller c t)
    (smaller d e) (smaller d f) (smaller d g) (smaller d h) (smaller d i) (smaller d j) (smaller d k) (smaller d l) (smaller d m) (smaller d n) (smaller d o) (smaller d p) (smaller d q) (smaller d r) (smaller d s) (smaller d t)
    (smaller e f) (smaller e g) (smaller e h) (smaller e i) (smaller e j) (smaller e k) (smaller e l) (smaller e m) (smaller e n) (smaller e o) (smaller e p) (smaller e q) (smaller e r) (smaller e s) (smaller e t)
    (smaller f g) (smaller f h) (smaller f i) (smaller f j) (smaller f k) (smaller f l) (smaller f m) (smaller f n) (smaller f o) (smaller f p) (smaller f q) (smaller f r) (smaller f s) (smaller f t)
    (smaller g h) (smaller g i) (smaller g j) (smaller g k) (smaller g l) (smaller g m) (smaller g n) (smaller g o) (smaller g p) (smaller g q) (smaller g r) (smaller g s) (smaller g t)
    (smaller h i) (smaller h j) (smaller h k) (smaller h l) (smaller h m) (smaller h n) (smaller h o) (smaller h p) (smaller h q) (smaller h r) (smaller h s) (smaller h t)
    (smaller i j) (smaller i k) (smaller i l) (smaller i m) (smaller i n) (smaller i o) (smaller i p) (smaller i q) (smaller i r) (smaller i s) (smaller i t)
    (smaller j k) (smaller j l) (smaller j m) (smaller j n) (smaller j o) (smaller j p) (smaller j q) (smaller j r) (smaller j s) (smaller j t)
    (smaller k l) (smaller k m) (smaller k n) (smaller k o) (smaller k p) (smaller k q) (smaller k r) (smaller k s) (smaller k t)
    (smaller l m) (smaller l n) (smaller l o) (smaller l p) (smaller l q) (smaller l r) (smaller l s) (smaller l t)
    (smaller m n) (smaller m o) (smaller m p) (smaller m q) (smaller m r) (smaller m s) (smaller m t)
    (smaller n o) (smaller n p) (smaller n q) (smaller n r) (smaller n s) (smaller n t)
    (smaller o p) (smaller o q) (smaller o r) (smaller o s) (smaller o t)
    (smaller p q) (smaller p r) (smaller p s) (smaller p t)
    (smaller q r) (smaller q s) (smaller q t)
    (smaller r s) (smaller r t)
    (smaller s t)

    ; placeable destinations: any disk to any peg
    (placeable a left) (placeable a middle) (placeable a right)
    (placeable b left) (placeable b middle) (placeable b right)
    (placeable c left) (placeable c middle) (placeable c right)
    (placeable d left) (placeable d middle) (placeable d right)
    (placeable e left) (placeable e middle) (placeable e right)
    (placeable f left) (placeable f middle) (placeable f right)
    (placeable g left) (placeable g middle) (placeable g right)
    (placeable h left) (placeable h middle) (placeable h right)
    (placeable i left) (placeable i middle) (placeable i right)
    (placeable j left) (placeable j middle) (placeable j right)
    (placeable k left) (placeable k middle) (placeable k right)
    (placeable l left) (placeable l middle) (placeable l right)
    (placeable m left) (placeable m middle) (placeable m right)
    (placeable n left) (placeable n middle) (placeable n right)
    (placeable o left) (placeable o middle) (placeable o right)
    (placeable p left) (placeable p middle) (placeable p right)
    (placeable q left) (placeable q middle) (placeable q right)
    (placeable r left) (placeable r middle) (placeable r right)
    (placeable s left) (placeable s middle) (placeable s right)
    (placeable t left) (placeable t middle) (placeable t right)

    ; placeable onto larger disks (mirrors smaller relations)
    (placeable a b) (placeable a c) (placeable a d) (placeable a e) (placeable a f) (placeable a g) (placeable a h) (placeable a i) (placeable a j) (placeable a k) (placeable a l) (placeable a m) (placeable a n) (placeable a o) (placeable a p) (placeable a q) (placeable a r) (placeable a s) (placeable a t)
    (placeable b c) (placeable b d) (placeable b e) (placeable b f) (placeable b g) (placeable b h) (placeable b i) (placeable b j) (placeable b k) (placeable b l) (placeable b m) (placeable b n) (placeable b o) (placeable b p) (placeable b q) (placeable b r) (placeable b s) (placeable b t)
    (placeable c d) (placeable c e) (placeable c f) (placeable c g) (placeable c h) (placeable c i) (placeable c j) (placeable c k) (placeable c l) (placeable c m) (placeable c n) (placeable c o) (placeable c p) (placeable c q) (placeable c r) (placeable c s) (placeable c t)
    (placeable d e) (placeable d f) (placeable d g) (placeable d h) (placeable d i) (placeable d j) (placeable d k) (placeable d l) (placeable d m) (placeable d n) (placeable d o) (placeable d p) (placeable d q) (placeable d r) (placeable d s) (placeable d t)
    (placeable e f) (placeable e g) (placeable e h) (placeable e i) (placeable e j) (placeable e k) (placeable e l) (placeable e m) (placeable e n) (placeable e o) (placeable e p) (placeable e q) (placeable e r) (placeable e s) (placeable e t)
    (placeable f g) (placeable f h) (placeable f i) (placeable f j) (placeable f k) (placeable f l) (placeable f m) (placeable f n) (placeable f o) (placeable f p) (placeable f q) (placeable f r) (placeable f s) (placeable f t)
    (placeable g h) (placeable g i) (placeable g j) (placeable g k) (placeable g l) (placeable g m) (placeable g n) (placeable g o) (placeable g p) (placeable g q) (placeable g r) (placeable g s) (placeable g t)
    (placeable h i) (placeable h j) (placeable h k) (placeable h l) (placeable h m) (placeable h n) (placeable h o) (placeable h p) (placeable h q) (placeable h r) (placeable h s) (placeable h t)
    (placeable i j) (placeable i k) (placeable i l) (placeable i m) (placeable i n) (placeable i o) (placeable i p) (placeable i q) (placeable i r) (placeable i s) (placeable i t)
    (placeable j k) (placeable j l) (placeable j m) (placeable j n) (placeable j o) (placeable j p) (placeable j q) (placeable j r) (placeable j s) (placeable j t)
    (placeable k l) (placeable k m) (placeable k n) (placeable k o) (placeable k p) (placeable k q) (placeable k r) (placeable k s) (placeable k t)
    (placeable l m) (placeable l n) (placeable l o) (placeable l p) (placeable l q) (placeable l r) (placeable l s) (placeable l t)
    (placeable m n) (placeable m o) (placeable m p) (placeable m q) (placeable m r) (placeable m s) (placeable m t)
    (placeable n o) (placeable n p) (placeable n q) (placeable n r) (placeable n s) (placeable n t)
    (placeable o p) (placeable o q) (placeable o r) (placeable o s) (placeable o t)
    (placeable p q) (placeable p r) (placeable p s) (placeable p t)
    (placeable q r) (placeable q s) (placeable q t)
    (placeable r s) (placeable r t)
    (placeable s t)

    ; capabilities
    (can-move agent_1 a) (can-move agent_1 b) (can-move agent_1 c) (can-move agent_1 d) (can-move agent_1 e)
    (can-move agent_1 f) (can-move agent_1 g) (can-move agent_1 h) (can-move agent_1 i) (can-move agent_1 j)
    (can-move agent_2 k) (can-move agent_2 l) (can-move agent_2 m) (can-move agent_2 n) (can-move agent_2 o)
    (can-move agent_2 p) (can-move agent_2 q) (can-move agent_2 r) (can-move agent_2 s) (can-move agent_2 t)

    ; initial stacking: top->bottom on left peg: A..T
    (on a b)
    (on b c)
    (on c d)
    (on d e)
    (on e f)
    (on f g)
    (on g h)
    (on h i)
    (on i j)
    (on j k)
    (on k l)
    (on l m)
    (on m n)
    (on n o)
    (on o p)
    (on p q)
    (on q r)
    (on r s)
    (on s t)
    (on t left)
    (on-peg t left)

    ; clear supports at start
    (clear a)
    (clear middle)
    (clear right)

    ; peg/disks' peg-belonging
    (belongs left left)
    (belongs middle middle)
    (belongs right right)
    (belongs a left)
    (belongs b left)
    (belongs c left)
    (belongs d left)
    (belongs e left)
    (belongs f left)
    (belongs g left)
    (belongs h left)
    (belongs i left)
    (belongs j left)
    (belongs k left)
    (belongs l left)
    (belongs m left)
    (belongs n left)
    (belongs o left)
    (belongs p left)
    (belongs q left)
    (belongs r left)
    (belongs s left)
    (belongs t left)

    ; ordered sequence control
    (step s1) (step s2) (step s3) (step s4) (step s5) (step s6)
    (current s1)
    (next s1 s2)
    (next s2 s3)
    (next s3 s4)
    (next s4 s5)
    (next s5 s6)

    ; enforced move sequence (agents, disks, source and destination pegs)
    ; 1) agent_1: move disk A from left to middle
    (req-agent s1 agent_1)
    (req-disk s1 a)
    (req-from s1 left)
    (req-to s1 middle)

    ; 2) agent_1: move disk B from left to right
    (req-agent s2 agent_1)
    (req-disk s2 b)
    (req-from s2 left)
    (req-to s2 right)

    ; 3) agent_1: move disk A from middle to right
    (req-agent s3 agent_1)
    (req-disk s3 a)
    (req-from s3 middle)
    (req-to s3 right)

    ; 4) agent_1: move disk C from left to middle
    (req-agent s4 agent_1)
    (req-disk s4 c)
    (req-from s4 left)
    (req-to s4 middle)

    ; 5) agent_1: move disk A from right to left
    (req-agent s5 agent_1)
    (req-disk s5 a)
    (req-from s5 right)
    (req-to s5 left)
  )

  (:goal (and
    ; left peg has A on top of D..T in order
    (on a d)
    (on d e)
    (on e f)
    (on f g)
    (on g h)
    (on h i)
    (on i j)
    (on j k)
    (on k l)
    (on l m)
    (on m n)
    (on n o)
    (on o p)
    (on p q)
    (on q r)
    (on r s)
    (on s t)
    (on t left)
    (clear a)

    ; middle peg has C alone
    (on c middle)
    (clear c)

    ; right peg has B alone
    (on b right)
    (clear b)

    ; ensure the ordered sequence of the 5 moves has been completed
    (current s6)
  ))
)