(define (problem trip-14days-instance)
  (:domain trip-14days)
  (:objects
    d1 d2 d3 d4 d5 d6 d7 d8 d9 d10 d11 d12 d13 d14 - day
    amsterdam istanbul santorini - city
    a1 a2 a3 a4 a5 a6 a7 - amtoken
  )
  (:init
    (current d1)
    (is-first d1)
    (next d1 d2)
    (next d2 d3)
    (next d3 d4)
    (next d4 d5)
    (next d5 d6)
    (next d6 d7)
    (next d7 d8)
    (next d8 d9)
    (next d9 d10)
    (next d10 d11)
    (next d11 d12)
    (next d12 d13)
    (next d13 d14)

    (direct amsterdam istanbul)
    (direct istanbul amsterdam)
    (direct amsterdam santorini)
    (direct santorini amsterdam)

    ; Allowed cities per day (enforces Santorini on days 12-14 and connectivity)
    (allowed d1 amsterdam)

    (allowed d2 amsterdam)
    (allowed d2 istanbul)
    (allowed d3 amsterdam)
    (allowed d3 istanbul)
    (allowed d4 amsterdam)
    (allowed d4 istanbul)
    (allowed d5 amsterdam)
    (allowed d5 istanbul)
    (allowed d6 amsterdam)
    (allowed d6 istanbul)
    (allowed d7 amsterdam)
    (allowed d7 istanbul)
    (allowed d8 amsterdam)
    (allowed d8 istanbul)
    (allowed d9 amsterdam)
    (allowed d9 istanbul)
    (allowed d10 amsterdam)
    (allowed d10 istanbul)

    (allowed d11 amsterdam)

    (allowed d12 santorini)
    (allowed d13 santorini)
    (allowed d14 santorini)

    (free a1)
    (free a2)
    (free a3)
    (free a4)
    (free a5)
    (free a6)
    (free a7)
  )
  (:goal (and
    (assigned d1)
    (assigned d2)
    (assigned d3)
    (assigned d4)
    (assigned d5)
    (assigned d6)
    (assigned d7)
    (assigned d8)
    (assigned d9)
    (assigned d10)
    (assigned d11)
    (assigned d12)
    (assigned d13)
    (assigned d14)

    ; Exactly 7 Amsterdam days via token consumption
    (not (free a1))
    (not (free a2))
    (not (free a3))
    (not (free a4))
    (not (free a5))
    (not (free a6))
    (not (free a7))
  ))
)