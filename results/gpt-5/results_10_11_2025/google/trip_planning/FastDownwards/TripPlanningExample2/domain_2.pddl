(define (domain trip-planning)
  (:requirements :strips :typing :negative-preconditions)
  (:types city day token)
  (:predicates
    (at ?d - day ?c - city)
    (filled ?d - day)
    (next ?d - day ?d2 - day)
    (connected ?c1 - city ?c2 - city)
    (window ?d - day)
    (city-venice ?c - city)
    (token-city ?t - token ?c - city)
    (available ?t - token)
    (used ?t - token)
    (wedding-ok)
  )
  (:action stay-other
    :parameters (?d - day ?d2 - day ?c - city ?t - token)
    :precondition (and
      (next ?d ?d2)
      (filled ?d)
      (not (filled ?d2))
      (at ?d ?c)
      (not (city-venice ?c))
      (token-city ?t ?c)
      (available ?t)
    )
    :effect (and
      (at ?d2 ?c)
      (filled ?d2)
      (used ?t)
      (not (available ?t))
    )
  )
  (:action stay-venice-window
    :parameters (?d - day ?d2 - day ?v - city ?t - token)
    :precondition (and
      (next ?d ?d2)
      (filled ?d)
      (not (filled ?d2))
      (at ?d ?v)
      (city-venice ?v)
      (window ?d2)
      (token-city ?t ?v)
      (available ?t)
    )
    :effect (and
      (at ?d2 ?v)
      (filled ?d2)
      (used ?t)
      (not (available ?t))
      (wedding-ok)
    )
  )
  (:action stay-venice-nonwindow
    :parameters (?d - day ?d2 - day ?v - city ?t - token)
    :precondition (and
      (next ?d ?d2)
      (filled ?d)
      (not (filled ?d2))
      (at ?d ?v)
      (city-venice ?v)
      (not (window ?d2))
      (token-city ?t ?v)
      (available ?t)
    )
    :effect (and
      (at ?d2 ?v)
      (filled ?d2)
      (used ?t)
      (not (available ?t))
    )
  )
  (:action move-other
    :parameters (?d - day ?d2 - day ?from - city ?to - city ?t - token)
    :precondition (and
      (next ?d ?d2)
      (filled ?d)
      (not (filled ?d2))
      (at ?d ?from)
      (connected ?from ?to)
      (not (city-venice ?to))
      (token-city ?t ?to)
      (available ?t)
    )
    :effect (and
      (at ?d2 ?to)
      (filled ?d2)
      (used ?t)
      (not (available ?t))
    )
  )
  (:action move-venice-window
    :parameters (?d - day ?d2 - day ?from - city ?v - city ?t - token)
    :precondition (and
      (next ?d ?d2)
      (filled ?d)
      (not (filled ?d2))
      (at ?d ?from)
      (city-venice ?v)
      (connected ?from ?v)
      (window ?d2)
      (token-city ?t ?v)
      (available ?t)
    )
    :effect (and
      (at ?d2 ?v)
      (filled ?d2)
      (used ?t)
      (not (available ?t))
      (wedding-ok)
    )
  )
  (:action move-venice-nonwindow
    :parameters (?d - day ?d2 - day ?from - city ?v - city ?t - token)
    :precondition (and
      (next ?d ?d2)
      (filled ?d)
      (not (filled ?d2))
      (at ?d ?from)
      (city-venice ?v)
      (connected ?from ?v)
      (not (window ?d2))
      (token-city ?t ?v)
      (available ?t)
    )
    :effect (and
      (at ?d2 ?v)
      (filled ?d2)
      (used ?t)
      (not (available ?t))
    )
  )
)