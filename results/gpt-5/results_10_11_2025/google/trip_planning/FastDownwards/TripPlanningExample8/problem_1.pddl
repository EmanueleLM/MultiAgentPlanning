(define (problem trip16-verified)
  (:domain trip-16days)
  (:objects
    day1 day2 day3 day4 day5 day6 day7 day8 day9 day10 day11 day12 day13 day14 day15 day16 - day
    athens zurich krakow - city
  )
  (:init
    ; Connectivity graph (only direct flights allowed)
    (edge athens zurich)
    (edge zurich athens)
    (edge zurich krakow)
    (edge krakow zurich)
    ; No Athens <-> Krakow edge (forbidden)

    ; Day order and adjacency
    (first day1)
    (next day1 day2) (prev day2 day1)
    (next day2 day3) (prev day3 day2)
    (next day3 day4) (prev day4 day3)
    (next day4 day5) (prev day5 day4)
    (next day5 day6) (prev day6 day5)
    (next day6 day7) (prev day7 day6)
    (next day7 day8) (prev day8 day7)
    (next day8 day9) (prev day9 day8)
    (next day9 day10) (prev day10 day9)
    (next day10 day11) (prev day11 day10)
    (next day11 day12) (prev day12 day11)
    (next day12 day13) (prev day13 day12)
    (next day13 day14) (prev day14 day13)
    (next day14 day15) (prev day15 day14)
    (next day15 day16) (prev day16 day15)

    ; Mandatory stays per the hard constraint and auditor's resolution:
    ; - Days 1..7 in Athens (hard, visit relatives within 1..7)
    (must day1 athens)
    (must day2 athens)
    (must day3 athens)
    (must day4 athens)
    (must day5 athens)
    (must day6 athens)
    (must day7 athens)

    ; - Preferences reconciled to total 16 days:
    ;   Desired totals: Athens=7, Krakow=6, Zurich=5 (sum=18 > 16).
    ;   Auditorâ€™s resolution: Keep Athens=7 and Krakow=6; reduce Zurich to 3.
    ;   Encode this as must-assignments below.
    (must day8 zurich)
    (must day9 zurich)
    (must day10 zurich)
    (must day11 krakow)
    (must day12 krakow)
    (must day13 krakow)
    (must day14 krakow)
    (must day15 krakow)
    (must day16 krakow)
  )

  (:goal (and
    ; Each day must be assigned exactly once (enforced by action preconditions)
    (assigned day1)
    (assigned day2)
    (assigned day3)
    (assigned day4)
    (assigned day5)
    (assigned day6)
    (assigned day7)
    (assigned day8)
    (assigned day9)
    (assigned day10)
    (assigned day11)
    (assigned day12)
    (assigned day13)
    (assigned day14)
    (assigned day15)
    (assigned day16)

    ; Validate every consecutive transition in order (stay or allowed direct flight only)
    (linked day1)
    (linked day2)
    (linked day3)
    (linked day4)
    (linked day5)
    (linked day6)
    (linked day7)
    (linked day8)
    (linked day9)
    (linked day10)
    (linked day11)
    (linked day12)
    (linked day13)
    (linked day14)
    (linked day15)
  ))
)