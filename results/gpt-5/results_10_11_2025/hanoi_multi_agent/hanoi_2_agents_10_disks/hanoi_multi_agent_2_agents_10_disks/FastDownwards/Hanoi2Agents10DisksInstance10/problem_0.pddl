(define (problem hanoi-ordered-10)
  (:domain hanoi-ordered)
  (:objects
    left middle right - peg
    a b c d e f g h i j - disk
    s01 s02 s03 s04 s05 s06 s07 s08 s09 s10 s11 s12 s13 s14 s15 s16 s17 s18 s19 s20 s21 s22 s23 s24 s25 - step
  )
  (:init
    ; initial tower on left (top to bottom: a..j)
    (on a b)
    (on b c)
    (on c d)
    (on d e)
    (on e f)
    (on f g)
    (on g h)
    (on h i)
    (on i j)
    (on j left)

    (clear a)
    (clear middle)
    (clear right)

    (topdisk left a)

    ; full smaller-than ordering (A < ... < J)
    (smaller a b) (smaller a c) (smaller a d) (smaller a e) (smaller a f) (smaller a g) (smaller a h) (smaller a i) (smaller a j)
    (smaller b c) (smaller b d) (smaller b e) (smaller b f) (smaller b g) (smaller b h) (smaller b i) (smaller b j)
    (smaller c d) (smaller c e) (smaller c f) (smaller c g) (smaller c h) (smaller c i) (smaller c j)
    (smaller d e) (smaller d f) (smaller d g) (smaller d h) (smaller d i) (smaller d j)
    (smaller e f) (smaller e g) (smaller e h) (smaller e i) (smaller e j)
    (smaller f g) (smaller f h) (smaller f i) (smaller f j)
    (smaller g h) (smaller g i) (smaller g j)
    (smaller h i) (smaller h j)
    (smaller i j)

    ; static fit relations (size legality)
    ; any disk fits on any peg
    (fits a left) (fits a middle) (fits a right)
    (fits b left) (fits b middle) (fits b right)
    (fits c left) (fits c middle) (fits c right)
    (fits d left) (fits d middle) (fits d right)
    (fits e left) (fits e middle) (fits e right)
    (fits f left) (fits f middle) (fits f right)
    (fits g left) (fits g middle) (fits g right)
    (fits h left) (fits h middle) (fits h right)
    (fits i left) (fits i middle) (fits i right)
    (fits j left) (fits j middle) (fits j right)
    ; a disk fits on a larger disk
    (fits a b) (fits a c) (fits a d) (fits a e) (fits a f) (fits a g) (fits a h) (fits a i) (fits a j)
    (fits b c) (fits b d) (fits b e) (fits b f) (fits b g) (fits b h) (fits b i) (fits b j)
    (fits c d) (fits c e) (fits c f) (fits c g) (fits c h) (fits c i) (fits c j)
    (fits d e) (fits d f) (fits d g) (fits d h) (fits d i) (fits d j)
    (fits e f) (fits e g) (fits e h) (fits e i) (fits e j)
    (fits f g) (fits f h) (fits f i) (fits f j)
    (fits g h) (fits g i) (fits g j)
    (fits h i) (fits h j)
    (fits i j)

    ; step order and required moves (must follow exactly in order)
    (current s01)
    (next s01 s02) (next s02 s03) (next s03 s04) (next s04 s05) (next s05 s06) (next s06 s07)
    (next s07 s08) (next s08 s09) (next s09 s10) (next s10 s11) (next s11 s12) (next s12 s13)
    (next s13 s14) (next s14 s15) (next s15 s16) (next s16 s17) (next s17 s18) (next s18 s19)
    (next s19 s20) (next s20 s21) (next s21 s22) (next s22 s23) (next s23 s24) (next s24 s25)

    (must s01 a left right)
    (must s02 b left middle)
    (must s03 a right middle)
    (must s04 c left right)
    (must s05 a middle left)
    (must s06 b middle right)
    (must s07 a left right)
    (must s08 d left middle)
    (must s09 a right middle)
    (must s10 b right left)
    (must s11 a middle left)
    (must s12 c right middle)
    (must s13 a left right)
    (must s14 b left middle)
    (must s15 a right middle)
    (must s16 e left right)
    (must s17 a middle right)
    (must s18 b middle left)
    (must s19 a right left)
    (must s20 c middle right)
    (must s21 a left middle)
    (must s22 b left right)
    (must s23 a middle right)
    (must s24 d middle left)
  )
  (:goal
    (and
      ; enforce completion of the ordered sequence
      (current s25)
      ; final configuration:
      ; right stack (top to bottom: a b c e)
      (on a b)
      (on b c)
      (on c e)
      (on e right)
      (topdisk right a)
      (clear a)
      ; left stack (top to bottom: d f g h i j)
      (on d f)
      (on f g)
      (on g h)
      (on h i)
      (on i j)
      (on j left)
      (topdisk left d)
      ; middle empty
      (clear middle)
    )
  )
)