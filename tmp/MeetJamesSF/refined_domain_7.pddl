(define (domain integrated-meeting-fd)
    (:requirements :strips :typing :negative-preconditions :equality)
    (:types person location timepoint)
    (:predicates
        (at ?person - person ?loc - location)
        (met ?person1 - person ?person2 - person)
        (at-time ?t - timepoint)
        (next-time ?t1 ?t2 - timepoint)
        (can-meet ?person1 - person ?person2 - person)
        (ready-to-meet ?person1 - person ?person2 - person)
        (meet-slot ?slot - timepoint)
        (has-travelled ?person - person ?from ?to - location)
    )
    (:action travel
        :parameters (?person - person ?from ?to - location ?t1 ?t2 - timepoint ?t3 ?t4 - timepoint)
        :precondition (and (at ?person ?from) (at-time ?t1) (next-time ?t1 ?t2) (next-time ?t2 ?t3) (next-time ?t3 ?t4))
        :effect (and (at ?person ?to) (not (at ?person ?from)) (not (at-time ?t1)) (not (at-time ?t2)) (not (at-time ?t3)) (at-time ?t4) (has-travelled ?person ?from ?to))
    )
    (:action wait
        :parameters (?person - person ?loc - location ?t1 ?t2 - timepoint)
        :precondition (and (at ?person ?loc) (at-time ?t1) (next-time ?t1 ?t2))
        :effect (and (at ?person ?loc) (not (at-time ?t1)) (at-time ?t2))
    )
    (:action prepare-to-meet
        :parameters (?person1 - person ?person2 - person ?loc - location ?t - timepoint)
        :precondition (and
            (at ?person1 ?loc)
            (at ?person2 ?loc)
            (at-time ?t)
            (can-meet ?person1 ?person2)
            (meet-slot ?t)
        )
        :effect (ready-to-meet ?person1 ?person2)
    )
    (:action confirm-meet
        :parameters (?person1 - person ?person2 - person ?t - timepoint)
        :precondition (and (ready-to-meet ?person1 ?person2) (at-time ?t) (meet-slot ?t))
        :effect (met ?person1 ?person2)
    )
)