(define (domain combined-meet)
  (:requirements :strips :typing :negative-preconditions :equality :fluents)
  (:types location time)
  (:predicates
    (at ?l - location)
    (now ?t - time)
    (john-at ?t - time ?l - location)
    (trans-travel ?t1 - time ?t2 - time)
    (wait-to ?t1 - time ?t2 - time)
    (meet-slot ?t1 - time ?t2 - time)
    (met)
  )
  (:functions (total-cost))
  (:action traveler-travel
    :parameters (?from - location ?to - location ?t1 - time ?t2 - time)
    :precondition (and (at ?from) (now ?t1) (trans-travel ?t1 ?t2) (not (at ?to)))
    :effect (and
      (not (at ?from))
      (at ?to)
      (not (now ?t1))
      (now ?t2)
      (increase (total-cost) 23)
    )
  )
  (:action traveler-wait
    :parameters (?t1 - time ?t2 - time)
    :precondition (and (now ?t1) (wait-to ?t1 ?t2))
    :effect (and
      (not (now ?t1))
      (now ?t2)
      (increase (total-cost) 0)
    )
  )
  (:action traveler-meet-with-john
    :parameters (?loc - location ?t1 - time ?t2 - time)
    :precondition (and (at ?loc) (now ?t1) (john-at ?t1 ?loc) (meet-slot ?t1 ?t2))
    :effect (and
      (met)
      (not (now ?t1))
      (now ?t2)
      (increase (total-cost) 0)
    )
  )
  (:action agent2-travel
    :parameters (?from - location ?to - location ?t1 - time ?t2 - time)
    :precondition (and (at ?from) (now ?t1) (trans-travel ?t1 ?t2) (not (at ?to)))
    :effect (and
      (not (at ?from))
      (at ?to)
      (not (now ?t1))
      (now ?t2)
      (increase (total-cost) 23)
    )
  )
  (:action agent2-wait
    :parameters (?t1 - time ?t2 - time)
    :precondition (and (now ?t1) (wait-to ?t1 ?t2))
    :effect (and
      (not (now ?t1))
      (now ?t2)
      (increase (total-cost) 0)
    )
  )
  (:action agent2-meet
    :parameters (?loc - location ?t1 - time ?t2 - time)
    :precondition (and (at ?loc) (now ?t1) (john-at ?t1 ?loc) (meet-slot ?t1 ?t2))
    :effect (and
      (met)
      (not (now ?t1))
      (now ?t2)
      (increase (total-cost) 0)
    )
  )
)