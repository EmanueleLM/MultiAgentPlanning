(define (domain combined-trip-domain)
  (:requirements :strips :typing :negative-preconditions :equality)
  (:types city day sf sb sh)
  (:predicates
    (at ?c - city)
    (link ?from - city ?to - city)
    (visited ?c - city)
    (met)
    (current-day ?d - day)
    (next-day ?d1 - day ?d2 - day)
    (spent-florence ?s - sf)
    (next-sf ?s1 - sf ?s2 - sf)
    (spent-barcelona ?s - sb)
    (next-sb ?s1 - sb ?s2 - sb)
    (spent-helsinki ?s - sh)
    (next-sh ?s1 - sh ?s2 - sh)
    (window9to14 ?d - day)
  )
  (:action traveler-stay-florence
    :parameters (?d1 - day ?d2 - day ?s1 - sf ?s2 - sf)
    :precondition (and (at florence) (current-day ?d1) (next-day ?d1 ?d2) (spent-florence ?s1) (next-sf ?s1 ?s2))
    :effect (and (not (current-day ?d1)) (current-day ?d2) (not (spent-florence ?s1)) (spent-florence ?s2))
  )
  (:action traveler-stay-barcelona
    :parameters (?d1 - day ?d2 - day ?s1 - sb ?s2 - sb)
    :precondition (and (at barcelona) (current-day ?d1) (next-day ?d1 ?d2) (spent-barcelona ?s1) (next-sb ?s1 ?s2))
    :effect (and (not (current-day ?d1)) (current-day ?d2) (not (spent-barcelona ?s1)) (spent-barcelona ?s2))
  )
  (:action traveler-stay-helsinki
    :parameters (?d1 - day ?d2 - day ?s1 - sh ?s2 - sh)
    :precondition (and (at helsinki) (current-day ?d1) (next-day ?d1 ?d2) (spent-helsinki ?s1) (next-sh ?s1 ?s2))
    :effect (and (not (current-day ?d1)) (current-day ?d2) (not (spent-helsinki ?s1)) (spent-helsinki ?s2))
  )
  (:action traveler-meet-in-florence
    :parameters (?d - day)
    :precondition (and (at florence) (current-day ?d) (window9to14 ?d) (not (met)))
    :effect (and (met))
  )
  (:action flight-fly
    :parameters (?from - city ?to - city ?d1 - day ?d2 - day)
    :precondition (and (at ?from) (link ?from ?to) (current-day ?d1) (next-day ?d1 ?d2))
    :effect (and (not (at ?from)) (at ?to) (visited ?to) (not (current-day ?d1)) (current-day ?d2))
  )
)